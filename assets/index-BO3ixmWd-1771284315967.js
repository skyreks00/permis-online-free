(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var v4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jd={exports:{}},bl={};var e_;function pS(){if(e_)return bl;e_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return bl.Fragment=e,bl.jsx=n,bl.jsxs=n,bl}var t_;function gS(){return t_||(t_=1,jd.exports=pS()),jd.exports}var w=gS(),Bd={exports:{}},xe={};var n_;function yS(){if(n_)return xe;n_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),R=Symbol.iterator;function L(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,j={};function te(D,q,ie){this.props=D,this.context=q,this.refs=j,this.updater=ie||Y}te.prototype.isReactComponent={},te.prototype.setState=function(D,q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,q,"setState")},te.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ee(){}ee.prototype=te.prototype;function re(D,q,ie){this.props=D,this.context=q,this.refs=j,this.updater=ie||Y}var oe=re.prototype=new ee;oe.constructor=re,$(oe,te.prototype),oe.isPureReactComponent=!0;var ue=Array.isArray;function he(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(D,q,ie){var ce=ie.ref;return{$$typeof:r,type:D,key:q,ref:ce!==void 0?ce:null,props:ie}}function M(D,q){return C(D.type,q,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ie){return q[ie]})}var I=/\/+/g;function Me(D,q){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):q.toString(36)}function Be(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(he,he):(D.status="pending",D.then(function(q){D.status==="pending"&&(D.status="fulfilled",D.value=q)},function(q){D.status==="pending"&&(D.status="rejected",D.reason=q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,q,ie,ce,ge){var Te=typeof D;(Te==="undefined"||Te==="boolean")&&(D=null);var Oe=!1;if(D===null)Oe=!0;else switch(Te){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(D.$$typeof){case r:case e:Oe=!0;break;case E:return Oe=D._init,z(Oe(D._payload),q,ie,ce,ge)}}if(Oe)return ge=ge(D),Oe=ce===""?"."+Me(D,0):ce,ue(ge)?(ie="",Oe!=null&&(ie=Oe.replace(I,"$&/")+"/"),z(ge,q,ie,"",function(ji){return ji})):ge!=null&&(O(ge)&&(ge=M(ge,ie+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(I,"$&/")+"/")+Oe)),q.push(ge)),1;Oe=0;var ft=ce===""?".":ce+":";if(ue(D))for(var st=0;st<D.length;st++)ce=D[st],Te=ft+Me(ce,st),Oe+=z(ce,q,ie,Te,ge);else if(st=L(D),typeof st=="function")for(D=st.call(D),st=0;!(ce=D.next()).done;)ce=ce.value,Te=ft+Me(ce,st++),Oe+=z(ce,q,ie,Te,ge);else if(Te==="object"){if(typeof D.then=="function")return z(Be(D),q,ie,ce,ge);throw q=String(D),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function se(D,q,ie){if(D==null)return D;var ce=[],ge=0;return z(D,ce,"","",function(Te){return q.call(ie,Te,ge++)}),ce}function J(D){if(D._status===-1){var q=D._result;q=q(),q.then(function(ie){(D._status===0||D._status===-1)&&(D._status=1,D._result=ie)},function(ie){(D._status===0||D._status===-1)&&(D._status=2,D._result=ie)}),D._status===-1&&(D._status=0,D._result=q)}if(D._status===1)return D._result.default;throw D._result}var fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},_e={map:se,forEach:function(D,q,ie){se(D,function(){q.apply(this,arguments)},ie)},count:function(D){var q=0;return se(D,function(){q++}),q},toArray:function(D){return se(D,function(q){return q})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return xe.Activity=b,xe.Children=_e,xe.Component=te,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=re,xe.StrictMode=s,xe.Suspense=y,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,xe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return x.H.useMemoCache(D)}},xe.cache=function(D){return function(){return D.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(D,q,ie){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ce=$({},D.props),ge=D.key;if(q!=null)for(Te in q.key!==void 0&&(ge=""+q.key),q)!A.call(q,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&q.ref===void 0||(ce[Te]=q[Te]);var Te=arguments.length-2;if(Te===1)ce.children=ie;else if(1<Te){for(var Oe=Array(Te),ft=0;ft<Te;ft++)Oe[ft]=arguments[ft+2];ce.children=Oe}return C(D.type,ge,ce)},xe.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},xe.createElement=function(D,q,ie){var ce,ge={},Te=null;if(q!=null)for(ce in q.key!==void 0&&(Te=""+q.key),q)A.call(q,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ge[ce]=q[ce]);var Oe=arguments.length-2;if(Oe===1)ge.children=ie;else if(1<Oe){for(var ft=Array(Oe),st=0;st<Oe;st++)ft[st]=arguments[st+2];ge.children=ft}if(D&&D.defaultProps)for(ce in Oe=D.defaultProps,Oe)ge[ce]===void 0&&(ge[ce]=Oe[ce]);return C(D,Te,ge)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(D){return{$$typeof:m,render:D}},xe.isValidElement=O,xe.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:J}},xe.memo=function(D,q){return{$$typeof:g,type:D,compare:q===void 0?null:q}},xe.startTransition=function(D){var q=x.T,ie={};x.T=ie;try{var ce=D(),ge=x.S;ge!==null&&ge(ie,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(he,fe)}catch(Te){fe(Te)}finally{q!==null&&ie.types!==null&&(q.types=ie.types),x.T=q}},xe.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},xe.use=function(D){return x.H.use(D)},xe.useActionState=function(D,q,ie){return x.H.useActionState(D,q,ie)},xe.useCallback=function(D,q){return x.H.useCallback(D,q)},xe.useContext=function(D){return x.H.useContext(D)},xe.useDebugValue=function(){},xe.useDeferredValue=function(D,q){return x.H.useDeferredValue(D,q)},xe.useEffect=function(D,q){return x.H.useEffect(D,q)},xe.useEffectEvent=function(D){return x.H.useEffectEvent(D)},xe.useId=function(){return x.H.useId()},xe.useImperativeHandle=function(D,q,ie){return x.H.useImperativeHandle(D,q,ie)},xe.useInsertionEffect=function(D,q){return x.H.useInsertionEffect(D,q)},xe.useLayoutEffect=function(D,q){return x.H.useLayoutEffect(D,q)},xe.useMemo=function(D,q){return x.H.useMemo(D,q)},xe.useOptimistic=function(D,q){return x.H.useOptimistic(D,q)},xe.useReducer=function(D,q,ie){return x.H.useReducer(D,q,ie)},xe.useRef=function(D){return x.H.useRef(D)},xe.useState=function(D){return x.H.useState(D)},xe.useSyncExternalStore=function(D,q,ie){return x.H.useSyncExternalStore(D,q,ie)},xe.useTransition=function(){return x.H.useTransition()},xe.version="19.2.4",xe}var i_;function Pm(){return i_||(i_=1,Bd.exports=yS()),Bd.exports}var U=Pm();const qd=mS(U);var Hd={exports:{}},Tl={},Fd={exports:{}},Gd={};var r_;function vS(){return r_||(r_=1,(function(r){function e(z,se){var J=z.length;z.push(se);e:for(;0<J;){var fe=J-1>>>1,_e=z[fe];if(0<o(_e,se))z[fe]=se,z[J]=_e,J=fe;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var se=z[0],J=z.pop();if(J!==se){z[0]=J;e:for(var fe=0,_e=z.length,D=_e>>>1;fe<D;){var q=2*(fe+1)-1,ie=z[q],ce=q+1,ge=z[ce];if(0>o(ie,J))ce<_e&&0>o(ge,ie)?(z[fe]=ge,z[ce]=J,fe=ce):(z[fe]=ie,z[q]=J,fe=q);else if(ce<_e&&0>o(ge,J))z[fe]=ge,z[ce]=J,fe=ce;else break e}}return se}function o(z,se){var J=z.sortIndex-se.sortIndex;return J!==0?J:z.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],g=[],E=1,b=null,R=3,L=!1,Y=!1,$=!1,j=!1,te=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function oe(z){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=z)s(g),se.sortIndex=se.expirationTime,e(y,se);else break;se=n(g)}}function ue(z){if($=!1,oe(z),!Y)if(n(y)!==null)Y=!0,he||(he=!0,k());else{var se=n(g);se!==null&&Be(ue,se.startTime-z)}}var he=!1,x=-1,A=5,C=-1;function M(){return j?!0:!(r.unstable_now()-C<A)}function O(){if(j=!1,he){var z=r.unstable_now();C=z;var se=!0;try{e:{Y=!1,$&&($=!1,ee(x),x=-1),L=!0;var J=R;try{t:{for(oe(z),b=n(y);b!==null&&!(b.expirationTime>z&&M());){var fe=b.callback;if(typeof fe=="function"){b.callback=null,R=b.priorityLevel;var _e=fe(b.expirationTime<=z);if(z=r.unstable_now(),typeof _e=="function"){b.callback=_e,oe(z),se=!0;break t}b===n(y)&&s(y),oe(z)}else s(y);b=n(y)}if(b!==null)se=!0;else{var D=n(g);D!==null&&Be(ue,D.startTime-z),se=!1}}break e}finally{b=null,R=J,L=!1}se=void 0}}finally{se?k():he=!1}}}var k;if(typeof re=="function")k=function(){re(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Me=I.port2;I.port1.onmessage=O,k=function(){Me.postMessage(null)}}else k=function(){te(O,0)};function Be(z,se){x=te(function(){z(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(z){switch(R){case 1:case 2:case 3:var se=3;break;default:se=R}var J=R;R=se;try{return z()}finally{R=J}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(z,se){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=R;R=z;try{return se()}finally{R=J}},r.unstable_scheduleCallback=function(z,se,J){var fe=r.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?fe+J:fe):J=fe,z){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=J+_e,z={id:E++,callback:se,priorityLevel:z,startTime:J,expirationTime:_e,sortIndex:-1},J>fe?(z.sortIndex=J,e(g,z),n(y)===null&&z===n(g)&&($?(ee(x),x=-1):$=!0,Be(ue,J-fe))):(z.sortIndex=_e,e(y,z),Y||L||(Y=!0,he||(he=!0,k()))),z},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(z){var se=R;return function(){var J=R;R=se;try{return z.apply(this,arguments)}finally{R=J}}}})(Gd)),Gd}var s_;function _S(){return s_||(s_=1,Fd.exports=vS()),Fd.exports}var Qd={exports:{}},tn={};var a_;function ES(){if(a_)return tn;a_=1;var r=Pm();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,E)},tn.flushSync=function(y){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=E,s.d.f()}},tn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},tn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},tn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:L}):E==="script"&&s.d.X(y,{crossOrigin:b,integrity:R,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},tn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},tn.requestFormReset=function(y){s.d.r(y)},tn.unstable_batchedUpdates=function(y,g){return y(g)},tn.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var o_;function bS(){if(o_)return Qd.exports;o_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qd.exports=ES(),Qd.exports}var l_;function TS(){if(l_)return Tl;l_=1;var r=_S(),e=Pm(),n=bS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===l)return y(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),re=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case te:return"Profiler";case j:return"StrictMode";case ue:return"Suspense";case he:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case re:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Me(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Me(t(i))}catch{}}return null}var Be=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},fe=[],_e=-1;function D(t){return{current:t}}function q(t){0>_e||(t.current=fe[_e],fe[_e]=null,_e--)}function ie(t,i){_e++,fe[_e]=t.current,t.current=i}var ce=D(null),ge=D(null),Te=D(null),Oe=D(null);function ft(t,i){switch(ie(Te,i),ie(ge,t),ie(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Sv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Sv(i),t=wv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(ce),ie(ce,t)}function st(){q(ce),q(ge),q(Te)}function ji(t){t.memoizedState!==null&&ie(Oe,t);var i=ce.current,a=wv(i,t.type);i!==a&&(ie(ge,t),ie(ce,a))}function Se(t){ge.current===t&&(q(ce),q(ge)),Oe.current===t&&(q(Oe),yl._currentValue=J)}var Fe,at;function $e(t){if(Fe===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Fe=i&&i[1]||"",at=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+t+at}var Rt=!1;function Gt(t,i){if(!t||Rt)return"";Rt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var G=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){G=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){G=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var N=v.split(`
`),F=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===F.length)for(l=N.length-1,h=F.length-1;1<=l&&0<=h&&N[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==F[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Rt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?$e(a):""}function Bi(t,i){switch(t.tag){case 26:case 27:case 5:return $e(t.type);case 16:return $e("Lazy");case 13:return t.child!==i&&i!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return Gt(t.type,!1);case 11:return Gt(t.type.render,!1);case 1:return Gt(t.type,!0);case 31:return $e("Activity");default:return""}}function ds(t){try{var i="",a=null;do i+=Bi(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gt=Object.prototype.hasOwnProperty,Et=r.unstable_scheduleCallback,cn=r.unstable_cancelCallback,Bh=r.unstable_shouldYield,ou=r.unstable_requestPaint,on=r.unstable_now,ms=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,bo=r.unstable_UserBlockingPriority,vr=r.unstable_NormalPriority,qh=r.unstable_LowPriority,lu=r.unstable_IdlePriority,uu=r.log,cu=r.unstable_setDisableYieldValue,Fn=null,Qt=null;function Cn(t){if(typeof uu=="function"&&cu(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Fn,t)}catch{}}var bt=Math.clz32?Math.clz32:fu,hu=Math.log,aa=Math.LN2;function fu(t){return t>>>=0,t===0?32:31-(hu(t)/aa|0)|0}var li=256,ps=262144,xt=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ui(l):(v&=T,v!==0?h=ui(v):a||(a=T&~t,a!==0&&(h=ui(a))))):(T=l&~d,T!==0?h=ui(T):v!==0?h=ui(v):a||(a=l&~t,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Hh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fh(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-bt(a),W=1<<X;T[X]=0,N[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}a&=~W}l!==0&&ys(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ys(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-bt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function To(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-bt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function So(t,i){var a=i&-i;return a=(a&42)!==0?1:vs(a),(a&(t.suspendedLanes|i))!==0?0:a}function vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Kv(t.type))}function Qn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Kn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Kn,jt="__reactProps$"+Kn,fi="__reactContainer$"+Kn,oa="__reactEvents$"+Kn,Gh="__reactListeners$"+Kn,pu="__reactHandles$"+Kn,gu="__reactResources$"+Kn,di="__reactMarker$"+Kn;function la(t){delete t[Ct],delete t[jt],delete t[oa],delete t[Gh],delete t[pu]}function mi(t){var i=t[Ct];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[Ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Dv(t);t!==null;){if(a=t[Ct])return a;t=Dv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[Ct]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pi(t){var i=t[gu];return i||(i=t[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function It(t){t[di]=!0}var wo=new Set,Ao={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Ao[t]=i,t=0;t<i.length;t++)wo.add(i[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Co={};function yu(t){return gt.call(Co,t)?!0:gt.call(xo,t)?!1:Ro.test(t)?Co[t]=!0:(xo[t]=!0,!1)}function ua(t,i,a){if(yu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function En(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Nt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _r(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Io(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Je(t){if(!t._valueTracker){var i=_r(t)?"checked":"value";t._valueTracker=Io(t,i,""+t[i])}}function _s(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=_r(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Es=/[\n"\\]/g;function hn(t){return t.replace(Es,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Bt(i)):t.value!==""+Bt(i)&&(t.value=""+Bt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?No(t,v,Bt(i)):a!=null?No(t,v,Bt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Bt(T):t.removeAttribute("name")}function vu(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Je(t);return}a=a!=null?""+Bt(a):"",i=i!=null?""+Bt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Je(t)}function No(t,i,a){i==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function _u(t,i,a){if(i!=null&&(i=""+Bt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Bt(a):""}function br(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Be(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Bt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Je(t)}function fn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Eu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Oo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Do(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Do(t,d,i[d])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return Tr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Mo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,_i=null;function bs(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(s(90));ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&_s(l)}break e;case"textarea":_u(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var da=!1;function wr(t,i,a){if(da)return t(i,a);da=!0;try{var l=t(i);return l}finally{if(da=!1,(Sr!==null||_i!==null)&&(mc(),Sr&&(i=Sr,t=_i,_i=Sr=null,bs(i),t)))for(i=0;i<t.length;i++)bs(t[i])}}function $n(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Dn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ts=!1}var Ei=null,ko=null,Ss=null;function Vo(){if(Ss)return Ss;var t,i=ko,a=i.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ss=h.slice(t,1<l?1-l:void 0)}function ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function Xn(){return!1}function Kt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:Xn,this.isPropagationStopped=Xn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Kt(Fi),Ar=b({},Fi,{view:0,detail:0}),Lo=Kt(Ar),Rr,ma,Ti,pa=b({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Rr=t.screenX-Ti.screenX,ma=t.screenY-Ti.screenY):ma=Rr=0,Ti=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),Po=Kt(pa),As=b({},pa,{dataTransfer:0}),Tu=Kt(As),Su=b({},Ar,{relatedTarget:0}),Rs=Kt(Su),Uo=b({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=Kt(Uo),ga=b({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=Kt(ga),Ru=b({},Fi,{data:0}),Si=Kt(Ru),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Iu[t])?!!i[t]:!1}function xr(){return Nu}var ln=b({},Ar,{key:function(t){if(t.key){var i=xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Du=Kt(ln),Ou=b({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Kt(Ou),c=b({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),p=Kt(c),_=b({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Kt(_),B=b({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Kt(B),le=b({},Fi,{newState:0,oldState:0}),Ie=Kt(le),Tt=[9,13,27,32],Ke=Dn&&"CompositionEvent"in window,ct=null;Dn&&"documentMode"in document&&(ct=document.documentMode);var On=Dn&&"TextEvent"in window&&!ct,wi=Dn&&(!Ke||ct&&8<ct&&11>=ct),Jn=" ",Zn=!1;function xs(t,i){switch(t){case"keyup":return Tt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function U1(t,i){switch(t){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return t=i.data,t===Jn&&Zn?null:t;default:return null}}function z1(t,i){if(va)return t==="compositionend"||!Ke&&xs(t,i)?(t=Vo(),Ss=ko=Ei=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var j1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!j1[t.type]:i==="textarea"}function Vp(t,i,a,l){Sr?_i?_i.push(l):_i=[l]:Sr=l,i=bc(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zo=null,jo=null;function B1(t){yv(t,0)}function Mu(t){var i=_n(t);if(_s(i))return t}function Lp(t,i){if(t==="change")return i}var Pp=!1;if(Dn){var Qh;if(Dn){var Kh="oninput"in document;if(!Kh){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Kh=typeof Up.oninput=="function"}Qh=Kh}else Qh=!1;Pp=Qh&&(!document.documentMode||9<document.documentMode)}function zp(){zo&&(zo.detachEvent("onpropertychange",jp),jo=zo=null)}function jp(t){if(t.propertyName==="value"&&Mu(jo)){var i=[];Vp(i,jo,t,Nn(t)),wr(B1,i)}}function q1(t,i,a){t==="focusin"?(zp(),zo=i,jo=a,zo.attachEvent("onpropertychange",jp)):t==="focusout"&&zp()}function H1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(jo)}function F1(t,i){if(t==="click")return Mu(i)}function G1(t,i){if(t==="input"||t==="change")return Mu(i)}function Q1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:Q1;function Bo(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!gt.call(i,h)||!bn(t[h],i[h]))return!1}return!0}function Bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qp(t,i){var a=Bp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bp(a)}}function Hp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Hp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Fp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=vi(t.document)}return i}function Yh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var K1=Dn&&"documentMode"in document&&11>=document.documentMode,_a=null,$h=null,qo=null,Xh=!1;function Gp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||_a==null||_a!==vi(l)||(l=_a,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qo&&Bo(qo,l)||(qo=l,l=bc($h,"onSelect"),0<l.length&&(i=new bi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=_a)))}function Cs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ea={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Jh={},Qp={};Dn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Is(t){if(Jh[t])return Jh[t];if(!Ea[t])return t;var i=Ea[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qp)return Jh[t]=i[a];return t}var Kp=Is("animationend"),Yp=Is("animationiteration"),$p=Is("animationstart"),Y1=Is("transitionrun"),$1=Is("transitionstart"),X1=Is("transitioncancel"),Xp=Is("transitionend"),Jp=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Wn(t,i){Jp.set(t,i),gi(i,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],ba=0,Wh=0;function Vu(){for(var t=ba,i=Wh=ba=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Zp(a,h,d)}}function Lu(t,i,a,l){Mn[ba++]=t,Mn[ba++]=i,Mn[ba++]=a,Mn[ba++]=l,Wh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ef(t,i,a,l){return Lu(t,i,a,l),Pu(t)}function Ns(t,i){return Lu(t,null,null,i),Pu(t)}function Zp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-bt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Pu(t){if(50<cl)throw cl=0,cd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ta={};function J1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new J1(t,i,a,l)}function tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Uu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")tf(t)&&(v=1);else if(typeof t=="string")v=nS(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,a,i,h),t.elementType=C,t.lanes=d,t;case $:return Ds(a.children,h,d,i);case j:v=8,h|=24;break;case te:return t=Tn(12,a,i,h|2),t.elementType=te,t.lanes=d,t;case ue:return t=Tn(13,a,i,h),t.elementType=ue,t.lanes=d,t;case he:return t=Tn(19,a,i,h),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case ee:v=9;break e;case oe:v=11;break e;case x:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ds(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function nf(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function eg(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function rf(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var tg=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ds(i)},tg.set(t,i),i)}return{value:t,source:i,stack:ds(i)}}var Sa=[],wa=0,zu=null,Ho=0,Vn=[],Ln=0,Cr=null,Ai=1,Ri="";function Ki(t,i){Sa[wa++]=Ho,Sa[wa++]=zu,zu=t,Ho=i}function ng(t,i,a){Vn[Ln++]=Ai,Vn[Ln++]=Ri,Vn[Ln++]=Cr,Cr=t;var l=Ai;t=Ri;var h=32-bt(l)-1;l&=~(1<<h),a+=1;var d=32-bt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ai=1<<32-bt(i)+h|a<<h|l,Ri=d+t}else Ai=1<<d|a<<h|l,Ri=t}function sf(t){t.return!==null&&(Ki(t,1),ng(t,1,0))}function af(t){for(;t===zu;)zu=Sa[--wa],Sa[wa]=null,Ho=Sa[--wa],Sa[wa]=null;for(;t===Cr;)Cr=Vn[--Ln],Vn[Ln]=null,Ri=Vn[--Ln],Vn[Ln]=null,Ai=Vn[--Ln],Vn[Ln]=null}function ig(t,i){Vn[Ln++]=Ai,Vn[Ln++]=Ri,Vn[Ln++]=Cr,Ai=i.id,Ri=i.overflow,Cr=t}var Yt=null,ot=null,qe=!1,Ir=null,Pn=!1,of=Error(s(519));function Nr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(kn(i,t)),of}function rg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ct]=t,i[jt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<fl.length;a++)Ve(fl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),br(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||bv(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Nr(t,!0)}function sg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Yt=Yt.return}}function Aa(t){if(t!==Yt)return!1;if(!qe)return sg(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ad(t.type,t.memoizedProps)),a=!a),a&&ot&&Nr(t),sg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=Nv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=Nv(t)}else i===27?(i=ot,Fr(t.type)?(t=Nd,Nd=null,ot=t):ot=i):ot=Yt?zn(t.stateNode.nextSibling):null;return!0}function Os(){ot=Yt=null,qe=!1}function lf(){var t=Ir;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Ir=null),t}function Fo(t){Ir===null?Ir=[t]:Ir.push(t)}var uf=D(null),Ms=null,Yi=null;function Dr(t,i,a){ie(uf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=uf.current,q(uf)}function cf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function hf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),cf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),cf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ra(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;bn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Oe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(yl):t=[yl])}h=h.return}t!==null&&hf(i,t,a,l),i.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){Ms=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return ag(Ms,t)}function Bu(t,i){return Ms===null&&ks(t),ag(t,i)}function ag(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(s(308));Yi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Yi=Yi.next=i;return a}var Z1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},W1=r.unstable_scheduleCallback,eT=r.unstable_NormalPriority,Dt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new Z1,data:new Map,refCount:0}}function Go(t){t.refCount--,t.refCount===0&&W1(eT,function(){t.controller.abort()})}var Qo=null,df=0,xa=0,Ca=null;function tT(t,i){if(Qo===null){var a=Qo=[];df=0,xa=gd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return df++,i.then(og,og),i}function og(){if(--df===0&&Qo!==null){Ca!==null&&(Ca.status="fulfilled");var t=Qo;Qo=null,xa=0,Ca=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var lg=z.S;z.S=function(t,i){Gy=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tT(t,i),lg!==null&&lg(t,i)};var Vs=D(null);function mf(){var t=Vs.current;return t!==null?t:rt.pooledCache}function qu(t,i){i===null?ie(Vs,Vs.current):ie(Vs,i.pool)}function ug(){var t=mf();return t===null?null:{parent:Dt._currentValue,pool:t}}var Ia=Error(s(460)),pf=Error(s(474)),Hu=Error(s(542)),Fu={then:function(){}};function cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dg(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dg(t),t}throw Ps=i,Ia}}function Ls(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ps=a,Ia):a}}var Ps=null;function fg(){if(Ps===null)throw Error(s(459));var t=Ps;return Ps=null,t}function dg(t){if(t===Ia||t===Hu)throw Error(s(483))}var Na=null,Ko=0;function Gu(t){var i=Ko;return Ko+=1,Na===null&&(Na=[]),hg(Na,t,i)}function Yo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Qu(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function mg(t){function i(P,V){if(t){var H=P.deletions;H===null?(P.deletions=[V],P.flags|=16):H.push(V)}}function a(P,V){if(!t)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=Qi(P,V),P.index=0,P.sibling=null,P}function d(P,V,H){return P.index=H,t?(H=P.alternate,H!==null?(H=H.index,H<V?(P.flags|=67108866,V):H):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,V,H,Z){return V===null||V.tag!==6?(V=nf(H,P.mode,Z),V.return=P,V):(V=h(V,H),V.return=P,V)}function N(P,V,H,Z){var ve=H.type;return ve===$?X(P,V,H.props.children,Z,H.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Ls(ve)===V.type)?(V=h(V,H.props),Yo(V,H),V.return=P,V):(V=Uu(H.type,H.key,H.props,null,P.mode,Z),Yo(V,H),V.return=P,V)}function F(P,V,H,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=rf(H,P.mode,Z),V.return=P,V):(V=h(V,H.children||[]),V.return=P,V)}function X(P,V,H,Z,ve){return V===null||V.tag!==7?(V=Ds(H,P.mode,Z,ve),V.return=P,V):(V=h(V,H),V.return=P,V)}function W(P,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=nf(""+V,P.mode,H),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return H=Uu(V.type,V.key,V.props,null,P.mode,H),Yo(H,V),H.return=P,H;case Y:return V=rf(V,P.mode,H),V.return=P,V;case A:return V=Ls(V),W(P,V,H)}if(Be(V)||k(V))return V=Ds(V,P.mode,H,null),V.return=P,V;if(typeof V.then=="function")return W(P,Gu(V),H);if(V.$$typeof===re)return W(P,Bu(P,V),H);Qu(P,V)}return null}function G(P,V,H,Z){var ve=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ve!==null?null:T(P,V,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return H.key===ve?N(P,V,H,Z):null;case Y:return H.key===ve?F(P,V,H,Z):null;case A:return H=Ls(H),G(P,V,H,Z)}if(Be(H)||k(H))return ve!==null?null:X(P,V,H,Z,null);if(typeof H.then=="function")return G(P,V,Gu(H),Z);if(H.$$typeof===re)return G(P,V,Bu(P,H),Z);Qu(P,H)}return null}function K(P,V,H,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(H)||null,T(V,P,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return P=P.get(Z.key===null?H:Z.key)||null,N(V,P,Z,ve);case Y:return P=P.get(Z.key===null?H:Z.key)||null,F(V,P,Z,ve);case A:return Z=Ls(Z),K(P,V,H,Z,ve)}if(Be(Z)||k(Z))return P=P.get(H)||null,X(V,P,Z,ve,null);if(typeof Z.then=="function")return K(P,V,H,Gu(Z),ve);if(Z.$$typeof===re)return K(P,V,H,Bu(V,Z),ve);Qu(V,Z)}return null}function me(P,V,H,Z){for(var ve=null,Ge=null,pe=V,De=V=0,Pe=null;pe!==null&&De<H.length;De++){pe.index>De?(Pe=pe,pe=null):Pe=pe.sibling;var Qe=G(P,pe,H[De],Z);if(Qe===null){pe===null&&(pe=Pe);break}t&&pe&&Qe.alternate===null&&i(P,pe),V=d(Qe,V,De),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe,pe=Pe}if(De===H.length)return a(P,pe),qe&&Ki(P,De),ve;if(pe===null){for(;De<H.length;De++)pe=W(P,H[De],Z),pe!==null&&(V=d(pe,V,De),Ge===null?ve=pe:Ge.sibling=pe,Ge=pe);return qe&&Ki(P,De),ve}for(pe=l(pe);De<H.length;De++)Pe=K(pe,P,De,H[De],Z),Pe!==null&&(t&&Pe.alternate!==null&&pe.delete(Pe.key===null?De:Pe.key),V=d(Pe,V,De),Ge===null?ve=Pe:Ge.sibling=Pe,Ge=Pe);return t&&pe.forEach(function($r){return i(P,$r)}),qe&&Ki(P,De),ve}function be(P,V,H,Z){if(H==null)throw Error(s(151));for(var ve=null,Ge=null,pe=V,De=V=0,Pe=null,Qe=H.next();pe!==null&&!Qe.done;De++,Qe=H.next()){pe.index>De?(Pe=pe,pe=null):Pe=pe.sibling;var $r=G(P,pe,Qe.value,Z);if($r===null){pe===null&&(pe=Pe);break}t&&pe&&$r.alternate===null&&i(P,pe),V=d($r,V,De),Ge===null?ve=$r:Ge.sibling=$r,Ge=$r,pe=Pe}if(Qe.done)return a(P,pe),qe&&Ki(P,De),ve;if(pe===null){for(;!Qe.done;De++,Qe=H.next())Qe=W(P,Qe.value,Z),Qe!==null&&(V=d(Qe,V,De),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe);return qe&&Ki(P,De),ve}for(pe=l(pe);!Qe.done;De++,Qe=H.next())Qe=K(pe,P,De,Qe.value,Z),Qe!==null&&(t&&Qe.alternate!==null&&pe.delete(Qe.key===null?De:Qe.key),V=d(Qe,V,De),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe);return t&&pe.forEach(function(dS){return i(P,dS)}),qe&&Ki(P,De),ve}function it(P,V,H,Z){if(typeof H=="object"&&H!==null&&H.type===$&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case L:e:{for(var ve=H.key;V!==null;){if(V.key===ve){if(ve=H.type,ve===$){if(V.tag===7){a(P,V.sibling),Z=h(V,H.props.children),Z.return=P,P=Z;break e}}else if(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Ls(ve)===V.type){a(P,V.sibling),Z=h(V,H.props),Yo(Z,H),Z.return=P,P=Z;break e}a(P,V);break}else i(P,V);V=V.sibling}H.type===$?(Z=Ds(H.props.children,P.mode,Z,H.key),Z.return=P,P=Z):(Z=Uu(H.type,H.key,H.props,null,P.mode,Z),Yo(Z,H),Z.return=P,P=Z)}return v(P);case Y:e:{for(ve=H.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(P,V.sibling),Z=h(V,H.children||[]),Z.return=P,P=Z;break e}else{a(P,V);break}else i(P,V);V=V.sibling}Z=rf(H,P.mode,Z),Z.return=P,P=Z}return v(P);case A:return H=Ls(H),it(P,V,H,Z)}if(Be(H))return me(P,V,H,Z);if(k(H)){if(ve=k(H),typeof ve!="function")throw Error(s(150));return H=ve.call(H),be(P,V,H,Z)}if(typeof H.then=="function")return it(P,V,Gu(H),Z);if(H.$$typeof===re)return it(P,V,Bu(P,H),Z);Qu(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(P,V.sibling),Z=h(V,H),Z.return=P,P=Z):(a(P,V),Z=nf(H,P.mode,Z),Z.return=P,P=Z),v(P)):a(P,V)}return function(P,V,H,Z){try{Ko=0;var ve=it(P,V,H,Z);return Na=null,ve}catch(pe){if(pe===Ia||pe===Hu)throw pe;var Ge=Tn(29,pe,null,P.mode);return Ge.lanes=Z,Ge.return=P,Ge}}}var Us=mg(!0),pg=mg(!1),Or=!1;function gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pu(t),Zp(t,null,a),i}return Lu(t,l,i,a),Pu(t)}function $o(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,To(t,a)}}function vf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var _f=!1;function Xo(){if(_f){var t=Ca;if(t!==null)throw t}}function Jo(t,i,a,l){_f=!1;var h=t.updateQueue;Or=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,F=N.next;N.next=null,v===null?d=F:v.next=F,v=N;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=F:T.next=F,X.lastBaseUpdate=N))}if(d!==null){var W=h.baseState;v=0,X=F=N=null,T=d;do{var G=T.lane&-536870913,K=G!==T.lane;if(K?(Le&G)===G:(l&G)===G){G!==0&&G===xa&&(_f=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,be=T;G=i;var it=a;switch(be.tag){case 1:if(me=be.payload,typeof me=="function"){W=me.call(it,W,G);break e}W=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=be.payload,G=typeof me=="function"?me.call(it,W,G):me,G==null)break e;W=b({},W,G);break e;case 2:Or=!0}}G=T.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(F=X=K,N=W):X=X.next=K,v|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(N=W),h.baseState=N,h.firstBaseUpdate=F,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),zr|=v,t.lanes=v,t.memoizedState=W}}function gg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function yg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],i)}var Da=D(null),Ku=D(0);function vg(t,i){t=rr,ie(Ku,t),ie(Da,i),rr=t|i.baseLanes}function Ef(){ie(Ku,rr),ie(Da,Da.current)}function bf(){rr=Ku.current,q(Da),q(Ku)}var Sn=D(null),Un=null;function Vr(t){var i=t.alternate;ie(St,St.current&1),ie(Sn,t),Un===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(Un=t)}function Tf(t){ie(St,St.current),ie(Sn,t),Un===null&&(Un=t)}function _g(t){t.tag===22?(ie(St,St.current),ie(Sn,t),Un===null&&(Un=t)):Lr()}function Lr(){ie(St,St.current),ie(Sn,Sn.current)}function wn(t){q(Sn),Un===t&&(Un=null),q(St)}var St=D(0);function Yu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cd(a)||Id(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Ne=null,tt=null,Ot=null,$u=!1,Oa=!1,zs=!1,Xu=0,Zo=0,Ma=null,iT=0;function yt(){throw Error(s(321))}function Sf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!bn(t[a],i[a]))return!1;return!0}function wf(t,i,a,l,h,d){return Xi=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=t===null||t.memoizedState===null?ny:zf,zs=!1,d=a(l,h),zs=!1,Oa&&(d=bg(i,a,l,h)),Eg(t),d}function Eg(t){z.H=tl;var i=tt!==null&&tt.next!==null;if(Xi=0,Ot=tt=Ne=null,$u=!1,Zo=0,Ma=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&ju(t)&&(Mt=!0))}function bg(t,i,a,l){Ne=t;var h=0;do{if(Oa&&(Ma=null),Zo=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,Ot=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=iy,d=i(a,l)}while(Oa);return d}function rT(){var t=z.H,i=t.useState()[0];return i=typeof i.then=="function"?Wo(i):i,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Af(){var t=Xu!==0;return Xu=0,t}function Rf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function xf(t){if($u){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}$u=!1}Xi=0,Ot=tt=Ne=null,Oa=!1,Zo=Xu=0,Ma=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ne.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function wt(){if(tt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var i=Ot===null?Ne.memoizedState:Ot.next;if(i!==null)Ot=i,tt=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ot===null?Ne.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var i=Zo;return Zo+=1,Ma===null&&(Ma=[]),t=hg(Ma,t,i),i=Ne,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?ny:zf),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===re)return $t(t)}throw Error(s(438,String(t)))}function Cf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ju(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Ji(t,i){return typeof i=="function"?i(t):i}function Wu(t){var i=wt();return If(i,tt,t)}function If(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,N=null,F=i,X=!1;do{var W=F.lane&-536870913;if(W!==F.lane?(Le&W)===W:(Xi&W)===W){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),W===xa&&(X=!0);else if((Xi&G)===G){F=F.next,G===xa&&(X=!0);continue}else W={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(T=N=W,v=d):N=N.next=W,Ne.lanes|=G,zr|=G;W=F.action,zs&&a(d,W),d=F.hasEagerState?F.eagerState:a(d,W)}else G={lane:W,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(T=N=G,v=d):N=N.next=G,Ne.lanes|=W,zr|=W;F=F.next}while(F!==null&&F!==i);if(N===null?v=d:N.next=T,!bn(d,t.memoizedState)&&(Mt=!0,X&&(a=Ca,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nf(t){var i=wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);bn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Tg(t,i,a){var l=Ne,h=wt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!bn((tt||h).memoizedState,a);if(v&&(h.memoizedState=a,Mt=!0),h=h.queue,Mf(Ag.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},wg.bind(null,l,h,a,i),null),rt===null)throw Error(s(349));d||(Xi&127)!==0||Sg(l,i,a)}return a}function Sg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=Ju(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function wg(t,i,a,l){i.value=a,i.getSnapshot=l,Rg(i)&&xg(t)}function Ag(t,i,a){return a(function(){Rg(i)&&xg(t)})}function Rg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!bn(t,a)}catch{return!0}}function xg(t){var i=Ns(t,2);i!==null&&yn(i,t,2)}function Df(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),zs){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function Cg(t,i,a,l){return t.baseState=a,If(t,tt,typeof l=="function"?l:Ji)}function sT(t,i,a,l,h){if(nc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};z.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ig(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ig(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=z.T,v={};z.T=v;try{var T=a(h,l),N=z.S;N!==null&&N(v,T),Ng(t,i,T)}catch(F){Of(t,i,F)}finally{d!==null&&v.types!==null&&(d.types=v.types),z.T=d}}else try{d=a(h,l),Ng(t,i,d)}catch(F){Of(t,i,F)}}function Ng(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dg(t,i,l)},function(l){return Of(t,i,l)}):Dg(t,i,a)}function Dg(t,i,a){i.status="fulfilled",i.value=a,Og(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ig(t,a)))}function Of(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Og(i),i=i.next;while(i!==l)}t.action=null}function Og(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Mg(t,i){return i}function kg(t,i){if(qe){var a=rt.formState;if(a!==null){e:{var l=Ne;if(qe){if(ot){t:{for(var h=ot,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=zn(h.nextSibling),l=h.data==="F!";break e}}Nr(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:i},a.queue=l,a=Wg.bind(null,Ne,l),l.dispatch=a,l=Df(!1),d=Uf.bind(null,Ne,!1,l.queue),l=un(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=sT.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Vg(t){var i=wt();return Lg(i,tt,t)}function Lg(t,i,a){if(i=If(t,i,Mg)[0],t=Wu(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Wo(i)}catch(v){throw v===Ia?Hu:v}else l=i;i=wt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,ka(9,{destroy:void 0},aT.bind(null,h,a),null)),[l,d,t]}function aT(t,i){t.action=i}function Pg(t){var i=wt(),a=tt;if(a!==null)return Lg(i,a,t);wt(),i=i.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Ju(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ug(){return wt().memoizedState}function ec(t,i,a,l){var h=un();Ne.flags|=t,h.memoizedState=ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function tc(t,i,a,l){var h=wt();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&Sf(l,tt.memoizedState.deps)?h.memoizedState=ka(i,d,a,l):(Ne.flags|=t,h.memoizedState=ka(1|i,d,a,l))}function zg(t,i){ec(8390656,8,t,i)}function Mf(t,i){tc(2048,8,t,i)}function oT(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=Ju(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function jg(t){var i=wt().memoizedState;return oT({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Bg(t,i){return tc(4,2,t,i)}function qg(t,i){return tc(4,4,t,i)}function Hg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Fg(t,i,a){a=a!=null?a.concat([t]):null,tc(4,4,Hg.bind(null,i,t),a)}function kf(){}function Gg(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Qg(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sf(i,l[1]))return l[0];if(l=t(),zs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function Vf(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Ky(),Ne.lanes|=t,zr|=t,a)}function Kg(t,i,a,l){return bn(a,i)?a:Da.current!==null?(t=Vf(t,a,l),bn(t,i)||(Mt=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Le&261930)===0?(Mt=!0,t.memoizedState=a):(t=Ky(),Ne.lanes|=t,zr|=t,i)}function Yg(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=z.T,T={};z.T=T,Uf(t,!1,i,a);try{var N=h(),F=z.S;if(F!==null&&F(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=nT(N,l);el(t,i,X,xn(t))}else el(t,i,l,xn(t))}catch(W){el(t,i,{then:function(){},status:"rejected",reason:W},xn())}finally{se.p=d,v!==null&&T.types!==null&&(v.types=T.types),z.T=v}}function lT(){}function Lf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=$g(t).queue;Yg(t,h,i,J,a===null?lT:function(){return Xg(t),a(l)})}function $g(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:J},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xg(t){var i=$g(t);i.next===null&&(i=t.alternate.memoizedState),el(t,i.next.queue,{},xn())}function Pf(){return $t(yl)}function Jg(){return wt().memoizedState}function Zg(){return wt().memoizedState}function uT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Mr(a);var l=kr(i,t,a);l!==null&&(yn(l,i,a),$o(l,i,a)),i={cache:ff()},t.payload=i;return}i=i.return}}function cT(t,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},nc(t)?ey(i,a):(a=ef(t,i,a,l),a!==null&&(yn(a,t,l),ty(a,i,l)))}function Wg(t,i,a){var l=xn();el(t,i,a,l)}function el(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(t))ey(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,bn(T,v))return Lu(t,i,h,0),rt===null&&Vu(),!1}catch{}if(a=ef(t,i,h,l),a!==null)return yn(a,t,l),ty(a,i,l),!0}return!1}function Uf(t,i,a,l){if(l={lane:2,revertLane:gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(i)throw Error(s(479))}else i=ef(t,a,l,2),i!==null&&yn(i,t,2)}function nc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function ey(t,i){Oa=$u=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ty(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,To(t,a)}}var tl={readContext:$t,use:Zu,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};tl.useEffectEvent=yt;var ny={readContext:$t,use:Zu,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:zg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ec(4194308,4,Hg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ec(4194308,4,t,i)},useInsertionEffect:function(t,i){ec(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(zs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var h=a(i);if(zs){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=cT.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=Df(t);var i=t.queue,a=Wg.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(t,i){var a=un();return Vf(a,t,i)},useTransition:function(){var t=Df(!1);return t=Yg.bind(null,Ne,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=un();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(Le&127)!==0||Sg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,zg(Ag.bind(null,l,d,t),[t]),l.flags|=2048,ka(9,{destroy:void 0},wg.bind(null,l,d,a,i),null),a},useId:function(){var t=un(),i=rt.identifierPrefix;if(qe){var a=Ri,l=Ai;a=(l&~(1<<32-bt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Xu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=iT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Pf,useFormState:kg,useActionState:kg,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Uf.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Cf,useCacheRefresh:function(){return un().memoizedState=uT.bind(null,Ne)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:$t,use:Zu,useCallback:Gg,useContext:$t,useEffect:Mf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:Wu,useRef:Ug,useState:function(){return Wu(Ji)},useDebugValue:kf,useDeferredValue:function(t,i){var a=wt();return Kg(a,tt.memoizedState,t,i)},useTransition:function(){var t=Wu(Ji)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:Tg,useId:Jg,useHostTransitionStatus:Pf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,i){var a=wt();return Cg(a,tt,t,i)},useMemoCache:Cf,useCacheRefresh:Zg};zf.useEffectEvent=jg;var iy={readContext:$t,use:Zu,useCallback:Gg,useContext:$t,useEffect:Mf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:Nf,useRef:Ug,useState:function(){return Nf(Ji)},useDebugValue:kf,useDeferredValue:function(t,i){var a=wt();return tt===null?Vf(a,t,i):Kg(a,tt.memoizedState,t,i)},useTransition:function(){var t=Nf(Ji)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:Tg,useId:Jg,useHostTransitionStatus:Pf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,i){var a=wt();return tt!==null?Cg(a,tt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:Zg};iy.useEffectEvent=jg;function jf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Mr(l);h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(yn(i,t,l),$o(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(yn(i,t,l),$o(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(t,l,a),i!==null&&(yn(i,t,a),$o(i,t,a))}};function ry(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Bo(a,l)||!Bo(h,d):!0}function sy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Bf.enqueueReplaceState(i,i.state,null)}function js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ay(t){ku(t)}function oy(t){console.error(t)}function ly(t){ku(t)}function ic(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qf(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(t,i)},a}function cy(t){return t=Mr(t),t.tag=3,t}function hy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){uy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){uy(i,a,l),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function hT(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?pc():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Fu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),dd(t,l,h)),!1;case 22:return a.flags|=65536,l===Fu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),dd(t,l,h)),!1}throw Error(s(435,a.tag))}return dd(t,l,h),pc(),!1}if(qe)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==of&&(t=Error(s(422),{cause:l}),Fo(kn(t,a)))):(l!==of&&(i=Error(s(423),{cause:l}),Fo(kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,a),h=qf(t.stateNode,l,h),vf(t,h),vt!==4&&(vt=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),ul===null?ul=[d]:ul.push(d),vt!==4&&(vt=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=qf(a.stateNode,l,t),vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cy(h),hy(h,t,a,l),vf(a,h),!1}a=a.return}while(a!==null);return!1}var Hf=Error(s(461)),Mt=!1;function Xt(t,i,a,l){i.child=t===null?pg(i,null,a,l):Us(i,t.child,a,l)}function fy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ks(i),l=wf(t,i,a,v,d,h),T=Af(),t!==null&&!Mt?(Rf(t,i,h),Zi(t,i,h)):(qe&&T&&sf(i),i.flags|=1,Xt(t,i,l,h),i.child)}function dy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,my(t,i,d,l,h)):(t=Uu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Jf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(v,l)&&t.ref===i.ref)return Zi(t,i,h)}return i.flags|=1,t=Qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function my(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Bo(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,Jf(t,h))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,Zi(t,i,h)}return Ff(t,i,a,l,h)}function py(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return gy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(i,d!==null?d.cachePool:null),d!==null?vg(i,d):Ef(),_g(i);else return l=i.lanes=536870912,gy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(qu(i,d.cachePool),vg(i,d),Lr(),i.memoizedState=null):(t!==null&&qu(i,null),Ef(),Lr());return Xt(t,i,h,a),i.child}function nl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function gy(t,i,a,l,h){var d=mf();return d=d===null?null:{parent:Dt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&qu(i,null),Ef(),_g(i),t!==null&&Ra(t,i,l,!0),i.childLanes=h,null}function rc(t,i){return i=ac({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function yy(t,i,a){return Us(i,t.child,null,a),t=rc(i,i.pendingProps),t.flags|=2,wn(i),i.memoizedState=null,t}function fT(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=rc(i,l),i.lanes=536870912,nl(null,t);if(Tf(i),(t=ot)?(t=Iv(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=i,i.child=a,Yt=i,ot=null)):t=null,t===null)throw Nr(i);return i.lanes=536870912,null}return rc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Tf(i),h)if(i.flags&256)i.flags&=-257,i=yy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Mt||Ra(t,i,a,!1),h=(a&t.childLanes)!==0,Mt||h){if(l=rt,l!==null&&(v=So(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ns(t,v),yn(l,t,v),Hf;pc(),i=yy(t,i,a)}else t=d.treeContext,ot=zn(v.nextSibling),Yt=i,qe=!0,Ir=null,Pn=!1,t!==null&&ig(i,t),i=rc(i,l),i.flags|=4096;return i}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function sc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Ff(t,i,a,l,h){return ks(i),a=wf(t,i,a,l,void 0,h),l=Af(),t!==null&&!Mt?(Rf(t,i,h),Zi(t,i,h)):(qe&&l&&sf(i),i.flags|=1,Xt(t,i,a,h),i.child)}function vy(t,i,a,l,h,d){return ks(i),i.updateQueue=null,a=bg(i,l,a,h),Eg(t),l=Af(),t!==null&&!Mt?(Rf(t,i,d),Zi(t,i,d)):(qe&&l&&sf(i),i.flags|=1,Xt(t,i,a,d),i.child)}function _y(t,i,a,l,h){if(ks(i),i.stateNode===null){var d=Ta,v=a.contextType;typeof v=="object"&&v!==null&&(d=$t(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},gf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?$t(v):Ta,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(jf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Bf.enqueueReplaceState(d,d.state,null),Jo(i,l,d,h),Xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=js(a,T);d.props=N;var F=d.context,X=a.contextType;v=Ta,typeof X=="object"&&X!==null&&(v=$t(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==v)&&sy(i,d,l,v),Or=!1;var G=i.memoizedState;d.state=G,Jo(i,l,d,h),Xo(),F=i.memoizedState,T||G!==F||Or?(typeof W=="function"&&(jf(i,a,W,l),F=i.memoizedState),(N=Or||ry(i,a,N,l,G,F,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,yf(t,i),v=i.memoizedProps,X=js(a,v),d.props=X,W=i.pendingProps,G=d.context,F=a.contextType,N=Ta,typeof F=="object"&&F!==null&&(N=$t(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||G!==N)&&sy(i,d,l,N),Or=!1,G=i.memoizedState,d.state=G,Jo(i,l,d,h),Xo();var K=i.memoizedState;v!==W||G!==K||Or||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof T=="function"&&(jf(i,a,T,l),K=i.memoizedState),(X=Or||ry(i,a,X,l,G,K,N)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,sc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Us(i,t.child,null,h),i.child=Us(i,null,a,h)):Xt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Zi(t,i,h),t}function Ey(t,i,a,l){return Os(),i.flags|=256,Xt(t,i,a,l),i.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:ug()}}function Kf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Rn),t}function by(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Vr(i):Lr(),(t=ot)?(t=Iv(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=i,i.child=a,Yt=i,ot=null)):t=null,t===null)throw Nr(i);return Id(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Lr(),h=i.mode,T=ac({mode:"hidden",children:T},h),l=Ds(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Qf(a),l.childLanes=Kf(t,v,a),i.memoizedState=Gf,nl(null,l)):(Vr(i),Yf(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=$f(t,i,a)):i.memoizedState!==null?(Lr(),i.child=t.child,i.flags|=128,i=null):(Lr(),T=l.fallback,h=i.mode,l=ac({mode:"visible",children:l.children},h),T=Ds(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Us(i,t.child,null,a),l=i.child,l.memoizedState=Qf(a),l.childLanes=Kf(t,v,a),i.memoizedState=Gf,i=nl(null,l));else if(Vr(i),Id(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,Fo({value:l,source:null,stack:null}),i=$f(t,i,a)}else if(Mt||Ra(t,i,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=rt,v!==null&&(l=So(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ns(t,l),yn(v,t,l),Hf;Cd(T)||pc(),i=$f(t,i,a)}else Cd(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ot=zn(T.nextSibling),Yt=i,qe=!0,Ir=null,Pn=!1,t!==null&&ig(i,t),i=Yf(i,l.children),i.flags|=4096);return i}return h?(Lr(),T=l.fallback,h=i.mode,N=t.child,F=N.sibling,l=Qi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?T=Qi(F,T):(T=Ds(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,nl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Qf(a):(h=T.cachePool,h!==null?(N=Dt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=ug(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Kf(t,v,a),i.memoizedState=Gf,nl(t.child,l)):(Vr(i),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Yf(t,i){return i=ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ac(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function $f(t,i,a){return Us(i,t.child,null,a),t=Yf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ty(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),cf(t.return,i,a)}function Xf(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Sy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=St.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,ie(St,v),Xt(t,i,l,a),l=qe?Ho:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,i);else if(t.tag===19)Ty(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Xf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Xf(i,!0,a,null,d,l);break;case"together":Xf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ra(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Jf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function dT(t,i,a){switch(i.tag){case 3:ft(i,i.stateNode.containerInfo),Dr(i,Dt,t.memoizedState.cache),Os();break;case 27:case 5:ji(i);break;case 4:ft(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?by(t,i,a):(Vr(i),t=Zi(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ra(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Sy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(St,St.current),l)break;return null;case 22:return i.lanes=0,py(t,i,a,i.pendingProps);case 24:Dr(i,Dt,t.memoizedState.cache)}return Zi(t,i,a)}function wy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Jf(t,a)&&(i.flags&128)===0)return Mt=!1,dT(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,qe&&(i.flags&1048576)!==0&&ng(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ls(i.elementType),i.type=t,typeof t=="function")tf(t)?(l=js(t,l),i.tag=1,i=_y(null,i,t,l,a)):(i.tag=0,i=Ff(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===oe){i.tag=11,i=fy(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=dy(null,i,t,l,a);break e}}throw i=Me(t)||t,Error(s(306,i,""))}}return i;case 0:return Ff(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=js(l,i.pendingProps),_y(t,i,l,h,a);case 3:e:{if(ft(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,yf(t,i),Jo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Dr(i,Dt,l),l!==d.cache&&hf(i,[Dt],a,!0),Xo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ey(t,i,l,a);break e}else if(l!==h){h=kn(Error(s(424)),i),Fo(h),i=Ey(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=zn(t.firstChild),Yt=i,qe=!0,Ir=null,Pn=!0,a=pg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Os(),l===h){i=Zi(t,i,a);break e}Xt(t,i,l,a)}i=i.child}return i;case 26:return sc(t,i),t===null?(a=Vv(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=Tc(Te.current).createElement(a),l[Ct]=i,l[jt]=t,Jt(l,a,t),It(l),i.stateNode=l):i.memoizedState=Vv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ji(i),t===null&&qe&&(l=i.stateNode=Ov(i.type,i.pendingProps,Te.current),Yt=i,Pn=!0,h=ot,Fr(i.type)?(Nd=h,ot=zn(l.firstChild)):ot=h),Xt(t,i,i.pendingProps.children,a),sc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=l=ot)&&(l=HT(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Yt=i,ot=zn(l.firstChild),Pn=!1,h=!0):h=!1),h||Nr(i)),ji(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Ad(h,d)?l=null:v!==null&&Ad(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=wf(t,i,rT,null,null,a),yl._currentValue=h),sc(t,i),Xt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=ot)&&(a=FT(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Yt=i,ot=null,t=!0):t=!1),t||Nr(i)),null;case 13:return by(t,i,a);case 4:return ft(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Us(i,null,l,a):Xt(t,i,l,a),i.child;case 11:return fy(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),Xt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ks(i),h=$t(h),l=l(h),i.flags|=1,Xt(t,i,l,a),i.child;case 14:return dy(t,i,i.type,i.pendingProps,a);case 15:return my(t,i,i.type,i.pendingProps,a);case 19:return Sy(t,i,a);case 31:return fT(t,i,a);case 22:return py(t,i,a,i.pendingProps);case 24:return ks(i),l=$t(Dt),t===null?(h=mf(),h===null&&(h=rt,d=ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},gf(i),Dr(i,Dt,h)):((t.lanes&a)!==0&&(yf(t,i),Jo(i,null,null,a),Xo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,Dt,l)):(l=d.cache,Dr(i,Dt,l),l!==h.cache&&hf(i,[Dt],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Wi(t){t.flags|=4}function Zf(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Jy())t.flags|=8192;else throw Ps=Fu,pf}else t.flags&=-16777217}function Ay(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jv(i))if(Jy())t.flags|=8192;else throw Ps=Fu,pf}function oc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?du():536870912,t.lanes|=i,Ua|=i)}function il(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function mT(t,i,a){var l=i.pendingProps;switch(af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(Dt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Aa(i)?Wi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lf())),lt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Wi(i),d!==null?(lt(i),Ay(i,d)):(lt(i),Zf(i,h,null,l,a))):d?d!==t.memoizedState?(Wi(i),lt(i),Ay(i,d)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Wi(i),lt(i),Zf(i,h,t,l,a)),null;case 27:if(Se(i),a=Te.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=ce.current,Aa(i)?rg(i):(t=Ov(h,l,a),i.stateNode=t,Wi(i))}return lt(i),null;case 5:if(Se(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(d=ce.current,Aa(i))rg(i);else{var v=Tc(Te.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Ct]=i,d[jt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Jt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Wi(i)}}return lt(i),Zf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Te.current,Aa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||bv(t.nodeValue,a)),t||Nr(i,!0)}else t=Tc(t).createTextNode(l),t[Ct]=i,i.stateNode=t}return lt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Aa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ct]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else a=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ct]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),h=!1}else h=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),oc(i,i.updateQueue),lt(i),null);case 4:return st(),t===null&&Ed(i.stateNode.containerInfo),lt(i),null;case 10:return $i(i.type),lt(i),null;case 19:if(q(St),l=i.memoizedState,l===null)return lt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)il(l,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Yu(t),d!==null){for(i.flags|=128,il(l,!1),t=d.updateQueue,i.updateQueue=t,oc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Wp(a,t),a=a.sibling;return ie(St,St.current&1|2),qe&&Ki(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&on()>fc&&(i.flags|=128,h=!0,il(l,!1),i.lanes=4194304)}else{if(!h)if(t=Yu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,oc(i,t),il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qe)return lt(i),null}else 2*on()-l.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,h=!0,il(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=St.current,ie(St,h?a&1|2:a&1),qe&&Ki(i,l.treeForkCount),t):(lt(i),null);case 22:case 23:return wn(i),bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&oc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&q(Vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(Dt),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function pT(t,i){switch(af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(Dt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Se(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(s(340));Os()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(wn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Os()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return q(St),null;case 4:return st(),null;case 10:return $i(i.type),null;case 22:case 23:return wn(i),bf(),t!==null&&q(Vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(Dt),null;case 25:return null;default:return null}}function Ry(t,i){switch(af(i),i.tag){case 3:$i(Dt),st();break;case 26:case 27:case 5:Se(i);break;case 4:st();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:q(St);break;case 10:$i(i.type);break;case 22:case 23:wn(i),bf(),t!==null&&q(Vs);break;case 24:$i(Dt)}}function rl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function Pr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var N=a,F=T;try{F()}catch(X){We(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){We(i,i.return,X)}}function xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{yg(i,a)}catch(l){We(t,t.return,l)}}}function Cy(t,i,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function xi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function Iy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Wf(t,i,a){try{var l=t.stateNode;PT(l,t.type,a,i),l[jt]=i}catch(h){We(t,t.return,h)}}function Ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(td(t,i,a),t=t.sibling;t!==null;)td(t,i,a),t=t.sibling}function lc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(lc(t,i,a),t=t.sibling;t!==null;)lc(t,i,a),t=t.sibling}function Dy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Jt(i,l,a),i[Ct]=t,i[jt]=a}catch(d){We(t,t.return,d)}}var er=!1,kt=!1,nd=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,qt=null;function gT(t,i){if(t=t.containerInfo,Sd=Ic,t=Fp(t),Yh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,N=-1,F=0,X=0,W=t,G=null;t:for(;;){for(var K;W!==a||h!==0&&W.nodeType!==3||(T=v+h),W!==d||l!==0&&W.nodeType!==3||(N=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(K=W.firstChild)!==null;)G=W,W=K;for(;;){if(W===t)break t;if(G===a&&++F===h&&(T=v),G===d&&++X===l&&(N=v),(K=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=K}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:t,selectionRange:a},Ic=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var me=js(a.type,h);t=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){We(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function My(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(t,a),l&4&&rl(5,a);break;case 1:if(nr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&xy(a),l&512&&sl(a,a.return);break;case 3:if(nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yg(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&Dy(a);case 26:case 5:nr(t,a),i===null&&l&4&&Iy(a),l&512&&sl(a,a.return);break;case 12:nr(t,a);break;case 31:nr(t,a),l&4&&Ly(t,a);break;case 13:nr(t,a),l&4&&Py(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=AT.bind(null,a),GT(t,a))));break;case 22:if(l=a.memoizedState!==null||er,!l){i=i!==null&&i.memoizedState!==null||kt,h=er;var d=kt;er=l,(kt=i)&&!d?ir(t,a,(a.subtreeFlags&8772)!==0):nr(t,a),er=h,kt=d}break;case 30:break;default:nr(t,a)}}function ky(t){var i=t.alternate;i!==null&&(t.alternate=null,ky(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&la(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,dn=!1;function tr(t,i,a){for(a=a.child;a!==null;)Vy(t,i,a),a=a.sibling}function Vy(t,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:kt||xi(a,i),tr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:kt||xi(a,i);var l=ht,h=dn;Fr(a.type)&&(ht=a.stateNode,dn=!1),tr(t,i,a),ml(a.stateNode),ht=l,dn=h;break;case 5:kt||xi(a,i);case 6:if(l=ht,h=dn,ht=null,tr(t,i,a),ht=l,dn=h,ht!==null)if(dn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ht.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ht!==null&&(dn?(t=ht,xv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):xv(ht,a.stateNode));break;case 4:l=ht,h=dn,ht=a.stateNode.containerInfo,dn=!0,tr(t,i,a),ht=l,dn=h;break;case 0:case 11:case 14:case 15:Pr(2,a,i),kt||Pr(4,a,i),tr(t,i,a);break;case 1:kt||(xi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cy(a,i,l)),tr(t,i,a);break;case 21:tr(t,i,a);break;case 22:kt=(l=kt)||a.memoizedState!==null,tr(t,i,a),kt=l;break;default:tr(t,i,a)}}function Ly(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){We(i,i.return,a)}}}function Py(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){We(i,i.return,a)}}function yT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Oy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Oy),i;default:throw Error(s(435,t.tag))}}function uc(t,i){var a=yT(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=RT.bind(null,t,l);l.then(h,h)}})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Fr(T.type)){ht=T.stateNode,dn=!1;break e}break;case 5:ht=T.stateNode,dn=!1;break e;case 3:case 4:ht=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(ht===null)throw Error(s(160));Vy(d,v,h),ht=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Uy(i,t),i=i.sibling}var ei=null;function Uy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),l&4&&(Pr(3,t,t.return),rl(3,t),Pr(5,t,t.return));break;case 1:mn(i,t),pn(t),l&512&&(kt||a===null||xi(a,a.return)),l&64&&er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ei;if(mn(i,t),pn(t),l&512&&(kt||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Jt(d,l,a),d[Ct]=t,It(d),l=d;break e;case"link":var v=Uv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Jt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Uv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ct]=t,It(d),l=d}t.stateNode=l}else zv(h,t.type,t.stateNode);else t.stateNode=Pv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?zv(h,t.type,t.stateNode):Pv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),pn(t),l&512&&(kt||a===null||xi(a,a.return)),a!==null&&l&4&&Wf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),pn(t),l&512&&(kt||a===null||xi(a,a.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(me){We(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Wf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(mn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){We(t,t.return,me)}}break;case 3:if(Ac=null,h=ei,ei=Sc(i.containerInfo),mn(i,t),ei=h,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(me){We(t,t.return,me)}nd&&(nd=!1,zy(t));break;case 4:l=ei,ei=Sc(t.stateNode.containerInfo),mn(i,t),pn(t),ei=l;break;case 12:mn(i,t),pn(t);break;case 31:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hc=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=er,X=kt;if(er=F||h,kt=X||N,mn(i,t),kt=X,er=F,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||er||kt||Bs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var W=N.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(me){We(N,N.return,me)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(me){We(N,N.return,me)}}}else if(i.tag===18){if(a===null){N=i;try{var K=N.stateNode;h?Cv(K,!0):Cv(N.stateNode,!1)}catch(me){We(N,N.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,uc(t,a))));break;case 19:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Ny(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ed(t);lc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(fn(v,""),a.flags&=-33);var T=ed(t);lc(t,T,v);break;case 3:case 4:var N=a.stateNode.containerInfo,F=ed(t);td(t,F,N);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)My(t,i.alternate,i),i=i.sibling}function Bs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Bs(i);break;case 1:xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cy(i,i.return,a),Bs(i);break;case 27:ml(i.stateNode);case 26:case 5:xi(i,i.return),Bs(i);break;case 22:i.memoizedState===null&&Bs(i);break;case 30:Bs(i);break;default:Bs(i)}t=t.sibling}}function ir(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:ir(h,d,a),rl(4,d);break;case 1:if(ir(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){We(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)gg(N[h],T)}catch(F){We(l,l.return,F)}}a&&v&64&&xy(d),sl(d,d.return);break;case 27:Dy(d);case 26:case 5:ir(h,d,a),a&&l===null&&v&4&&Iy(d),sl(d,d.return);break;case 12:ir(h,d,a);break;case 31:ir(h,d,a),a&&v&4&&Ly(h,d);break;case 13:ir(h,d,a),a&&v&4&&Py(h,d);break;case 22:d.memoizedState===null&&ir(h,d,a),sl(d,d.return);break;case 30:break;default:ir(h,d,a)}i=i.sibling}}function id(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Go(a))}function rd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Go(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jy(t,i,a,l),i=i.sibling}function jy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),h&2048&&rl(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Go(t)));break;case 12:if(h&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):al(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,Va(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&id(v,i);break;case 24:ti(t,i,a,l),h&2048&&rd(i.alternate,i);break;default:ti(t,i,a,l)}}function Va(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,T=a,N=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:Va(d,v,T,N,h),rl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Va(d,v,T,N,h):al(d,v):(X._visibility|=2,Va(d,v,T,N,h)),h&&F&2048&&id(v.alternate,v);break;case 24:Va(d,v,T,N,h),h&&F&2048&&rd(v.alternate,v);break;default:Va(d,v,T,N,h)}i=i.sibling}}function al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:al(a,l),h&2048&&id(l.alternate,l);break;case 24:al(a,l),h&2048&&rd(l.alternate,l);break;default:al(a,l)}i=i.sibling}}var ol=8192;function La(t,i,a){if(t.subtreeFlags&ol)for(t=t.child;t!==null;)By(t,i,a),t=t.sibling}function By(t,i,a){switch(t.tag){case 26:La(t,i,a),t.flags&ol&&t.memoizedState!==null&&iS(a,ei,t.memoizedState,t.memoizedProps);break;case 5:La(t,i,a);break;case 3:case 4:var l=ei;ei=Sc(t.stateNode.containerInfo),La(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ol,ol=16777216,La(t,i,a),ol=l):La(t,i,a));break;default:La(t,i,a)}}function qy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ll(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,Fy(l,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 0:case 11:case 15:ll(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:ll(t);break;case 12:ll(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,cc(t)):ll(t);break;default:ll(t)}}function cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,Fy(l,t)}qy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,cc(i));break;default:cc(i)}t=t.sibling}}function Fy(t,i){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Go(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var h=l.sibling,d=l.return;if(ky(l),l===a){qt=null;break e}if(h!==null){h.return=d,qt=h;break e}qt=d}}}var vT={getCacheForType:function(t){var i=$t(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(Dt).controller.signal}},_T=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,ke=null,Le=0,Ze=0,An=null,Ur=!1,Pa=!1,sd=!1,rr=0,vt=0,zr=0,qs=0,ad=0,Rn=0,Ua=0,ul=null,gn=null,od=!1,hc=0,Gy=0,fc=1/0,dc=null,jr=null,Pt=0,Br=null,za=null,sr=0,ld=0,ud=null,Qy=null,cl=0,cd=null;function xn(){return(Ye&2)!==0&&Le!==0?Le&-Le:z.T!==null?gd():mu()}function Ky(){if(Rn===0)if((Le&536870912)===0||qe){var t=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),Rn=t}else Rn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Rn}function yn(t,i,a){(t===rt&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(ja(t,0),qr(t,Le,Rn,!1)),gs(t,a),((Ye&2)===0||t!==rt)&&(t===rt&&((Ye&2)===0&&(qs|=a),vt===4&&qr(t,Le,Rn,!1)),Ci(t))}function Yy(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),h=l?TT(t,i):fd(t,i,!0),d=l;do{if(h===0){Pa&&!l&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!ET(a)){h=fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=ul;var N=T.current.memoizedState.isDehydrated;if(N&&(ja(T,v).flags|=256),v=fd(T,v,!1),v!==2){if(sd&&!N){T.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=gn,gn=h,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ja(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,Rn,!Ur);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=hc+300-on(),10<h)){if(qr(l,i,Rn,!Ur),ci(l,0,!0)!==0)break e;sr=i,l.timeoutHandle=Av($y.bind(null,l,a,gn,dc,od,i,Rn,qs,Ua,Ur,d,"Throttled",-0,0),h);break e}$y(l,a,gn,dc,od,i,Rn,qs,Ua,Ur,d,null,-0,0)}}break}while(!0);Ci(t)}function $y(t,i,a,l,h,d,v,T,N,F,X,W,G,K){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},By(i,d,W);var me=(d&62914560)===d?hc-on():(d&4194048)===d?Gy-on():0;if(me=rS(W,me),me!==null){sr=d,t.cancelPendingCommit=me(iv.bind(null,t,i,d,a,l,h,v,T,N,X,W,null,G,K)),qr(t,d,v,!F);return}}iv(t,i,d,a,l,h,v,T,N)}function ET(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,l){i&=~ad,i&=~qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-bt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ys(t,a,i)}function mc(){return(Ye&6)===0?(hl(0),!1):!0}function hd(){if(ke!==null){if(Ze===0)var t=ke.return;else t=ke,Yi=Ms=null,xf(t),Na=null,Ko=0,t=ke;for(;t!==null;)Ry(t.alternate,t),t=t.return;ke=null}}function ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,jT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),sr=0,hd(),rt=t,ke=a=Qi(t.current,null),Le=i,Ze=0,An=null,Ur=!1,Pa=Gn(t,i),sd=!1,Ua=Rn=ad=qs=zr=vt=0,gn=ul=null,od=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-bt(l),d=1<<h;i|=t[h],l&=~d}return rr=i,Vu(),a}function Xy(t,i){Ne=null,z.H=tl,i===Ia||i===Hu?(i=fg(),Ze=3):i===pf?(i=fg(),Ze=4):Ze=i===Hf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,ke===null&&(vt=1,ic(t,kn(i,t.current)))}function Jy(){var t=Sn.current;return t===null?!0:(Le&4194048)===Le?Un===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Un:!1}function Zy(){var t=z.H;return z.H=tl,t===null?tl:t}function Wy(){var t=z.A;return z.A=vT,t}function pc(){vt=4,Ur||(Le&4194048)!==Le&&Sn.current!==null||(Pa=!0),(zr&134217727)===0&&(qs&134217727)===0||rt===null||qr(rt,Le,Rn,!1)}function fd(t,i,a){var l=Ye;Ye|=2;var h=Zy(),d=Wy();(rt!==t||Le!==i)&&(dc=null,ja(t,i)),i=!1;var v=vt;e:do try{if(Ze!==0&&ke!==null){var T=ke,N=An;switch(Ze){case 8:hd(),v=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var F=Ze;if(Ze=0,An=null,Ba(t,T,N,F),a&&Pa){v=0;break e}break;default:F=Ze,Ze=0,An=null,Ba(t,T,N,F)}}bT(),v=vt;break}catch(X){Xy(t,X)}while(!0);return i&&t.shellSuspendCounter++,Yi=Ms=null,Ye=l,z.H=h,z.A=d,ke===null&&(rt=null,Le=0,Vu()),v}function bT(){for(;ke!==null;)ev(ke)}function TT(t,i){var a=Ye;Ye|=2;var l=Zy(),h=Wy();rt!==t||Le!==i?(dc=null,fc=on()+500,ja(t,i)):Pa=Gn(t,i);e:do try{if(Ze!==0&&ke!==null){i=ke;var d=An;t:switch(Ze){case 1:Ze=0,An=null,Ba(t,i,d,1);break;case 2:case 9:if(cg(d)){Ze=0,An=null,tv(i);break}i=function(){Ze!==2&&Ze!==9||rt!==t||(Ze=7),Ci(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:cg(d)?(Ze=0,An=null,tv(i)):(Ze=0,An=null,Ba(t,i,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var T=ke;if(v?jv(v):T.stateNode.complete){Ze=0,An=null;var N=T.sibling;if(N!==null)ke=N;else{var F=T.return;F!==null?(ke=F,gc(F)):ke=null}break t}}Ze=0,An=null,Ba(t,i,d,5);break;case 6:Ze=0,An=null,Ba(t,i,d,6);break;case 8:hd(),vt=6;break e;default:throw Error(s(462))}}ST();break}catch(X){Xy(t,X)}while(!0);return Yi=Ms=null,z.H=l,z.A=h,Ye=a,ke!==null?0:(rt=null,Le=0,Vu(),vt)}function ST(){for(;ke!==null&&!Bh();)ev(ke)}function ev(t){var i=wy(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?gc(t):ke=i}function tv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=vy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=vy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:xf(i);default:Ry(a,i),i=ke=Wp(i,rr),i=wy(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?gc(t):ke=i}function Ba(t,i,a,l){Yi=Ms=null,xf(i),Na=null,Ko=0;var h=i.return;try{if(hT(t,h,i,a,Le)){vt=1,ic(t,kn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;vt=1,ic(t,kn(a,t.current)),ke=null;return}i.flags&32768?(qe||l===1?t=!0:Pa||(Le&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),nv(i,t)):gc(i)}function gc(t){var i=t;do{if((i.flags&32768)!==0){nv(i,Ur);return}t=i.return;var a=mT(i.alternate,i,rr);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);vt===0&&(vt=5)}function nv(t,i){do{var a=pT(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);vt=6,ke=null}function iv(t,i,a,l,h,d,v,T,N){t.cancelPendingCommit=null;do yc();while(Pt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Wh,Fh(t,a,d,v,T,N),t===rt&&(ke=rt=null,Le=0),za=i,Br=t,sr=a,ld=d,ud=h,Qy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xT(vr,function(){return lv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,h=se.p,se.p=2,v=Ye,Ye|=4;try{gT(t,i,a)}finally{Ye=v,se.p=h,z.T=l}}Pt=1,rv(),sv(),av()}}function rv(){if(Pt===1){Pt=0;var t=Br,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=se.p;se.p=2;var h=Ye;Ye|=4;try{Uy(i,t);var d=wd,v=Fp(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Hp(T.ownerDocument.documentElement,T)){if(N!==null&&Yh(T)){var F=N.start,X=N.end;if(X===void 0&&(X=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(X,T.value.length);else{var W=T.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var K=G.getSelection(),me=T.textContent.length,be=Math.min(N.start,me),it=N.end===void 0?be:Math.min(N.end,me);!K.extend&&be>it&&(v=it,it=be,be=v);var P=qp(T,be),V=qp(T,it);if(P&&V&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var H=W.createRange();H.setStart(P.node,P.offset),K.removeAllRanges(),be>it?(K.addRange(H),K.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),K.addRange(H))}}}}for(W=[],K=T;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Z=W[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ic=!!Sd,wd=Sd=null}finally{Ye=h,se.p=l,z.T=a}}t.current=i,Pt=2}}function sv(){if(Pt===2){Pt=0;var t=Br,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=se.p;se.p=2;var h=Ye;Ye|=4;try{My(t,i.alternate,i)}finally{Ye=h,se.p=l,z.T=a}}Pt=3}}function av(){if(Pt===4||Pt===3){Pt=0,ou();var t=Br,i=za,a=sr,l=Qy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,za=Br=null,ov(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(jr=null),qi(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=z.T,h=se.p,se.p=2,z.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{z.T=i,se.p=h}}(sr&3)!==0&&yc(),Ci(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===cd?cl++:(cl=0,cd=t):cl=0,hl(0)}}function ov(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Go(i)))}function yc(){return rv(),sv(),av(),lv()}function lv(){if(Pt!==5)return!1;var t=Br,i=ld;ld=0;var a=qi(sr),l=z.T,h=se.p;try{se.p=32>a?32:a,z.T=null,a=ud,ud=null;var d=Br,v=sr;if(Pt=0,za=Br=null,sr=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,Hy(d.current),jy(d,d.current,v,a),Ye=T,hl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{se.p=h,z.T=l,ov(t,i)}}function uv(t,i,a){i=kn(a,i),i=qf(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(gs(t,2),Ci(t))}function We(t,i,a){if(t.tag===3)uv(t,t,a);else for(;i!==null;){if(i.tag===3){uv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){t=kn(a,t),a=cy(2),l=kr(i,a,2),l!==null&&(hy(a,l,i,t),gs(l,2),Ci(l));break}}i=i.return}}function dd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new _T;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(sd=!0,h.add(a),t=wT.bind(null,t,i,a),i.then(t,t))}function wT(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(Le&a)===a&&(vt===4||vt===3&&(Le&62914560)===Le&&300>on()-hc?(Ye&2)===0&&ja(t,0):ad|=a,Ua===Le&&(Ua=0)),Ci(t)}function cv(t,i){i===0&&(i=du()),t=Ns(t,i),t!==null&&(gs(t,i),Ci(t))}function AT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),cv(t,a)}function RT(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),cv(t,a)}function xT(t,i){return Et(t,i)}var vc=null,qa=null,md=!1,_c=!1,pd=!1,Hr=0;function Ci(t){t!==qa&&t.next===null&&(qa===null?vc=qa=t:qa=qa.next=t),_c=!0,md||(md=!0,IT())}function hl(t,i){if(!pd&&_c){pd=!0;do for(var a=!1,l=vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-bt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,mv(l,d))}else d=Le,d=ci(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,mv(l,d));l=l.next}while(a);pd=!1}}function CT(){hv()}function hv(){_c=md=!1;var t=0;Hr!==0&&zT()&&(t=Hr);for(var i=on(),a=null,l=vc;l!==null;){var h=l.next,d=fv(l,i);d===0?(l.next=null,a===null?vc=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(d&3)!==0)&&(_c=!0)),l=h}Pt!==0&&Pt!==5||hl(t),Hr!==0&&(Hr=0)}function fv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-bt(d),T=1<<v,N=h[v];N===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Hh(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=rt,a=Le,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&cn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&cn(l),qi(a)){case 2:case 8:a=bo;break;case 32:a=vr;break;case 268435456:a=lu;break;default:a=vr}return l=dv.bind(null,t),a=Et(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&cn(l),t.callbackPriority=2,t.callbackNode=null,2}function dv(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(yc()&&t.callbackNode!==a)return null;var l=Le;return l=ci(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Yy(t,l,i),fv(t,on()),t.callbackNode!=null&&t.callbackNode===a?dv.bind(null,t):null)}function mv(t,i){if(yc())return null;Yy(t,i,!0)}function IT(){BT(function(){(Ye&6)!==0?Et(Eo,CT):hv()})}function gd(){if(Hr===0){var t=xa;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Hr=t}return Hr}function pv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function gv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function NT(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=pv((h[jt]||null).action),v=l.submitter;v&&(i=(i=v[jt]||null)?pv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new bi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hr!==0){var N=v?gv(h,v):new FormData(h);Lf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=v?gv(h,v):new FormData(h),Lf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var yd=0;yd<Zh.length;yd++){var vd=Zh[yd],DT=vd.toLowerCase(),OT=vd[0].toUpperCase()+vd.slice(1);Wn(DT,"on"+OT)}Wn(Kp,"onAnimationEnd"),Wn(Yp,"onAnimationIteration"),Wn($p,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Y1,"onTransitionRun"),Wn($1,"onTransitionStart"),Wn(X1,"onTransitionCancel"),Wn(Xp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function yv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],N=T.instance,F=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(X){ku(X)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(T=l[v],N=T.instance,F=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(X){ku(X)}h.currentTarget=null,d=N}}}}function Ve(t,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var l=t+"__bubble";a.has(l)||(vv(i,t,2,!1),a.add(l))}function _d(t,i,a){var l=0;i&&(l|=4),vv(a,t,l,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[Ec]){t[Ec]=!0,wo.forEach(function(a){a!=="selectionchange"&&(MT.has(a)||_d(a,!1,t),_d(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,_d("selectionchange",!1,i))}}function vv(t,i,a,l){switch(Kv(i)){case 2:var h=oS;break;case 8:h=lS;break;default:h=Vd}a=h.bind(null,i,a,t),h=void 0,!Ts||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function bd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=mi(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}T=T.parentNode}}l=l.return}wr(function(){var F=d,X=Nn(a),W=[];e:{var G=Jp.get(t);if(G!==void 0){var K=bi,me=t;switch(t){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":K=Du;break;case"focusin":me="focus",K=Rs;break;case"focusout":me="blur",K=Rs;break;case"beforeblur":case"afterblur":K=Rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=p;break;case Kp:case Yp:case $p:K=wu;break;case Xp:K=S;break;case"scroll":case"scrollend":K=Lo;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Gi;break;case"toggle":case"beforetoggle":K=Ie}var be=(i&4)!==0,it=!be&&(t==="scroll"||t==="scrollend"),P=be?G!==null?G+"Capture":null:G;be=[];for(var V=F,H;V!==null;){var Z=V;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||P===null||(Z=$n(V,P),Z!=null&&be.push(dl(V,Z,H))),it)break;V=V.return}0<be.length&&(G=new K(G,me,null,a,X),W.push({event:G,listeners:be}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==Mo&&(me=a.relatedTarget||a.fromElement)&&(mi(me)||me[fi]))break e;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(me=a.relatedTarget||a.toElement,K=F,me=me?mi(me):null,me!==null&&(it=u(me),be=me.tag,me!==it||be!==5&&be!==27&&be!==6)&&(me=null)):(K=null,me=F),K!==me)){if(be=Po,Z="onMouseLeave",P="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(be=Gi,Z="onPointerLeave",P="onPointerEnter",V="pointer"),it=K==null?G:_n(K),H=me==null?G:_n(me),G=new be(Z,V+"leave",K,a,X),G.target=it,G.relatedTarget=H,Z=null,mi(X)===F&&(be=new be(P,V+"enter",me,a,X),be.target=H,be.relatedTarget=it,Z=be),it=Z,K&&me)t:{for(be=kT,P=K,V=me,H=0,Z=P;Z;Z=be(Z))H++;Z=0;for(var ve=V;ve;ve=be(ve))Z++;for(;0<H-Z;)P=be(P),H--;for(;0<Z-H;)V=be(V),Z--;for(;H--;){if(P===V||V!==null&&P===V.alternate){be=P;break t}P=be(P),V=be(V)}be=null}else be=null;K!==null&&_v(W,G,K,be,!1),me!==null&&it!==null&&_v(W,it,me,be,!0)}}e:{if(G=F?_n(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Ge=Lp;else if(kp(G))if(Pp)Ge=G1;else{Ge=H1;var pe=q1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&ha(F.elementType)&&(Ge=Lp):Ge=F1;if(Ge&&(Ge=Ge(t,F))){Vp(W,Ge,a,X);break e}pe&&pe(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&No(G,"number",G.value)}switch(pe=F?_n(F):window,t){case"focusin":(kp(pe)||pe.contentEditable==="true")&&(_a=pe,$h=F,qo=null);break;case"focusout":qo=$h=_a=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Gp(W,a,X);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":Gp(W,a,X)}var De;if(Ke)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else va?xs(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(wi&&a.locale!=="ko"&&(va||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&va&&(De=Vo()):(Ei=X,ko="value"in Ei?Ei.value:Ei.textContent,va=!0)),pe=bc(F,Pe),0<pe.length&&(Pe=new Si(Pe,t,null,a,X),W.push({event:Pe,listeners:pe}),De?Pe.data=De:(De=ya(a),De!==null&&(Pe.data=De)))),(De=On?U1(t,a):z1(t,a))&&(Pe=bc(F,"onBeforeInput"),0<Pe.length&&(pe=new Si("onBeforeInput","beforeinput",null,a,X),W.push({event:pe,listeners:Pe}),pe.data=De)),NT(W,t,F,a,X)}yv(W,i)})}function dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function bc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=$n(t,a),h!=null&&l.unshift(dl(t,h,d)),h=$n(t,i),h!=null&&l.push(dl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function kT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _v(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,N=T.alternate,F=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||F===null||(N=F,h?(F=$n(a,d),F!=null&&v.unshift(dl(a,F,N))):h||(F=$n(a,d),F!=null&&v.push(dl(a,F,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var VT=/\r\n?/g,LT=/\u0000|\uFFFD/g;function Ev(t){return(typeof t=="string"?t:""+t).replace(VT,`
`).replace(LT,"")}function bv(t,i){return i=Ev(i),Ev(t)===i}function nt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&fn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":Oo(t,l,d);break;case"data":if(i!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&nt(t,i,"name",h.name,h,null),nt(t,i,"formEncType",h.formEncType,h,null),nt(t,i,"formMethod",h.formMethod,h,null),nt(t,i,"formTarget",h.formTarget,h,null)):(nt(t,i,"encType",h.encType,h,null),nt(t,i,"method",h.method,h,null),nt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ua(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,ua(t,a,l))}}function Td(t,i,a,l,h,d){switch(a){case"style":Oo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ua(t,a,l)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,d,v,a,null)}}h&&nt(t,i,"srcSet",a.srcSet,a,null),l&&nt(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=v=h=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":N=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:nt(t,i,l,X,a,null)}}vu(t,d,T,N,F,v,h,!1);return;case"select":Ve("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:nt(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Er(t,!!l,i,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:nt(t,i,v,T,a,null)}br(t,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":nt(t,i,N,l,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<fl.length;l++)Ve(fl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,F,l,a,null)}return;default:if(ha(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Td(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&nt(t,i,T,l,a,null))}function PT(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,N=null,F=null,X=null;for(K in a){var W=a[K];if(a.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(K)||nt(t,i,K,null,l,W)}}for(var G in l){var K=l[G];if(W=a[G],l.hasOwnProperty(G)&&(K!=null||W!=null))switch(G){case"type":d=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":X=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==W&&nt(t,i,G,K,l,W)}}ca(t,v,T,N,F,X,d,h);return;case"select":K=v=T=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||nt(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==N&&nt(t,i,h,d,l,N)}i=T,a=v,l=K,G!=null?Er(t,!!a,G,!1):!!l!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&nt(t,i,v,h,l,d)}_u(t,G,K);return;case"option":for(var me in a)G=a[me],a.hasOwnProperty(me)&&G!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:nt(t,i,me,null,l,G));for(N in l)G=l[N],K=a[N],l.hasOwnProperty(N)&&G!==K&&(G!=null||K!=null)&&(N==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":nt(t,i,N,G,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)G=a[be],a.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be)&&nt(t,i,be,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:nt(t,i,F,G,l,K)}return;default:if(ha(i)){for(var it in a)G=a[it],a.hasOwnProperty(it)&&G!==void 0&&!l.hasOwnProperty(it)&&Td(t,i,it,void 0,l,G);for(X in l)G=l[X],K=a[X],!l.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||Td(t,i,X,G,l,K);return}}for(var P in a)G=a[P],a.hasOwnProperty(P)&&G!=null&&!l.hasOwnProperty(P)&&nt(t,i,P,null,l,G);for(W in l)G=l[W],K=a[W],!l.hasOwnProperty(W)||G===K||G==null&&K==null||nt(t,i,W,G,l,K)}function Tv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&Tv(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],F=N.startTime;if(F>T)break;var X=N.transferSize,W=N.initiatorType;X&&Tv(W)&&(N=N.responseEnd,v+=X*(N<T?1:(T-F)/(N-F)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sd=null,wd=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function Sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ad(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function zT(){var t=window.event;return t&&t.type==="popstate"?t===Rd?!1:(Rd=t,!0):(Rd=null,!1)}var Av=typeof setTimeout=="function"?setTimeout:void 0,jT=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(t){return Rv.resolve(null).then(t).catch(qT)}:Av;function qT(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function xv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ml(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&ml(t.ownerDocument.body);a=h}while(a);Qa(i)}function Cv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function xd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function HT(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function FT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Iv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function Cd(t){return t.data==="$?"||t.data==="$~"}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GT(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Nd=null;function Nv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Dv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Ov(t,i,a){switch(i=Tc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);la(t)}var jn=new Map,Mv=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=se.d;se.d={f:QT,r:KT,D:YT,C:$T,L:XT,m:JT,X:WT,S:ZT,M:eS};function QT(){var t=ar.f(),i=mc();return t||i}function KT(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?Xg(i):ar.r(t)}var Ha=typeof document>"u"?null:document;function kv(t,i,a){var l=Ha;if(l&&typeof i=="string"&&i){var h=hn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Mv.has(h)||(Mv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Jt(i,"link",t),It(i),l.head.appendChild(i)))}}function YT(t){ar.D(t),kv("dns-prefetch",t,null)}function $T(t,i){ar.C(t,i),kv("preconnect",t,i)}function XT(t,i,a){ar.L(t,i,a);var l=Ha;if(l&&t&&i){var h='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+hn(a.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var d=h;switch(i){case"style":d=Fa(t);break;case"script":d=Ga(t)}jn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(pl(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),Jt(i,"link",t),It(i),l.head.appendChild(i)))}}function JT(t,i){ar.m(t,i);var a=Ha;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(t)}if(!jn.has(d)&&(t=b({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(d)))return}l=a.createElement("link"),Jt(l,"link",t),It(l),a.head.appendChild(l)}}}function ZT(t,i,a){ar.S(t,i,a);var l=Ha;if(l&&t){var h=pi(l).hoistableStyles,d=Fa(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(pl(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&Dd(t,a);var N=v=l.createElement("link");It(N),Jt(N,"link",t),N._p=new Promise(function(F,X){N.onload=F,N.onerror=X}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function WT(t,i){ar.X(t,i);var a=Ha;if(a&&t){var l=pi(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=b({src:t,async:!0},i),(i=jn.get(h))&&Od(t,i),d=a.createElement("script"),It(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eS(t,i){ar.M(t,i);var a=Ha;if(a&&t){var l=pi(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&Od(t,i),d=a.createElement("script"),It(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Vv(t,i,a,l){var h=(h=Te.current)?Sc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=pi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var d=pi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(pl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||tS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=pi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Fa(t){return'href="'+hn(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function Lv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function tS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Jt(i,"link",a),It(i),t.head.appendChild(i))}function Ga(t){return'[src="'+hn(t)+'"]'}function gl(t){return"script[async]"+t}function Pv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return i.instance=l,It(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),Jt(l,"style",h),wc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Fa(a.href);var d=t.querySelector(pl(h));if(d)return i.state.loading|=4,i.instance=d,It(d),d;l=Lv(a),(h=jn.get(h))&&Dd(l,h),d=(t.ownerDocument||t).createElement("link"),It(d);var v=d;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Jt(d,"link",l),i.state.loading|=4,wc(d,a.precedence,t),i.instance=d;case"script":return d=Ga(a.src),(h=t.querySelector(gl(d)))?(i.instance=h,It(h),h):(l=a,(h=jn.get(d))&&(l=b({},a),Od(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),Jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,wc(l,a.precedence,t));return i.instance}function wc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Dd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Od(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ac=null;function Uv(t,i,a){if(Ac===null){var l=new Map,h=Ac=new Map;h.set(a,l)}else h=Ac,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[di]||d[Ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function zv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function nS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function jv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(l.href),d=i.querySelector(pl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Rc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,It(d);return}d=i.ownerDocument||i,l=Lv(l),(h=jn.get(h))&&Dd(l,h),d=d.createElement("link"),It(d);var v=d;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Jt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Rc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Md=0;function rS(t,i){return t.stylesheets&&t.count===0&&Cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Md===0&&(Md=62500*UT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Md?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Cc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,i.forEach(sS,t),xc=null,Rc.call(t))}function sS(t,i){if(!(i.state.loading&4)){var a=xc.get(t);if(a)var l=a.get(null);else{a=new Map,xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var yl={$$typeof:re,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function aS(t,i,a,l,h,d,v,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Bv(t,i,a,l,h,d,v,T,N,F,X,W){return t=new aS(t,i,a,v,N,F,X,W,T),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},gf(d),t}function qv(t){return t?(t=Ta,t):Ta}function Hv(t,i,a,l,h,d){h=qv(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(t,l,i),a!==null&&(yn(a,t,i),$o(a,t,i))}function Fv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function kd(t,i){Fv(t,i),(t=t.alternate)&&Fv(t,i)}function Gv(t){if(t.tag===13||t.tag===31){var i=Ns(t,67108864);i!==null&&yn(i,t,67108864),kd(t,67108864)}}function Qv(t){if(t.tag===13||t.tag===31){var i=xn();i=vs(i);var a=Ns(t,i);a!==null&&yn(a,t,i),kd(t,i)}}var Ic=!0;function oS(t,i,a,l){var h=z.T;z.T=null;var d=se.p;try{se.p=2,Vd(t,i,a,l)}finally{se.p=d,z.T=h}}function lS(t,i,a,l){var h=z.T;z.T=null;var d=se.p;try{se.p=8,Vd(t,i,a,l)}finally{se.p=d,z.T=h}}function Vd(t,i,a,l){if(Ic){var h=Ld(l);if(h===null)bd(t,i,l,Nc,a),Yv(t,l);else if(cS(h,t,i,a,l))l.stopPropagation();else if(Yv(t,l),i&4&&-1<uS.indexOf(t)){for(;h!==null;){var d=In(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ui(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-bt(v);T.entanglements[1]|=N,v&=~N}Ci(d),(Ye&6)===0&&(fc=on()+500,hl(0))}}break;case 31:case 13:T=Ns(d,2),T!==null&&yn(T,d,2),mc(),kd(d,2)}if(d=Ld(l),d===null&&bd(t,i,l,Nc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else bd(t,i,l,null,a)}}function Ld(t){return t=Nn(t),Pd(t)}var Nc=null;function Pd(t){if(Nc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Nc=t,null}function Kv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case Eo:return 2;case bo:return 8;case vr:case qh:return 32;case lu:return 268435456;default:return 32}default:return 32}}var Ud=!1,Gr=null,Qr=null,Kr=null,vl=new Map,_l=new Map,Yr=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yv(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(i.pointerId)}}function El(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&Gv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function cS(t,i,a,l,h){switch(i){case"focusin":return Gr=El(Gr,t,i,a,l,h),!0;case"dragenter":return Qr=El(Qr,t,i,a,l,h),!0;case"mouseover":return Kr=El(Kr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return vl.set(d,El(vl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,_l.set(d,El(_l.get(d)||null,t,i,a,l,h)),!0}return!1}function $v(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){Qv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){Qv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ld(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Mo=l,a.target.dispatchEvent(l),Mo=null}else return i=In(a),i!==null&&Gv(i),t.blockedOn=a,!1;i.shift()}return!0}function Xv(t,i,a){Dc(t)&&a.delete(i)}function hS(){Ud=!1,Gr!==null&&Dc(Gr)&&(Gr=null),Qr!==null&&Dc(Qr)&&(Qr=null),Kr!==null&&Dc(Kr)&&(Kr=null),vl.forEach(Xv),_l.forEach(Xv)}function Oc(t,i){t.blockedOn===i&&(t.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hS)))}var Mc=null;function Jv(t){Mc!==t&&(Mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Pd(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,Lf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Qa(t){function i(N){return Oc(N,t)}Gr!==null&&Oc(Gr,t),Qr!==null&&Oc(Qr,t),Kr!==null&&Oc(Kr,t),vl.forEach(i),_l.forEach(i);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)$v(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[jt]||null;if(typeof d=="function")v||Jv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[jt]||null)T=v.formAction;else if(Pd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Jv(a)}}}function Zv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function zd(t){this._internalRoot=t}kc.prototype.render=zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();Hv(a,l,t,i,null,null)},kc.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Hv(t.current,2,null,t,null,null),mc(),i[fi]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=mu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&$v(t)}};var Wv=e.version;if(Wv!=="19.2.4")throw Error(s(527,Wv,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var fS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Fn=Vc.inject(fS),Qt=Vc}catch{}}return Tl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=ay,d=oy,v=ly;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Bv(t,1,!1,null,null,a,l,null,h,d,v,Zv),t[fi]=i.current,Ed(t),new zd(i)},Tl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=ay,v=oy,T=ly,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Bv(t,1,!0,i,a??null,l,h,N,d,v,T,Zv),i.context=qv(null),a=i.current,l=xn(),l=vs(l),h=Mr(l),h.callback=null,kr(a,h,l),a=l,i.current.lanes=a,gs(i,a),Ci(i),t[fi]=i.current,Ed(t),new kc(i)},Tl.version="19.2.4",Tl}var u_;function SS(){if(u_)return Hd.exports;u_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hd.exports=TS(),Hd.exports}var wS=SS();var c_="popstate";function AS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return um("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Pl(o)}return xS(e,n,null,r)}function mt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RS(){return Math.random().toString(36).substring(2,10)}function h_(r,e){return{usr:r.state,key:r.key,idx:e}}function um(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:n,key:e&&e.key||s||RS()}}function Pl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function xS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let j=E(),te=j==null?null:j-g;g=j,y&&y({action:m,location:$.location,delta:te})}function R(j,te){m="PUSH";let ee=um($.location,j,te);g=E()+1;let re=h_(ee,g),oe=$.createHref(ee);try{f.pushState(re,"",oe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(oe)}u&&y&&y({action:m,location:$.location,delta:1})}function L(j,te){m="REPLACE";let ee=um($.location,j,te);g=E();let re=h_(ee,g),oe=$.createHref(ee);f.replaceState(re,"",oe),u&&y&&y({action:m,location:$.location,delta:0})}function Y(j){return CS(j)}let $={get action(){return m},get location(){return r(o,f)},listen(j){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(c_,b),y=j,()=>{o.removeEventListener(c_,b),y=null}},createHref(j){return e(o,j)},createURL:Y,encodeLocation(j){let te=Y(j);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:R,replace:L,go(j){return f.go(j)}};return $}function CS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Pl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Y0(r,e,n="/"){return IS(r,e,n,!1)}function IS(r,e,n,s){let o=typeof e=="string"?co(e):e,u=hr(o.pathname||"/",n);if(u==null)return null;let f=$0(r);NS(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=BS(u);m=zS(f[y],g,s)}return m}function $0(r,e=[],n=[],s="",o=!1){let u=(f,m,y=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;mt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=ur([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(mt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),$0(f.children,e,R,b,y)),!(f.path==null&&!f.index)&&e.push({path:b,score:PS(b,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let y of X0(f.path))u(f,m,!0,y)}),e}function X0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=X0(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function NS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:US(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var DS=/^:[\w-]+$/,OS=3,MS=2,kS=1,VS=10,LS=-2,f_=r=>r==="*";function PS(r,e){let n=r.split("/"),s=n.length;return n.some(f_)&&(s+=LS),e&&(s+=MS),n.filter(o=>!f_(o)).reduce((o,u)=>o+(DS.test(u)?OS:u===""?kS:VS),s)}function US(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function zS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=th({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),R=y.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=th({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:ur([u,b.pathname]),pathnameBase:GS(ur([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=ur([u,b.pathnameBase]))}return f}function th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=jS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},R)=>{if(E==="*"){let Y=m[R]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const L=m[R];return b&&!L?g[E]=void 0:g[E]=(L||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function jS(r,e=!1,n=!0){Vi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function BS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var qS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function HS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?co(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=d_(n.substring(1),"/"):u=d_(n,e)):u=e,{pathname:u,search:QS(s),hash:KS(o)}}function d_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function J0(r){let e=FS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Z0(r,e,n,s=!1){let o;typeof r=="string"?o=co(r):(o={...r},mt(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}m=b>=0?e[b]:"/"}let y=HS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var ur=r=>r.join("/").replace(/\/\/+/g,"/"),GS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,KS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,YS=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function $S(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function XS(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var W0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function eE(r,e){let n=r;if(typeof n!="string"||!qS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(W0)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=hr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Vi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tE=["POST","PUT","PATCH","DELETE"];new Set(tE);var JS=["GET",...tE];new Set(JS);var ho=U.createContext(null);ho.displayName="DataRouter";var Th=U.createContext(null);Th.displayName="DataRouterState";var ZS=U.createContext(!1),nE=U.createContext({isTransitioning:!1});nE.displayName="ViewTransition";var WS=U.createContext(new Map);WS.displayName="Fetchers";var ew=U.createContext(null);ew.displayName="Await";var Hn=U.createContext(null);Hn.displayName="Navigation";var Yl=U.createContext(null);Yl.displayName="Location";var zi=U.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var Um=U.createContext(null);Um.displayName="RouteError";var iE="REACT_ROUTER_ERROR",tw="REDIRECT",nw="ROUTE_ERROR_RESPONSE";function iw(r){if(r.startsWith(`${iE}:${tw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rw(r){if(r.startsWith(`${iE}:${nw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new YS(e.status,e.statusText,e.data)}catch{}}function sw(r,{relative:e}={}){mt($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Hn),{hash:o,pathname:u,search:f}=Xl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ur([n,u])),s.createHref({pathname:m,search:f,hash:o})}function $l(){return U.useContext(Yl)!=null}function gr(){return mt($l(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Yl).location}var rE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sE(r){U.useContext(Hn).static||U.useLayoutEffect(r)}function ta(){let{isDataRoute:r}=U.useContext(zi);return r?vw():aw()}function aw(){mt($l(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(ho),{basename:e,navigator:n}=U.useContext(Hn),{matches:s}=U.useContext(zi),{pathname:o}=gr(),u=JSON.stringify(J0(s)),f=U.useRef(!1);return sE(()=>{f.current=!0}),U.useCallback((y,g={})=>{if(Vi(f.current,rE),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=Z0(y,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ur([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}U.createContext(null);function aE(){let{matches:r}=U.useContext(zi),e=r[r.length-1];return e?e.params:{}}function Xl(r,{relative:e}={}){let{matches:n}=U.useContext(zi),{pathname:s}=gr(),o=JSON.stringify(J0(n));return U.useMemo(()=>Z0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ow(r,e){return oE(r,e)}function oE(r,e,n,s,o){mt($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Hn),{matches:f}=U.useContext(zi),m=f[f.length-1],y=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ee=b&&b.path||"";uE(g,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let R=gr(),L;if(e){let ee=typeof e=="string"?co(e):e;mt(E==="/"||ee.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),L=ee}else L=R;let Y=L.pathname||"/",$=Y;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");$="/"+Y.replace(/^\//,"").split("/").slice(ee.length).join("/")}let j=Y0(r,{pathname:$});Vi(b||j!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Vi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=fw(j&&j.map(ee=>Object.assign({},ee,{params:Object.assign({},y,ee.params),pathname:ur([E,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:ur([E,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),f,n,s,o);return e&&te?U.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},te):te}function lw(){let r=yw(),e=$S(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var uw=U.createElement(lw,null),lE=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=rw(r.digest);n&&(r=n)}let e=r!==void 0?U.createElement(zi.Provider,{value:this.props.routeContext},U.createElement(Um.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(cw,{error:r},e):e}};lE.contextType=ZS;var Yd=new WeakMap;function cw({children:r,error:e}){let{basename:n}=U.useContext(Hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=iw(e.digest);if(s){let o=Yd.get(e);if(o)throw o;let u=eE(s.location,n);if(W0&&!Yd.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Yd.set(e,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function hw({routeContext:r,match:e,children:n}){let s=U.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(zi.Provider,{value:r},n)}function fw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);mt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,y=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=E),b.route.id){let{loaderData:R,errors:L}=n,Y=b.route.loader&&!R.hasOwnProperty(b.route.id)&&(!L||L[b.route.id]===void 0);if(b.route.lazy||Y){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let g=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:XS(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,R)=>{let L,Y=!1,$=null,j=null;n&&(L=f&&b.route.id?f[b.route.id]:void 0,$=b.route.errorElement||uw,m&&(y<0&&R===0?(uE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,j=null):y===R&&(Y=!0,j=b.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,R+1)),ee=()=>{let re;return L?re=$:Y?re=j:b.route.Component?re=U.createElement(b.route.Component,null):b.route.element?re=b.route.element:re=E,U.createElement(hw,{match:b,routeContext:{outlet:E,matches:te,isDataRoute:n!=null},children:re})};return n&&(b.route.ErrorBoundary||b.route.errorElement||R===0)?U.createElement(lE,{location:n.location,revalidation:n.revalidation,component:$,error:L,children:ee(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ee()},null)}function zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dw(r){let e=U.useContext(ho);return mt(e,zm(r)),e}function mw(r){let e=U.useContext(Th);return mt(e,zm(r)),e}function pw(r){let e=U.useContext(zi);return mt(e,zm(r)),e}function jm(r){let e=pw(r),n=e.matches[e.matches.length-1];return mt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function gw(){return jm("useRouteId")}function yw(){let r=U.useContext(Um),e=mw("useRouteError"),n=jm("useRouteError");return r!==void 0?r:e.errors?.[n]}function vw(){let{router:r}=dw("useNavigate"),e=jm("useNavigate"),n=U.useRef(!1);return sE(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Vi(n.current,rE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var m_={};function uE(r,e,n){!e&&!m_[r]&&(m_[r]=!0,Vi(!1,n))}U.memo(_w);function _w({routes:r,future:e,state:n,onError:s}){return oE(r,void 0,n,s,e)}function Hs(r){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ew({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){mt(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),y=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=co(n));let{pathname:g="/",search:E="",hash:b="",state:R=null,key:L="default"}=n,Y=U.useMemo(()=>{let $=hr(g,m);return $==null?null:{location:{pathname:$,search:E,hash:b,state:R,key:L},navigationType:s}},[m,g,E,b,R,L,s]);return Vi(Y!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:U.createElement(Hn.Provider,{value:y},U.createElement(Yl.Provider,{children:e,value:Y}))}function bw({children:r,location:e}){return ow(cm(r),e)}function cm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,cm(s.props.children,u));return}mt(s.type===Hs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=cm(s.props.children,u)),n.push(f)}),n}var Hc="get",Fc="application/x-www-form-urlencoded";function Sh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Tw(r){return Sh(r)&&r.tagName.toLowerCase()==="button"}function Sw(r){return Sh(r)&&r.tagName.toLowerCase()==="form"}function ww(r){return Sh(r)&&r.tagName.toLowerCase()==="input"}function Aw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Rw(r,e){return r.button===0&&(!e||e==="_self")&&!Aw(r)}var Lc=null;function xw(){if(Lc===null)try{new FormData(document.createElement("form"),0),Lc=!1}catch{Lc=!0}return Lc}var Cw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $d(r){return r!=null&&!Cw.has(r)?(Vi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):r}function Iw(r,e){let n,s,o,u,f;if(Sw(r)){let m=r.getAttribute("action");s=m?hr(m,e):null,n=r.getAttribute("method")||Hc,o=$d(r.getAttribute("enctype"))||Fc,u=new FormData(r)}else if(Tw(r)||ww(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?hr(y,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Hc,o=$d(r.getAttribute("formenctype"))||$d(m.getAttribute("enctype"))||Fc,u=new FormData(m,r),!xw()){let{name:g,type:E,value:b}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,b)}}else{if(Sh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hc,s=null,o=Fc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Nw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&hr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Dw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ow(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Mw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Dw(u,n);return f.links?f.links():[]}return[]}));return Pw(s.flat(1).filter(Ow).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function p_(r,e,n,s,o,u){let f=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,m=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,g)=>f(y,g)||m(y,g)):u==="data"?e.filter((y,g)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let b=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function kw(r,e,{includeHydrateFallback:n}={}){return Vw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Vw(r){return[...new Set(r)]}function Lw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Pw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Lw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function cE(){let r=U.useContext(ho);return Bm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Uw(){let r=U.useContext(Th);return Bm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var qm=U.createContext(void 0);qm.displayName="FrameworkContext";function hE(){let r=U.useContext(qm);return Bm(r,"You must render this element inside a <HydratedRouter> element"),r}function zw(r,e){let n=U.useContext(qm),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,R=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=te=>{te.forEach(ee=>{f(ee.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return R.current&&j.observe(R.current),()=>{j.disconnect()}}},[r]),U.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let L=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Sl(m,L),onBlur:Sl(y,Y),onMouseEnter:Sl(g,L),onMouseLeave:Sl(E,Y),onTouchStart:Sl(b,L)}]:[!1,R,{}]}function Sl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function jw({page:r,...e}){let{router:n}=cE(),s=U.useMemo(()=>Y0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(qw,{page:r,matches:s,...e}):null}function Bw(r){let{manifest:e,routeModules:n}=hE(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return Mw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function qw({page:r,matches:e,...n}){let s=gr(),{future:o,manifest:u,routeModules:f}=hE(),{basename:m}=cE(),{loaderData:y,matches:g}=Uw(),E=U.useMemo(()=>p_(r,e,g,u,s,"data"),[r,e,g,u,s]),b=U.useMemo(()=>p_(r,e,g,u,s,"assets"),[r,e,g,u,s]),R=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,j=!1;if(e.forEach(ee=>{let re=u.routes[ee.route.id];!re||!re.hasLoader||(!E.some(oe=>oe.route.id===ee.route.id)&&ee.route.id in y&&f[ee.route.id]?.shouldRevalidate||re.hasClientLoader?j=!0:$.add(ee.route.id))}),$.size===0)return[];let te=Nw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return j&&$.size>0&&te.searchParams.set("_routes",e.filter(ee=>$.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[te.pathname+te.search]},[m,o.unstable_trailingSlashAwareDataRequests,y,s,u,E,e,r,f]),L=U.useMemo(()=>kw(b,u),[b,u]),Y=Bw(b);return U.createElement(U.Fragment,null,R.map($=>U.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),L.map($=>U.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),Y.map(({key:$,link:j})=>U.createElement("link",{key:$,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function Hw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fw&&(window.__reactRouterVersion="7.13.0")}catch{}function Gw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=AS({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),y=U.useCallback(g=>{n===!1?m(g):U.startTransition(()=>m(g))},[n]);return U.useLayoutEffect(()=>u.listen(y),[u,y]),U.createElement(Ew,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var fE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dE=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:R,...L},Y){let{basename:$,unstable_useTransitions:j}=U.useContext(Hn),te=typeof g=="string"&&fE.test(g),ee=eE(g,$);g=ee.to;let re=sw(g,{relative:o}),[oe,ue,he]=zw(s,L),x=$w(g,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:R,unstable_useTransitions:j});function A(M){e&&e(M),M.defaultPrevented||x(M)}let C=U.createElement("a",{...L,...he,href:ee.absoluteURL||re,onClick:ee.isExternal||u?e:A,ref:Hw(Y,ue),target:y,"data-discover":!te&&n==="render"?"true":void 0});return oe&&!te?U.createElement(U.Fragment,null,C,U.createElement(jw,{page:re})):C});dE.displayName="Link";var Qw=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...g},E){let b=Xl(f,{relative:g.relative}),R=gr(),L=U.useContext(Th),{navigator:Y,basename:$}=U.useContext(Hn),j=L!=null&&eA(b)&&m===!0,te=Y.encodeLocation?Y.encodeLocation(b).pathname:b.pathname,ee=R.pathname,re=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),re=re?re.toLowerCase():null,te=te.toLowerCase()),re&&$&&(re=hr(re,$)||re);const oe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let ue=ee===te||!o&&ee.startsWith(te)&&ee.charAt(oe)==="/",he=re!=null&&(re===te||!o&&re.startsWith(te)&&re.charAt(te.length)==="/"),x={isActive:ue,isPending:he,isTransitioning:j},A=ue?e:void 0,C;typeof s=="function"?C=s(x):C=[s,ue?"active":null,he?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return U.createElement(dE,{...g,"aria-current":A,className:C,ref:E,style:M,to:f,viewTransition:m},typeof y=="function"?y(x):y)});Qw.displayName="NavLink";var Kw=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Hc,action:m,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:R,...L},Y)=>{let{unstable_useTransitions:$}=U.useContext(Hn),j=Zw(),te=Ww(m,{relative:g}),ee=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&fE.test(m),oe=ue=>{if(y&&y(ue),ue.defaultPrevented)return;ue.preventDefault();let he=ue.nativeEvent.submitter,x=he?.getAttribute("formmethod")||f,A=()=>j(he||ue.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:R});$&&n!==!1?U.startTransition(()=>A()):A()};return U.createElement("form",{ref:Y,method:ee,action:te,onSubmit:s?y:oe,...L,"data-discover":!re&&r==="render"?"true":void 0})});Kw.displayName="Form";function Yw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mE(r){let e=U.useContext(ho);return mt(e,Yw(r)),e}function $w(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let g=ta(),E=gr(),b=Xl(r,{relative:u});return U.useCallback(R=>{if(Rw(R,e)){R.preventDefault();let L=n!==void 0?n:Pl(E)===Pl(b),Y=()=>g(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});y?U.startTransition(()=>Y()):Y()}},[E,g,b,n,s,e,r,o,u,f,m,y])}var Xw=0,Jw=()=>`__${String(++Xw)}__`;function Zw(){let{router:r}=mE("useSubmit"),{basename:e}=U.useContext(Hn),n=gw(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:y,encType:g,formData:E,body:b}=Iw(u,e);if(f.navigate===!1){let R=f.fetcherKey||Jw();await s(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||y,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||y,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Ww(r,{relative:e}={}){let{basename:n}=U.useContext(Hn),s=U.useContext(zi);mt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Xl(r||".",{relative:e})},f=gr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ur([n,u.pathname])),Pl(u)}function eA(r,{relative:e}={}){let n=U.useContext(nE);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mE("useViewTransitionState"),o=Xl(r,{relative:e});if(!n.isTransitioning)return!1;let u=hr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=hr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return th(o.pathname,f)!=null||th(o.pathname,u)!=null}const pE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const tA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const nA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const g_=r=>{const e=nA(r);return e.charAt(0).toUpperCase()+e.slice(1)};var iA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const sA=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},y)=>U.createElement("svg",{ref:y,...iA,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:pE("lucide",o),...!u&&!rA(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>U.createElement(g,E)),...Array.isArray(u)?u:[u]]));const _t=(r,e)=>{const n=U.forwardRef(({className:s,...o},u)=>U.createElement(sA,{ref:u,iconNode:e,className:pE(`lucide-${tA(g_(r))}`,`lucide-${r}`,s),...o}));return n.displayName=g_(r),n};const aA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wh=_t("arrow-left",aA);const oA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],y_=_t("award",oA);const lA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gE=_t("book-open",lA);const uA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ja=_t("circle-check-big",uA);const cA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hA=_t("clock",cA);const fA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],dA=_t("funnel",fA);const mA=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],v_=_t("github",mA);const pA=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],gA=_t("key",pA);const yA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],__=_t("log-out",yA);const vA=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],_A=_t("moon",vA);const EA=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],bA=_t("party-popper",EA);const TA=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],E_=_t("refresh-ccw",TA);const SA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wA=_t("save",SA);const AA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],RA=_t("search",AA);const xA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CA=_t("settings",xA);const IA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],NA=_t("sun",IA);const DA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Al=_t("target",DA);const OA=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],MA=_t("thumbs-up",OA);const kA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],VA=_t("triangle-alert",kA);const LA=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],hm=_t("trophy",LA);const PA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yE=_t("user",PA);const UA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zA=_t("x",UA),jA=({sections:r,progress:e,onSelectTheme:n,onSelectLesson:s})=>{const[o,u]=U.useState(""),f=U.useMemo(()=>{const m=o.trim().toLowerCase();return m?(r||[]).map(y=>{const g=y.items.filter(E=>E.name.toLowerCase().includes(m));return{...y,items:g}}).filter(y=>y.items.length>0):r||[]},[r,o]);return w.jsxs("div",{className:"page container",children:[w.jsx("div",{style:{display:"flex",alignItems:"flex-start",marginTop:"60px"},children:w.jsxs("div",{children:[w.jsx("h1",{className:"page-title",children:"Entranement Code de la Route"}),w.jsx("p",{className:"muted",children:"Choisissez un sujet et lancez le Quiz."})]})}),w.jsxs("div",{className:"search",style:{position:"relative"},children:[w.jsx(RA,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--muted)"}}),w.jsx("input",{className:"input",type:"search",placeholder:"Rechercher un thme",value:o,onChange:m=>u(m.target.value),"aria-label":"Rechercher un thme",style:{paddingLeft:"40px"}})]}),f.map((m,y)=>w.jsxs("div",{className:"section mb-5",children:[m.title&&w.jsx("h2",{className:"mt-4 mb-3",style:{fontSize:"1.4rem"},children:m.title}),w.jsx("div",{className:"theme-grid",children:m.items.map(g=>{const E=e&&e[g.id],b=E?E.score:null,R=b!==null,L=g.id==="examen_B"||m.title==="Examen",Y=g.lessonFile||!L&&g.file;return w.jsxs("div",{className:"theme-card card",style:{padding:"16px",display:"flex",flexDirection:"column",gap:"12px",position:"relative",overflow:"hidden",...L?{borderColor:"var(--warning)",background:"linear-gradient(to bottom right, var(--surface), rgba(245, 158, 11, 0.1))",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.15)"}:{}},children:[R&&w.jsxs("div",{style:{position:"absolute",top:0,right:0,background:"var(--primary)",color:"white",fontSize:"10px",padding:"2px 8px",borderBottomLeftRadius:"8px"},children:[b,"/",g.totalQuestions]}),w.jsxs("div",{style:{flex:1},children:[w.jsx("div",{className:"theme-name",style:{fontWeight:600,marginBottom:4,paddingRight:R?"40px":"0",...L?{color:"var(--warning)",fontSize:"1.1rem"}:{}},children:g.name}),g.totalQuestions>0&&w.jsxs("div",{className:"theme-meta",style:{color:"var(--muted)",fontSize:"13px"},children:[g.totalQuestions," questions"]})]}),w.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.file?w.jsx("button",{type:"button",className:`btn-primary ${L?"btn-exam":""}`,style:{flex:1,padding:"8px",display:"grid",placeItems:"center",...L?{background:"var(--warning)",borderColor:"var(--warning)",color:"#000"}:{}},onClick:()=>n(g),children:"Quiz"}):w.jsx("button",{type:"button",className:"btn-primary",style:{flex:1,padding:"8px",opacity:.5,cursor:"not-allowed",display:"grid",placeItems:"center"},disabled:!0,children:"Quiz"}),!L&&w.jsxs("button",{type:"button",className:"btn-ghost",style:{flex:1,padding:"8px",border:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",...Y?{}:{opacity:.5,cursor:"not-allowed"}},disabled:!Y,onClick:()=>{if(!Y)return;const $=g.lessonFile||(g.file?g.file.replace(".json",".html"):null);$&&s($)},children:[w.jsx(gE,{size:16})," Leon"]})]})]},g.id)})})]},y)),f.length===0&&w.jsx("p",{className:"muted text-center mt-5",children:"Aucun rsultat trouv."})]})},Hm=({onOpenProfile:r,toggleTheme:e,isDarkMode:n,showProfileButton:s=!0})=>w.jsxs("div",{style:{position:"fixed",top:"20px",right:"20px",display:"flex",gap:"4px",zIndex:1e3,background:"var(--surface)",padding:"4px",borderRadius:"30px",border:"1px solid var(--border)",boxShadow:"var(--shadow-sm)"},children:[s&&w.jsx("button",{className:"btn-ghost",onClick:r,title:"Mon Profil",style:{width:"36px",height:"36px",display:"grid",placeItems:"center",padding:0,borderRadius:"50%"},children:w.jsx(yE,{size:20})}),w.jsx("button",{className:"theme-toggle btn-ghost",onClick:e,title:n?"Mode clair":"Mode sombre",style:{width:"36px",height:"36px",display:"grid",placeItems:"center",padding:0,borderRadius:"50%"},children:n?w.jsx(NA,{size:20}):w.jsx(_A,{size:20})})]}),BA=({sections:r,progress:e,toggleTheme:n,isDarkMode:s})=>{const o=ta(),u=m=>{o(`/quiz/${m.id}`)},f=m=>{o(`/lecon/${encodeURIComponent(m)}`)};return w.jsxs(w.Fragment,{children:[w.jsx(Hm,{onOpenProfile:()=>o("/profil"),toggleTheme:n,isDarkMode:s}),w.jsx(jA,{sections:r,progress:e,onSelectTheme:u,onSelectLesson:f})]})},qA="modulepreload",HA=function(r){return"/permis-online-free/"+r},b_={},Xd=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");o=y(n.map(g=>{if(g=HA(g),g in b_)return;b_[g]=!0;const E=g.endsWith(".css"),b=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const R=document.createElement("link");if(R.rel=E?"stylesheet":qA,E||(R.as="script"),R.crossOrigin="",R.href=g,m&&R.setAttribute("nonce",m),document.head.appendChild(R),E)return new Promise((L,Y)=>{R.addEventListener("load",L),R.addEventListener("error",()=>Y(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})},FA=({question:r,onAnswer:e,currentIndex:n,total:s,instantFeedback:o,autoPlayAudio:u,onNext:f,isLastQuestion:m,fileName:y,onQuestionUpdated:g})=>{const[E,b]=U.useState(null),[R,L]=U.useState(!1),[Y,$]=U.useState(!1),[j,te]=U.useState(""),[ee,re]=U.useState(null),[oe,ue]=U.useState(!1),he=3e4,[x,A]=U.useState(he),C=U.useRef(null),M=U.useRef(null),O=U.useRef(!1),[k,I]=U.useState(!1),[Me,Be]=U.useState(null),[z,se]=U.useState(null),[J,fe]=U.useState(""),[_e,D]=U.useState(null),q=Me||r,ie=!!Me;U.useEffect(()=>{I(!1),Be(null),se(null),fe("")},[r?.id]),U.useEffect(()=>{const Se=()=>{const at=window.speechSynthesis.getVoices().filter(Rt=>Rt.lang.startsWith("fr")),$e=at.find(Rt=>Rt.name.includes("Google"))||at.find(Rt=>Rt.name.includes("Microsoft"))||at.find(Rt=>Rt.name.includes("Natural"))||at[0];D($e)};return Se(),window.speechSynthesis.onvoiceschanged=Se,()=>{window.speechSynthesis.onvoiceschanged=null}},[]),U.useEffect(()=>{if(u&&q){window.speechSynthesis.cancel();let Se=q.question||"";if(q.propositions&&Array.isArray(q.propositions)){const at=q.propositions.map($e=>`${$e.letter}... ${$e.text}`).join(". ");Se+=`. ${at}`}else q.type==="yes_no"&&(Se+=". A... Oui. B... Non.");const Fe=new SpeechSynthesisUtterance(Se);_e&&(Fe.voice=_e),Fe.lang="fr-FR",Fe.rate=1,window.speechSynthesis.speak(Fe)}else window.speechSynthesis.cancel();return()=>{window.speechSynthesis.cancel()}},[q,u,_e]),U.useEffect(()=>{if(b(null),L(!1),te(""),re(null),ue(!1),A(he),clearInterval(C.current),clearTimeout(M.current),ie&&(z===null||z==="error"))return;const Fe=Date.now();return C.current=setInterval(()=>{const at=Date.now()-Fe,$e=Math.max(0,he-at);A($e)},100),M.current=setTimeout(()=>{O.current||(ue(!0),b(null),L(!0),re("incorrect"),e({isCorrect:!1,userAnswer:null,correctAnswer:q.correctAnswer,questionId:q.id}))},he),()=>{clearInterval(C.current),clearTimeout(M.current)}},[q?.id,q?.question,ie,z]),U.useEffect(()=>{O.current=R},[R]);const ce=U.useMemo(()=>{const Se=q?.correctAnswer??"";return String(Se).trim()},[q?.correctAnswer]),ge=Se=>{const Fe=String(Se??"").trim(),at=String(ce??"").trim(),$e=Number(Fe.replace(",",".")),Rt=Number(at.replace(",","."));return!Number.isNaN($e)&&!Number.isNaN(Rt)&&Fe!==""&&at!==""?$e===Rt:Fe.toUpperCase()===at.toUpperCase()},Te=Se=>{if(R)return;b(Se),L(!0);const Fe=Se===q.correctAnswer;re(Fe?"correct":"incorrect"),clearInterval(C.current),clearTimeout(M.current),e({isCorrect:Fe,userAnswer:Se,correctAnswer:q.correctAnswer,questionId:q.id})},Oe=()=>{if(R)return;const Se=String(j??"").trim();if(!Se)return;const Fe=ge(Se);b(Se),L(!0),re(Fe?"correct":"incorrect"),clearInterval(C.current),clearTimeout(M.current),e({isCorrect:Fe,userAnswer:Se,correctAnswer:q.correctAnswer,questionId:q.id})},ft=Se=>oe?"dimmed":R&&o?Se===q.correctAnswer?"correct":Se===E&&E!==q.correctAnswer?"incorrect":"dimmed":E==null?"":Se===E?"selected":"dimmed",st=async()=>{const Se=localStorage.getItem("groq_api_key");if(!Se){alert("Veuillez ajouter votre cl API Groq dans le Profil.");return}I(!0),se(null);try{const{fixQuestionWithGroq:Fe}=await Xd(async()=>{const{fixQuestionWithGroq:$e}=await import("./groq-BVVAa691-1771284315967.js");return{fixQuestionWithGroq:$e}},[]),at=await Fe(r,Se);Be(at)}catch(Fe){console.error(Fe),alert("Erreur lors de la correction : "+Fe.message)}finally{I(!1)}},ji=async()=>{if(!Me)return;const{saveQuestionLocally:Se}=await Xd(async()=>{const{saveQuestionLocally:Gt}=await import("./api-Y8rDLHL4-1771284315967.js");return{saveQuestionLocally:Gt}},[]),{saveQuestionToGitHub:Fe,getUser:at}=await Xd(async()=>{const{saveQuestionToGitHub:Gt,getUser:Bi}=await import("./githubClient-BTH133iF-1771284315967.js");return{saveQuestionToGitHub:Gt,getUser:Bi}},[]);se("saving");const $e=r.sourceFile||y;if(console.log("[QuestionCard] Debug Fix:",{id:r.id,sourceFile:r.sourceFile,propFileName:y,effective:$e}),!$e){se("error"),fe("Erreur: Nom de fichier manquant");return}try{await Se($e,r.id,Me)}catch{}const Rt=localStorage.getItem("github_token");if(!Rt){navigator.clipboard.writeText(JSON.stringify(Me,null,2)),se("success"),fe("Copi (Pas de token GitHub)");return}try{const Gt=await at(Rt),Bi="skyreks00",ds="permis-online-free",gt=`public/data/${$e}`,Et=`fix(content): correct question ${r.id} in ${$e} (AI)`;console.log("[handleConfirmFix] Saving question to GitHub...");const cn=await Fe(Rt,Bi,ds,gt,r.id,Me,Et,Gt);if(cn.type==="unchanged"){se("success"),fe("Aucun changement dtect");return}se("success"),cn.type==="pr"?fe(w.jsx("a",{href:cn.url,target:"_blank",rel:"noreferrer",children:"PR cre !"})):cn.type==="commit"?fe(w.jsx("a",{href:cn.url,target:"_blank",rel:"noreferrer",children:"Commit effectu !"})):fe("Sauvegard !"),g&&g(Me),setTimeout(()=>{Be(null),se(null)},2e3)}catch(Gt){console.error("[handleConfirmFix] GitHub save error:",Gt),se("error"),fe("Erreur GitHub: "+(Gt.message||"Problme de sauvegarde"))}};return w.jsxs("div",{className:`question-card ${oe?"timed-out":""} ${ie?"correction-mode":""}`,style:ie?{border:"2px solid var(--warning)",boxShadow:"0 0 15px rgba(255, 193, 7, 0.3)"}:{},children:[w.jsxs("div",{className:"question-header",children:[w.jsxs("div",{className:"question-progress","aria-live":"polite",children:["Question ",Math.min(n+1,s)," / ",s,ie&&w.jsx("span",{className:"text-warning font-bold ml-2",children:" CORRECTION SUGGRE"})]}),localStorage.getItem("groq_api_key")&&!ie&&w.jsx("button",{onClick:st,disabled:k,className:"btn-ghost",style:{fontSize:"12px",padding:"4px 8px",display:"flex",alignItems:"center",gap:"4px"},title:"Suggrer une correction",children:k?"...":" Corriger"})]}),ie&&(z===null||z==="error")&&w.jsxs("div",{className:"p-3 bg-surface-2 border-b border-warning mb-4 rounded flex flex-col gap-2",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("span",{className:"text-sm font-bold text-warning",children:"Valider cette correction ?"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>Be(null),className:"btn-ghost text-xs bg-surface-1",disabled:z==="saving",children:"Annuler"}),w.jsx("button",{onClick:ji,className:"btn-primary text-xs bg-warning border-warning text-black",disabled:z==="saving",children:z==="saving"?"Envoi...":"Valider"})]})]}),z==="error"&&w.jsx("div",{className:"text-danger text-xs",children:J})]}),(z==="success"||z==="saving")&&w.jsxs("div",{className:"toast-notification",children:[w.jsx(Ja,{size:24,className:z==="success"?"text-success":"text-muted"}),w.jsxs("div",{children:[w.jsx("div",{className:"font-bold text-sm",children:z==="success"?"Correction envoye !":"Envoi en cours..."}),z==="success"&&w.jsx("div",{className:"text-xs text-muted",children:J}),z==="saving"&&w.jsx("div",{className:"text-xs text-muted",children:"Vous pouvez continuer  jouer"})]})]}),w.jsxs("div",{className:"question-main",style:{opacity:ie&&(z===null||z==="error")?.6:1,filter:ie&&(z===null||z==="error")?"grayscale(100%)":"none",transition:"all 0.3s ease"},children:[w.jsx("div",{className:"question-left",children:q.image?w.jsx("div",{className:"question-image",children:w.jsx("img",{src:q.image,alt:"Illustration"})}):w.jsx("div",{className:"question-image placeholder"})}),w.jsxs("div",{className:"question-right",children:[w.jsx("div",{className:"question-text",children:w.jsx("div",{children:w.jsx("div",{className:"question-text-inner",children:q.question})})}),w.jsx("div",{className:"answers",children:(q.type==="multiple_choice"||q.type==="single_choice")&&q.propositions?q.propositions.map((Se,Fe)=>{const at=R&&o&&Se.letter===q.correctAnswer,$e=k||R||ie&&(z===null||z==="error");return w.jsxs("button",{className:`answer-btn ${ft(Se.letter)}`,onClick:()=>Te(Se.letter),disabled:$e,children:[w.jsx("div",{className:"answer-key",children:Se.letter}),w.jsx("div",{className:"answer-text",children:Se.text}),at&&w.jsx(Ja,{size:20,className:"answer-check"})]},`${Se.letter}-${Fe}`)}):q.type==="yes_no"?w.jsxs(w.Fragment,{children:[w.jsxs("button",{className:`answer-btn ${ft("OUI")}`,onClick:()=>Te("OUI"),disabled:k||R||ie&&(z===null||z==="error"),children:[w.jsx("div",{className:"answer-key",children:"A"}),w.jsx("div",{className:"answer-text",children:"Oui"}),R&&o&&q.correctAnswer==="OUI"&&w.jsx(Ja,{size:20,className:"answer-check"})]}),w.jsxs("button",{className:`answer-btn ${ft("NON")}`,onClick:()=>Te("NON"),disabled:k||R||ie&&(z===null||z==="error"),children:[w.jsx("div",{className:"answer-key",children:"B"}),w.jsx("div",{className:"answer-text",children:"Non"}),R&&o&&q.correctAnswer==="NON"&&w.jsx(Ja,{size:20,className:"answer-check"})]})]}):w.jsx("div",{className:"number-wrap",children:w.jsxs("div",{className:`number-field ${R?o?ee==="correct"?"correct":"incorrect":"selected":""}`,children:[w.jsx("input",{className:"number-input",type:"text",inputMode:"numeric",placeholder:"Votre rponse",value:j,disabled:k||R||ie&&(z===null||z==="error"),onChange:Se=>te(Se.target.value),onKeyDown:Se=>{Se.key==="Enter"&&Oe()}}),w.jsx("button",{className:"number-submit",type:"button",onClick:Oe,disabled:k||R||!String(j??"").trim()||ie&&(z===null||z==="error"),children:"OK"})]})})}),w.jsx("div",{className:"countdown","aria-hidden":"true",children:w.jsx("div",{className:"countdown-track",children:w.jsx("div",{className:"countdown-fill",style:{width:`${Math.max(0,Math.min(100,x/he*100))}%`}})})})]})]}),R&&w.jsxs("div",{className:"quiz-nav-buttons",children:[o&&r?.explanation&&w.jsxs("button",{onClick:()=>$(!0),className:"btn-explanation",children:[w.jsx(gE,{size:20}),"Explication"]}),w.jsx("button",{type:"button",onClick:f,className:"btn-next",children:m?"Terminer":"Suivant"})]}),Y&&w.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.75)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",backdropFilter:"blur(4px)"},onClick:()=>$(!1),children:w.jsxs("div",{style:{background:"var(--surface)",color:"var(--foreground)",padding:"24px",borderRadius:"16px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"var(--shadow-lg)",border:"1px solid var(--border)"},onClick:Se=>Se.stopPropagation(),className:"animate-in fade-in zoom-in-95 duration-200",children:[w.jsx("button",{onClick:()=>$(!1),style:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",color:"var(--muted-foreground)",cursor:"pointer",padding:"4px"},children:w.jsx(zA,{size:24})}),w.jsx("div",{style:{lineHeight:"1.6",fontSize:"1.05rem"},children:r.explanation.replace(/^\s*INFO\W*PERMIS\W*DE\W*CONDUIRE\W*/i,"").replace(/^\s*Signification\W*/i,"").replace(/^\s*Explication\W*/i,"").replace(/^\s*LE(?:|C)ON\s*\d+(?:\s*[\-:]\s*[^.\n]*)?(?:[.\n]\s*)?/i,"").trim()})]})})]})},GA=({questions:r,themeName:e,onFinish:n,onExit:s,instantFeedback:o,autoPlayAudio:u,fileName:f})=>{const[m,y]=U.useState(0),[g,E]=U.useState(0),[b,R]=U.useState(!1),[L,Y]=U.useState(r);U.useRef(0);const $=U.useRef([]),j=L[m],te=({isCorrect:oe,userAnswer:ue,correctAnswer:he,questionId:x})=>{console.log("DEBUG: handleAnswer called",{currentQuestionIndex:m,questionId:x,isCorrect:oe}),$.current[m]={questionId:x,userAnswer:ue,correctAnswer:he,isCorrect:oe},console.log("DEBUG: answersRef updated",JSON.stringify($.current));const A=$.current.filter(C=>C&&C.isCorrect).length;console.log("DEBUG: newScore calculated",A),E(A),R(!0)},ee=()=>{if(m<L.length-1)y(m+1),R(!1);else{const oe=$.current.filter(ue=>ue&&ue.isCorrect).length;n({score:oe,answers:$.current})}},re=async oe=>{const ue=[...L];ue[m]=oe,Y(ue)};return w.jsxs("div",{className:"quiz",children:[w.jsx("div",{className:"quiz-topbar",children:w.jsxs("button",{className:"exit-btn",onClick:s,style:{display:"flex",alignItems:"center",gap:"6px"},children:[w.jsx(wh,{size:18})," Retour"]})}),w.jsx("div",{className:"quiz-content",children:w.jsx(FA,{title:e,question:j,onAnswer:te,currentIndex:m,total:L.length,instantFeedback:o,autoPlayAudio:u,onNext:ee,isLastQuestion:m===L.length-1,fileName:f,onQuestionUpdated:re},`${m}-${j?.id??"q"}`)})]})},QA="https://raw.githubusercontent.com/skyreks00/permis-online-free/main/public/data",vE=async(r,e=null)=>{const n=Date.now(),s=`${QA}/${r}?_=${n}`;try{console.log(`[ContentLoader] Fetching ${r} from GitHub...`);const o=await fetch(s);if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);const u=await o.json();return console.log(`[ContentLoader] Successfully loaded ${r} from GitHub`),u}catch(o){console.warn(`[ContentLoader] Failed to load ${r} from GitHub:`,o.message),console.log(`[ContentLoader] Trying local fallback for ${r}...`)}try{console.log(`[ContentLoader] Fetching ${r} from local data...`);const o=await fetch(`data/${r}`);if(o.ok){const u=await o.json();return console.log(`[ContentLoader] Successfully loaded ${r} from local data`),u}}catch{console.warn(`[ContentLoader] Local fetch also failed for ${r}`)}if(e)return console.log(`[ContentLoader] Using bundled fallback for ${r}`),e;throw new Error(`Failed to load ${r} from all sources`)},fm=async(r,e=null)=>vE(r,e),KA=async(r=null)=>vE("themes.json",r),YA=({sections:r,onFinishQuiz:e,onPatchProgress:n,instantFeedback:s,autoPlayAudio:o,toggleTheme:u,isDarkMode:f,onMistakesCorrected:m})=>{const{themeId:y}=aE(),g=ta(),E=gr(),[b,R]=U.useState([]),[L,Y]=U.useState(null),[$,j]=U.useState(!0),[te,ee]=U.useState(null);U.useEffect(()=>{const oe=async()=>{if(E.state?.questions&&E.state?.theme){Y(E.state.theme),R(E.state.questions),j(!1);return}if(!r||r.length===0)return;if(j(!0),ee(null),E.state&&E.state.questions){Y({id:"review",name:E.state.title||"Rvision des erreurs",file:null}),R(E.state.questions),j(!1);return}let ue=null;if(y==="examen_B")ue={id:"examen_B",name:"Examen Blanc",file:"examen_B.json"};else for(const he of r){const A=(he.items||he.themes||[]).find(C=>C.id===y);if(A){ue=A;break}}if(!ue){ee("Thme non trouv"),j(!1);return}Y(ue);try{let x=(await fm(ue.file)).questions||[];x.length===0&&(x=(await(await fetch(`/permis-online-free/data/${ue.file}`)).json()).questions||[]);const A=[...x].sort(()=>Math.random()-.5);ue.id.includes("examen")?R(A.slice(0,50)):R(A)}catch(he){console.error("Failed to load questions",he),ee("Erreur de chargement des questions")}finally{j(!1)}};(r.length>0||E.state&&E.state.questions)&&oe()},[y,r,E.state]);const re=oe=>{const ue=typeof oe=="number"?oe:oe.score,he=typeof oe=="object"?oe.answers:[],x=E.state&&E.state.isReview;if(e&&!x)e(L.id,ue,b.length,oe.answers);else if(x&&n){const C=(oe.answers||[]).filter(M=>M&&M.isCorrect);if(C.length>0){const M={};b.forEach(k=>{k.originalThemeId&&(M[k.id]=k.originalThemeId)});const O={};C.forEach(k=>{const I=M[k.questionId];I&&(O[I]||(O[I]=[]),O[I].push(k))}),Object.keys(O).forEach(k=>{n(k,O[k])})}}g("/resultats",{state:{score:ue,total:b.length,questions:b,answers:he,isExamMode:L.id.includes("examen"),isReviewSession:x}})};return $||!r||r.length===0?w.jsxs("div",{className:"p-8 text-center",children:[w.jsx("span",{className:"loading loading-spinner loading-lg"}),w.jsx("br",{}),"Chargement du quiz..."]}):te?w.jsxs("div",{className:"p-8 text-center text-error",children:[te," ",w.jsx("br",{}),w.jsx("button",{onClick:()=>g("/"),className:"btn mt-4",children:"Retour"})]}):w.jsxs(w.Fragment,{children:[w.jsx(Hm,{showProfileButton:!1,toggleTheme:u,isDarkMode:f}),L&&b.length>0&&w.jsx(GA,{questions:b,themeName:L.name,onFinish:re,onExit:()=>g("/"),instantFeedback:s&&!L.id.includes("examen"),autoPlayAudio:o,fileName:L.file})]})},$A=({score:r,total:e,questions:n=[],answers:s=[],showReview:o=!1,onRestart:u,onBackToThemes:f,isExamMode:m,isReviewOnly:y=!1,customErrorItems:g=null,onBackToProfile:E})=>{const b=e>0?Math.round(r/e*100):0,L=y?{icon:w.jsx(Al,{size:48,className:"text-primary"}),text:"Mode Rvision",tone:"info"}:m?e-r>=9?{icon:w.jsx(Al,{size:48,className:"text-danger"}),text:"CHEC - 9 fautes ou plus",tone:"danger"}:{icon:w.jsx(hm,{size:48,className:"text-success"}),text:"RUSSI !",tone:"success"}:b>=90?{icon:w.jsx(hm,{size:48,className:"text-success"}),text:"Excellent !",tone:"success"}:b>=75?{icon:w.jsx(MA,{size:48,className:"text-success"}),text:"Trs bien !",tone:"success"}:b>=50?{icon:w.jsx(y_,{size:48,className:"text-warning"}),text:"Pas mal !",tone:"warn"}:{icon:w.jsx(Al,{size:48,className:"text-danger"}),text:"Continue  t'entraner !",tone:"danger"},Y=g||(n||[]).map((j,te)=>({q:j,a:s?.[te],idx:te})).filter(({a:j})=>j&&j.isCorrect===!1),$=j=>j?j.replace(/^\s*INFO\W*PERMIS\W*DE\W*CONDUIRE\W*/i,"").replace(/^\s*Signification\W*/i,"").replace(/^\s*Explication\W*/i,"").replace(/^\s*LE(?:|C)ON\s*\d+(?:\s*[\-:]\s*[^.\n]*)?(?:[.\n]\s*)?/i,"").trim():"";return w.jsxs("div",{className:"results container",style:{textAlign:"center"},children:[y?w.jsxs("div",{style:{margin:"20px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[w.jsx(Al,{size:32,className:"text-primary"}),w.jsx("h1",{style:{margin:0},children:"Rvision des erreurs"})]}),w.jsx("p",{className:"text-muted",children:"Voici les points  retravailler. Prenez le temps de lire les explications."}),w.jsxs("button",{onClick:E,className:"btn-secondary flex items-center gap-2",children:[w.jsx(wh,{size:20})," Retour au profil"]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:{margin:"20px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[L.icon,w.jsx("h1",{style:{margin:0},children:L.text})]}),w.jsxs("p",{style:{fontSize:"1.2rem",marginBottom:"20px"},children:["Score: ",w.jsx("strong",{children:r})," / ",e," (",b,"%)"]}),w.jsxs("p",{children:["Correctes: ",w.jsx("strong",{children:r})," | Incorrectes: ",w.jsx("strong",{children:e-r})]}),w.jsxs("div",{className:"results-actions",style:{justifyContent:"center"},children:[w.jsx("button",{type:"button",className:"btn-primary",onClick:u,children:"Recommencer"}),w.jsx("button",{type:"button",onClick:f,children:"Choisir un autre thme"}),w.jsx("button",{type:"button",className:"btn-secondary",onClick:E,children:"Retour au profil"})]})]}),(o||y)&&w.jsx("div",{style:{marginTop:"30px",textAlign:"left",display:"flex",flexDirection:"column",gap:"32px"},children:Y.length===0?w.jsxs("div",{className:"card",style:{padding:"32px",textAlign:"center"},children:[w.jsxs("p",{className:"muted",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"1.2rem",margin:0},children:[w.jsx(bA,{size:24})," Aucune erreur  rviser. Bravo !"]}),y&&w.jsx("button",{onClick:E,className:"btn-primary mt-4",children:"Retour au profil"})]}):Y.map(({q:j,a:te,idx:ee})=>w.jsxs("div",{className:"question-card card",children:[w.jsx("div",{className:"question-header",children:w.jsxs("div",{className:"question-progress",style:{color:"var(--danger)"},children:["Question ",ee+1]})}),w.jsxs("div",{className:"question-main",children:[w.jsx("div",{className:"question-left",children:j.image?w.jsx("div",{className:"question-image",children:w.jsx("img",{src:j.image,alt:"Illustration"})}):w.jsx("div",{className:"question-image placeholder"})}),w.jsxs("div",{className:"question-right",children:[w.jsx("div",{className:"question-text",children:w.jsx("div",{className:"question-text-inner",children:j.question})}),w.jsx("div",{className:"answers",children:j.type==="multiple_choice"&&j.propositions?j.propositions.map(re=>{const oe=re.letter===j.correctAnswer,ue=te?.userAnswer===re.letter;let he="";return oe?he="correct":ue?he="incorrect":he="dimmed",w.jsxs("button",{className:`answer-btn ${he}`,disabled:!0,style:{opacity:1,cursor:"default"},children:[w.jsx("div",{className:"answer-key",children:re.letter}),w.jsx("div",{className:"answer-text",children:re.text}),oe&&w.jsx(Ja,{size:20,className:"text-success"})]},re.letter)}):j.type==="yes_no"?w.jsx(w.Fragment,{children:["OUI","NON"].map((re,oe)=>{const ue=oe===0?"A":"B",he=oe===0?"Oui":"Non",x=re===j.correctAnswer,A=te?.userAnswer===re;let C="";return x?C="correct":A?C="incorrect":C="dimmed",w.jsxs("button",{className:`answer-btn ${C}`,disabled:!0,style:{opacity:1,cursor:"default"},children:[w.jsx("div",{className:"answer-key",children:ue}),w.jsx("div",{className:"answer-text",children:he}),x&&w.jsx(Ja,{size:20,className:"text-success"})]},re)})}):w.jsxs("div",{className:"p-4 border rounded bg-surface-2",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Votre rponse:"})," ",te?.userAnswer||""]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Rponse attendue:"})," ",j.correctAnswer]})]})})]})]}),j.explanation&&w.jsxs("div",{className:"explanation animate-fade-in",children:[w.jsxs("div",{className:"explanation-title",style:{display:"flex",alignItems:"center",gap:"8px"},children:[w.jsx(y_,{size:20,className:"text-primary"}),"Conseil"]}),w.jsx("div",{className:"explanation-text",style:{fontSize:"1.05rem",lineHeight:1.6},children:$(j.explanation)})]})]},`${j.id}-${ee}`))})]})},T_=({toggleTheme:r,isDarkMode:e})=>{const n=gr(),s=ta(),o=n.state||{};U.useEffect(()=>{n.state||console.warn("No state found in ResultsPage, redirecting to home.")},[n.state]);const u=()=>{const g=o.results?{...o,...o.results}:o;if(g.isReviewSession){const E=(g.questions||[]).filter((b,R)=>{const L=g.answers?.[R];return L&&L.isCorrect===!1});if(E.length>0){s("/quiz/review",{state:{questions:E,title:g.title||"Rvision des erreurs",isReview:!0}});return}}if(g.questions&&g.questions.length>0){const b=g.questions[0].originalThemeId||g.themeId;s(b?`/quiz/${b}`:"/")}else s("/")},f=()=>{s("/")},m=()=>{s("/profil")},y=o.results?{...o,...o.results}:o;return w.jsx("div",{className:"page animate-fade-in",children:w.jsx($A,{...y,onRestart:u,onBackToThemes:f,onBackToProfile:m,toggleTheme:r,isDarkMode:e,showReview:!0})})},XA=()=>{};var S_={};const _E=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},JA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},EE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,L=g&63;y||(L=64,f||(R=64)),s.push(n[E],n[b],n[R],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_E(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new ZA;const R=u<<2|m>>4;if(s.push(R),g!==64){const L=m<<4&240|g>>2;if(s.push(L),b!==64){const Y=g<<6&192|b;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WA=function(r){const e=_E(r);return EE.encodeByteArray(e,!0)},nh=function(r){return WA(r).replace(/\./g,"")},bE=function(r){try{return EE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function e2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const t2=()=>e2().__FIREBASE_DEFAULTS__,n2=()=>{if(typeof process>"u"||typeof S_>"u")return;const r=S_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},i2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&bE(r[1]);return e&&JSON.parse(e)},Ah=()=>{try{return XA()||t2()||n2()||i2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},TE=r=>Ah()?.emulatorHosts?.[r],r2=r=>{const e=TE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},SE=()=>Ah()?.config,wE=r=>Ah()?.[`_${r}`];class s2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AE(r){return(await fetch(r,{credentials:"include"})).ok}function a2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const Nl={};function o2(){const r={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?r.emulator.push(e):r.prod.push(e);return r}function l2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let w_=!1;function RE(r,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Nl[r]===e||Nl[r]||w_)return;Nl[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=o2().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{w_=!0,f()},R}function E(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=l2(s),L=n("text"),Y=document.getElementById(L)||document.createElement("span"),$=n("learnmore"),j=document.getElementById($)||document.createElement("a"),te=n("preprendIcon"),ee=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const re=R.element;m(re),E(j,$);const oe=g();y(ee,te),re.append(ee,Y,j,oe),document.body.appendChild(re)}u?(Y.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function c2(){const r=Ah()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function d2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m2(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function p2(){return!c2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g2(){try{return typeof indexedDB=="object"}catch{return!1}}function y2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const v2="FirebaseError";class yr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=v2,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?_2(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new yr(o,m,s)}}function _2(r,e){return r.replace(E2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const E2=/\{\$([^}]+)}/g;function b2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function $s(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(A_(u)&&A_(f)){if(!$s(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function A_(r){return r!==null&&typeof r=="object"}function Zl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function T2(r,e){const n=new S2(r,e);return n.subscribe.bind(n)}class S2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");w2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Jd),o.error===void 0&&(o.error=Jd),o.complete===void 0&&(o.complete=Jd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Jd(){}function oi(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fs="[DEFAULT]";class A2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new s2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x2(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:R2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R2(r){return r===Fs?void 0:r}function x2(r){return r.instantiationMode==="EAGER"}class C2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const I2={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},N2=Ue.INFO,D2={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},O2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=D2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=N2,this._logHandler=O2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const M2=(r,e)=>e.some(n=>r instanceof n);let R_,x_;function k2(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V2(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xE=new WeakMap,dm=new WeakMap,CE=new WeakMap,Zd=new WeakMap,Gm=new WeakMap;function L2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ns(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&xE.set(n,r)}).catch(()=>{}),Gm.set(e,r),e}function P2(r){if(dm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});dm.set(r,e)}let mm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return dm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||CE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function U2(r){mm=r(mm)}function z2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Wd(this),e,...n);return CE.set(s,e.sort?e.sort():[e]),ns(s)}:V2().includes(r)?function(...e){return r.apply(Wd(this),e),ns(xE.get(this))}:function(...e){return ns(r.apply(Wd(this),e))}}function j2(r){return typeof r=="function"?z2(r):(r instanceof IDBTransaction&&P2(r),M2(r,k2())?new Proxy(r,mm):r)}function ns(r){if(r instanceof IDBRequest)return L2(r);if(Zd.has(r))return Zd.get(r);const e=j2(r);return e!==r&&(Zd.set(r,e),Gm.set(e,r)),e}const Wd=r=>Gm.get(r);function B2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ns(f);return s&&f.addEventListener("upgradeneeded",y=>{s(ns(f.result),y.oldVersion,y.newVersion,ns(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const q2=["get","getKey","getAll","getAllKeys","count"],H2=["put","add","delete","clear"],em=new Map;function C_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=H2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||q2.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return em.set(e,u),u}U2(r=>({...r,get:(e,n,s)=>C_(e,n)||r.get(e,n,s),has:(e,n)=>!!C_(e,n)||r.has(e,n)}));class F2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function G2(r){return r.getComponent()?.type==="VERSION"}const pm="@firebase/app",I_="0.14.8";const fr=new Fm("@firebase/app"),Q2="@firebase/app-compat",K2="@firebase/analytics-compat",Y2="@firebase/analytics",$2="@firebase/app-check-compat",X2="@firebase/app-check",J2="@firebase/auth",Z2="@firebase/auth-compat",W2="@firebase/database",eR="@firebase/data-connect",tR="@firebase/database-compat",nR="@firebase/functions",iR="@firebase/functions-compat",rR="@firebase/installations",sR="@firebase/installations-compat",aR="@firebase/messaging",oR="@firebase/messaging-compat",lR="@firebase/performance",uR="@firebase/performance-compat",cR="@firebase/remote-config",hR="@firebase/remote-config-compat",fR="@firebase/storage",dR="@firebase/storage-compat",mR="@firebase/firestore",pR="@firebase/ai",gR="@firebase/firestore-compat",yR="firebase",vR="12.9.0";const gm="[DEFAULT]",_R={[pm]:"fire-core",[Q2]:"fire-core-compat",[Y2]:"fire-analytics",[K2]:"fire-analytics-compat",[X2]:"fire-app-check",[$2]:"fire-app-check-compat",[J2]:"fire-auth",[Z2]:"fire-auth-compat",[W2]:"fire-rtdb",[eR]:"fire-data-connect",[tR]:"fire-rtdb-compat",[nR]:"fire-fn",[iR]:"fire-fn-compat",[rR]:"fire-iid",[sR]:"fire-iid-compat",[aR]:"fire-fcm",[oR]:"fire-fcm-compat",[lR]:"fire-perf",[uR]:"fire-perf-compat",[cR]:"fire-rc",[hR]:"fire-rc-compat",[fR]:"fire-gcs",[dR]:"fire-gcs-compat",[mR]:"fire-fst",[gR]:"fire-fst-compat",[pR]:"fire-vertex","fire-js":"fire-js",[yR]:"fire-js-all"};const ih=new Map,ER=new Map,ym=new Map;function N_(r,e){try{r.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function io(r){const e=r.name;if(ym.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,r);for(const n of ih.values())N_(n,r);for(const n of ER.values())N_(n,r);return!0}function Qm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ni(r){return r==null?!1:r.settings!==void 0}const bR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new Jl("app","Firebase",bR);class TR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const mo=vR;function IE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:gm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=SE()),!n)throw is.create("no-options");const u=ih.get(o);if(u){if($s(n,u.options)&&$s(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new C2(o);for(const y of ym.values())f.addComponent(y);const m=new TR(n,s,f);return ih.set(o,m),m}function NE(r=gm){const e=ih.get(r);if(!e&&r===gm&&SE())return IE();if(!e)throw is.create("no-app",{appName:r});return e}function rs(r,e,n){let s=_R[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(f.join(" "));return}io(new Xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const SR="firebase-heartbeat-database",wR=1,Ul="firebase-heartbeat-store";let tm=null;function DE(){return tm||(tm=B2(SR,wR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),tm}async function AR(r){try{const n=(await DE()).transaction(Ul),s=await n.objectStore(Ul).get(OE(r));return await n.done,s}catch(e){if(e instanceof yr)fr.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e?.message});fr.warn(n.message)}}}async function D_(r,e){try{const s=(await DE()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(e,OE(r)),await s.done}catch(n){if(n instanceof yr)fr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n?.message});fr.warn(s.message)}}}function OE(r){return`${r.name}!${r.options.appId}`}const RR=1024,xR=30;class CR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=O_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>xR){const o=DR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=O_(),{heartbeatsToSend:n,unsentEntries:s}=IR(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fr.warn(e),""}}}function O_(){return new Date().toISOString().substring(0,10)}function IR(r,e=RR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),M_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),M_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class NR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g2()?y2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function M_(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function DR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function OR(r){io(new Xs("platform-logger",e=>new F2(e),"PRIVATE")),io(new Xs("heartbeat",e=>new CR(e),"PRIVATE")),rs(pm,I_,r),rs(pm,I_,"esm2020"),rs("fire-js","")}OR("");var MR="firebase",kR="12.9.0";rs(MR,kR,"app");function ME(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VR=ME,kE=new Jl("auth","Firebase",ME());const rh=new Fm("@firebase/auth");function LR(r,...e){rh.logLevel<=Ue.WARN&&rh.warn(`Auth (${mo}): ${r}`,...e)}function Gc(r,...e){rh.logLevel<=Ue.ERROR&&rh.error(`Auth (${mo}): ${r}`,...e)}function Li(r,...e){throw Ym(r,...e)}function si(r,...e){return Ym(r,...e)}function Km(r,e,n){const s={...VR(),[e]:n};return new Jl("auth","Firebase",s).create(e,{appName:r.name})}function Ks(r){return Km(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PR(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Li(r,"argument-error"),Km(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ym(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return kE.create(r,...e)}function Ae(r,e,...n){if(!r)throw Ym(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Gc(e),new Error(e)}function dr(r,e){r||or(e)}function vm(){return typeof self<"u"&&self.location?.href||""}function UR(){return k_()==="http:"||k_()==="https:"}function k_(){return typeof self<"u"&&self.location?.protocol||null}function zR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UR()||f2()||"connection"in navigator)?navigator.onLine:!0}function jR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=u2()||d2()}get(){return zR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $m(r,e){dr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class VE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HR=new Wl(3e4,6e4);function Xm(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function po(r,e,n,s,o={}){return LE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Zl({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...u};return h2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&fo(r.emulatorConfig.host)&&(g.credentials="include"),VE.fetch()(await PE(r,r.config.apiHost,n,m),g)})}async function LE(r,e,n){r._canInitEmulator=!1;const s={...BR,...e};try{const o=new GR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Pc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Pc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw Pc(r,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Km(r,E,g);Li(r,E)}}catch(o){if(o instanceof yr)throw o;Li(r,"network-request-failed",{message:String(o)})}}async function FR(r,e,n,s,o={}){const u=await po(r,e,n,s,o);return"mfaPendingCredential"in u&&Li(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function PE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?$m(r.config,o):`${r.config.apiScheme}://${o}`;return qR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class GR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),HR.get())})}}function Pc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=si(r,e,s);return o.customData._tokenResponse=n,o}async function QR(r,e){return po(r,"POST","/v1/accounts:delete",e)}async function sh(r,e){return po(r,"POST","/v1/accounts:lookup",e)}function Dl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KR(r,e=!1){const n=oi(r),s=await n.getIdToken(e),o=Jm(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Dl(nm(o.auth_time)),issuedAtTime:Dl(nm(o.iat)),expirationTime:Dl(nm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function nm(r){return Number(r)*1e3}function Jm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=bE(n);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function V_(r){const e=Jm(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof yr&&YR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class $R{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(r){const e=r.auth,n=await r.getIdToken(),s=await zl(r,sh(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?UE(o.providerUserInfo):[],f=JR(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,g=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function XR(r){const e=oi(r);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function UE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ZR(r,e){const n=await LE(r,{},async()=>{const s=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await PE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&fo(r.emulatorConfig.host)&&(y.credentials="include"),VE.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WR(r,e){return po(r,"POST","/v2/accounts:revokeToken",Xm(r,e))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=V_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await ZR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return or("not implemented")}}function Xr(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await zl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KR(this,e)}reload(){return XR(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await zl(this,QR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:R,isAnonymous:L,providerData:Y,stsTokenManager:$}=n;Ae(b&&$,e,"internal-error");const j=Za.fromJSON(this.name,$);Ae(typeof b=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),Ae(typeof R=="boolean",e,"internal-error"),Ae(typeof L=="boolean",e,"internal-error"),Xr(u,e.name),Xr(f,e.name),Xr(m,e.name),Xr(y,e.name),Xr(g,e.name),Xr(E,e.name);const te=new ii({uid:b,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:E});return Y&&Array.isArray(Y)&&(te.providerData=Y.map(ee=>({...ee}))),y&&(te._redirectEventId=y),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?UE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Za;m.updateFromIdToken(s);const y=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}const L_=new Map;function lr(r){dr(r instanceof Function,"Expected a class definition");let e=L_.get(r);return e?(dr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,L_.set(r,e),e)}class zE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zE.type="NONE";const P_=zE;function Qc(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(lr(P_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||lr(P_);const f=Qc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const R=await sh(e,{idToken:E}).catch(()=>{});if(!R)break;b=await ii._fromGetAccountInfoResponse(e,R,E)}else b=ii._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Wa(u,e,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Wa(u,e,s))}}function U_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GE(e))return"Blackberry";if(QE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function jE(r=an()){return/firefox\//i.test(r)}function BE(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(r=an()){return/crios\//i.test(r)}function HE(r=an()){return/iemobile/i.test(r)}function FE(r=an()){return/android/i.test(r)}function GE(r=an()){return/blackberry/i.test(r)}function QE(r=an()){return/webos/i.test(r)}function Zm(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ex(r=an()){return Zm(r)&&!!window.navigator?.standalone}function tx(){return m2()&&document.documentMode===10}function KE(r=an()){return Zm(r)||FE(r)||QE(r)||GE(r)||/windows phone/i.test(r)||HE(r)}function YE(r,e=[]){let n;switch(r){case"Browser":n=U_(an());break;case"Worker":n=`${U_(an())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}class nx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function ix(r,e={}){return po(r,"GET","/v2/passwordPolicy",Xm(r,e))}const rx=6;class sx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class ax{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new nx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(Ks(this));const n=e?oi(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ix(this),n=new sx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await WR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Rh(r){return oi(r)}class z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=T2(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ox(r){Wm=r}function lx(r){return Wm.loadJS(r)}function ux(){return Wm.gapiScript}function cx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function hx(r,e){const n=Qm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if($s(u,e??{}))return o;Li(o,"already-initialized")}return n.initialize({options:e})}function fx(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function dx(r,e,n){const s=Rh(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=$E(e),{host:f,port:m}=mx(e),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae($s(g,s.config.emulator)&&$s(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,fo(f)?(AE(`${u}//${f}${y}`),RE("Auth",!0)):px()}function $E(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function mx(r){const e=$E(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:j_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:j_(f)}}}function j_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function px(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class XE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function eo(r,e){return FR(r,"POST","/v1/accounts:signInWithIdp",Xm(r,e))}const gx="http://localhost";class Js extends XE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:gx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}class ep{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends ep{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jr extends eu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";class Zr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";class Ni extends eu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";class Wr extends eu{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),f=B_(s);return new ro({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=B_(s);return new ro({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function B_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class oh extends yr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new oh(e,n,s,o)}}function JE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(r,u,e,s):u})}async function yx(r,e,n=!1){const s=await zl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ro._forOperation(r,"link",s)}async function vx(r,e,n=!1){const{auth:s}=r;if(ni(s.app))return Promise.reject(Ks(s));const o="reauthenticate";try{const u=await zl(r,JE(s,o,e,r),n);Ae(u.idToken,s,"internal-error");const f=Jm(u.idToken);Ae(f,s,"internal-error");const{sub:m}=f;return Ae(r.uid===m,s,"user-mismatch"),ro._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Li(s,"user-mismatch"),u}}async function _x(r,e,n=!1){if(ni(r.app))return Promise.reject(Ks(r));const s="signIn",o=await JE(r,s,e),u=await ro._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function Ex(r,e,n,s){return oi(r).onIdTokenChanged(e,n,s)}function bx(r,e,n){return oi(r).beforeAuthStateChanged(e,n)}function Tx(r){return oi(r).signOut()}const lh="__sak";class ZE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sx=1e3,wx=10;class WE extends ZE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);tx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Sx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WE.type="LOCAL";const Ax=WE;class eb extends ZE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eb.type="SESSION";const tb=eb;function Rx(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await Rx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function tp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class xx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=tp("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Di(){return window}function Cx(r){Di().location.href=r}function nb(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function Ix(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nx(){return navigator?.serviceWorker?.controller||null}function Dx(){return nb()?self:null}const ib="firebaseLocalStorageDb",Ox=1,uh="firebaseLocalStorage",rb="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(r,e){return r.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function Mx(){const r=indexedDB.deleteDatabase(ib);return new tu(r).toPromise()}function Em(){const r=indexedDB.open(ib,Ox);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(uh,{keyPath:rb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(uh)?e(s):(s.close(),await Mx(),e(await Em()))})})}async function q_(r,e,n){const s=Ch(r,!0).put({[rb]:e,value:n});return new tu(s).toPromise()}async function kx(r,e){const n=Ch(r,!1).get(e),s=await new tu(n).toPromise();return s===void 0?null:s.value}function H_(r,e){const n=Ch(r,!0).delete(e);return new tu(n).toPromise()}const Vx=800,Lx=3;class sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Lx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(Dx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ix(),!this.activeServiceWorker)return;this.sender=new xx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Nx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await q_(e,lh,"1"),await H_(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>q_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>kx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ch(o,!1).getAll();return new tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sb.type="LOCAL";const Px=sb;new Wl(3e4,6e4);function ab(r,e){return e?lr(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class np extends XE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ux(r){return _x(r.auth,new np(r),r.bypassAuthState)}function zx(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),vx(n,new np(r),r.bypassAuthState)}async function jx(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),yx(n,new np(r),r.bypassAuthState)}class ob{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ux;case"linkViaPopup":case"linkViaRedirect":return jx;case"reauthViaPopup":case"reauthViaRedirect":return zx;default:Li(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bx=new Wl(2e3,1e4);async function qx(r,e,n){if(ni(r.app))return Promise.reject(si(r,"operation-not-supported-in-this-environment"));const s=Rh(r);PR(r,e,ep);const o=ab(s,n);return new Gs(s,"signInViaPopup",e,o).executeNotNull()}class Gs extends ob{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bx.get())};e()}}Gs.currentPopupAction=null;const Hx="pendingRedirect",Kc=new Map;class Fx extends ob{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const s=await Gx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gx(r,e){const n=Yx(e),s=Kx(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Qx(r,e){Kc.set(r._key(),e)}function Kx(r){return lr(r._redirectPersistence)}function Yx(r){return Qc(Hx,r.config.apiKey,r.name)}async function $x(r,e,n=!1){if(ni(r.app))return Promise.reject(Ks(r));const s=Rh(r),o=ab(s,e),f=await new Fx(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const Xx=600*1e3;class Jx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!lb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(si(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xx&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(e))}saveEventToCache(e){this.cachedEventUids.add(F_(e)),this.lastProcessedEventTime=Date.now()}}function F_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Zx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lb(r);default:return!1}}async function Wx(r,e={}){return po(r,"GET","/v1/projects",e)}const eC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^https?/;async function nC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Wx(r);for(const n of e)try{if(iC(n))return}catch{}Li(r,"unauthorized-domain")}function iC(r){const e=vm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!tC.test(n))return!1;if(eC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const rC=new Wl(3e4,6e4);function G_(){const r=Di().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function sC(r){return new Promise((e,n)=>{function s(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),n(si(r,"network-request-failed"))},timeout:rC.get()})}if(Di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Di().gapi?.load)s();else{const o=cx("iframefcb");return Di()[o]=()=>{gapi.load?s():n(si(r,"network-request-failed"))},lx(`${ux()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function aC(r){return Yc=Yc||sC(r),Yc}const oC=new Wl(5e3,15e3),lC="__/auth/iframe",uC="emulator/auth/iframe",cC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fC(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?$m(e,uC):`https://${r.config.authDomain}/${lC}`,s={apiKey:e.apiKey,appName:r.name,v:mo},o=hC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Zl(s).slice(1)}`}async function dC(r){const e=await aC(r),n=Di().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:fC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=si(r,"network-request-failed"),m=Di().setTimeout(()=>{u(f)},oC.get());function y(){Di().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}const mC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pC=500,gC=600,yC="_blank",vC="http://localhost";class Q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _C(r,e,n,s=pC,o=gC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...mC,width:s.toString(),height:o.toString(),top:u,left:f},g=an().toLowerCase();n&&(m=qE(g)?yC:n),jE(g)&&(e=e||vC,y.scrollbars="yes");const E=Object.entries(y).reduce((R,[L,Y])=>`${R}${L}=${Y},`,"");if(ex(g)&&m!=="_self")return EC(e||"",m),new Q_(null);const b=window.open(e||"",m,E);Ae(b,r,"popup-blocked");try{b.focus()}catch{}return new Q_(b)}function EC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const bC="__/auth/handler",TC="emulator/auth/handler",SC=encodeURIComponent("fac");async function K_(r,e,n,s,o,u){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:mo,eventId:o};if(e instanceof ep){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",b2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof eu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await r._getAppCheckToken(),g=y?`#${SC}=${encodeURIComponent(y)}`:"";return`${wC(r)}?${Zl(m).slice(1)}${g}`}function wC({config:r}){return r.emulator?$m(r,TC):`https://${r.authDomain}/${bC}`}const im="webStorageSupport";class AC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tb,this._completeRedirectFn=$x,this._overrideRedirectResult=Qx}async _openPopup(e,n,s,o){dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await K_(e,n,s,vm(),o);return _C(e,u,tp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await K_(e,n,s,vm(),o);return Cx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dC(e),s=new Jx(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(im,{type:im},o=>{const u=o?.[0]?.[im];u!==void 0&&n(!!u),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KE()||BE()||Zm()}}const RC=AC;var Y_="@firebase/auth",$_="1.12.0";class xC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IC(r){io(new Xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YE(r)},g=new ax(s,o,u,y);return fx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),io(new Xs("auth-internal",e=>{const n=Rh(e.getProvider("auth").getImmediate());return(s=>new xC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(Y_,$_,CC(r)),rs(Y_,$_,"esm2020")}const NC=300,DC=wE("authIdTokenMaxAge")||NC;let X_=null;const OC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>DC)return;const o=n?.token;X_!==o&&(X_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MC(r=NE()){const e=Qm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=hx(r,{popupRedirectResolver:RC,persistence:[Px,Ax,tb]}),s=wE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=OC(u.toString());bx(n,f,()=>f(n.currentUser)),Ex(n,m=>f(m))}}const o=TE("auth");return o&&dx(n,`http://${o}`),n}function kC(){return document.getElementsByTagName("head")?.[0]??document}ox({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=si("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",kC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IC("Browser");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,ub;(function(){var r;function e(x,A){function C(){}C.prototype=A.prototype,x.F=A.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(M,O,k){for(var I=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)I[Me-2]=arguments[Me];return A.prototype[O].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)M[O]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=x.g[0],C=x.g[1],O=x.g[2];let k=x.g[3],I;I=A+(k^C&(O^k))+M[0]+3614090360&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(O^A&(C^O))+M[1]+3905402710&4294967295,k=A+(I<<12&4294967295|I>>>20),I=O+(C^k&(A^C))+M[2]+606105819&4294967295,O=k+(I<<17&4294967295|I>>>15),I=C+(A^O&(k^A))+M[3]+3250441966&4294967295,C=O+(I<<22&4294967295|I>>>10),I=A+(k^C&(O^k))+M[4]+4118548399&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(O^A&(C^O))+M[5]+1200080426&4294967295,k=A+(I<<12&4294967295|I>>>20),I=O+(C^k&(A^C))+M[6]+2821735955&4294967295,O=k+(I<<17&4294967295|I>>>15),I=C+(A^O&(k^A))+M[7]+4249261313&4294967295,C=O+(I<<22&4294967295|I>>>10),I=A+(k^C&(O^k))+M[8]+1770035416&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(O^A&(C^O))+M[9]+2336552879&4294967295,k=A+(I<<12&4294967295|I>>>20),I=O+(C^k&(A^C))+M[10]+4294925233&4294967295,O=k+(I<<17&4294967295|I>>>15),I=C+(A^O&(k^A))+M[11]+2304563134&4294967295,C=O+(I<<22&4294967295|I>>>10),I=A+(k^C&(O^k))+M[12]+1804603682&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(O^A&(C^O))+M[13]+4254626195&4294967295,k=A+(I<<12&4294967295|I>>>20),I=O+(C^k&(A^C))+M[14]+2792965006&4294967295,O=k+(I<<17&4294967295|I>>>15),I=C+(A^O&(k^A))+M[15]+1236535329&4294967295,C=O+(I<<22&4294967295|I>>>10),I=A+(O^k&(C^O))+M[1]+4129170786&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^O&(A^C))+M[6]+3225465664&4294967295,k=A+(I<<9&4294967295|I>>>23),I=O+(A^C&(k^A))+M[11]+643717713&4294967295,O=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(O^k))+M[0]+3921069994&4294967295,C=O+(I<<20&4294967295|I>>>12),I=A+(O^k&(C^O))+M[5]+3593408605&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^O&(A^C))+M[10]+38016083&4294967295,k=A+(I<<9&4294967295|I>>>23),I=O+(A^C&(k^A))+M[15]+3634488961&4294967295,O=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(O^k))+M[4]+3889429448&4294967295,C=O+(I<<20&4294967295|I>>>12),I=A+(O^k&(C^O))+M[9]+568446438&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^O&(A^C))+M[14]+3275163606&4294967295,k=A+(I<<9&4294967295|I>>>23),I=O+(A^C&(k^A))+M[3]+4107603335&4294967295,O=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(O^k))+M[8]+1163531501&4294967295,C=O+(I<<20&4294967295|I>>>12),I=A+(O^k&(C^O))+M[13]+2850285829&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^O&(A^C))+M[2]+4243563512&4294967295,k=A+(I<<9&4294967295|I>>>23),I=O+(A^C&(k^A))+M[7]+1735328473&4294967295,O=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(O^k))+M[12]+2368359562&4294967295,C=O+(I<<20&4294967295|I>>>12),I=A+(C^O^k)+M[5]+4294588738&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^O)+M[8]+2272392833&4294967295,k=A+(I<<11&4294967295|I>>>21),I=O+(k^A^C)+M[11]+1839030562&4294967295,O=k+(I<<16&4294967295|I>>>16),I=C+(O^k^A)+M[14]+4259657740&4294967295,C=O+(I<<23&4294967295|I>>>9),I=A+(C^O^k)+M[1]+2763975236&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^O)+M[4]+1272893353&4294967295,k=A+(I<<11&4294967295|I>>>21),I=O+(k^A^C)+M[7]+4139469664&4294967295,O=k+(I<<16&4294967295|I>>>16),I=C+(O^k^A)+M[10]+3200236656&4294967295,C=O+(I<<23&4294967295|I>>>9),I=A+(C^O^k)+M[13]+681279174&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^O)+M[0]+3936430074&4294967295,k=A+(I<<11&4294967295|I>>>21),I=O+(k^A^C)+M[3]+3572445317&4294967295,O=k+(I<<16&4294967295|I>>>16),I=C+(O^k^A)+M[6]+76029189&4294967295,C=O+(I<<23&4294967295|I>>>9),I=A+(C^O^k)+M[9]+3654602809&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^O)+M[12]+3873151461&4294967295,k=A+(I<<11&4294967295|I>>>21),I=O+(k^A^C)+M[15]+530742520&4294967295,O=k+(I<<16&4294967295|I>>>16),I=C+(O^k^A)+M[2]+3299628645&4294967295,C=O+(I<<23&4294967295|I>>>9),I=A+(O^(C|~k))+M[0]+4096336452&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~O))+M[7]+1126891415&4294967295,k=A+(I<<10&4294967295|I>>>22),I=O+(A^(k|~C))+M[14]+2878612391&4294967295,O=k+(I<<15&4294967295|I>>>17),I=C+(k^(O|~A))+M[5]+4237533241&4294967295,C=O+(I<<21&4294967295|I>>>11),I=A+(O^(C|~k))+M[12]+1700485571&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~O))+M[3]+2399980690&4294967295,k=A+(I<<10&4294967295|I>>>22),I=O+(A^(k|~C))+M[10]+4293915773&4294967295,O=k+(I<<15&4294967295|I>>>17),I=C+(k^(O|~A))+M[1]+2240044497&4294967295,C=O+(I<<21&4294967295|I>>>11),I=A+(O^(C|~k))+M[8]+1873313359&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~O))+M[15]+4264355552&4294967295,k=A+(I<<10&4294967295|I>>>22),I=O+(A^(k|~C))+M[6]+2734768916&4294967295,O=k+(I<<15&4294967295|I>>>17),I=C+(k^(O|~A))+M[13]+1309151649&4294967295,C=O+(I<<21&4294967295|I>>>11),I=A+(O^(C|~k))+M[4]+4149444226&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~O))+M[11]+3174756917&4294967295,k=A+(I<<10&4294967295|I>>>22),I=O+(A^(k|~C))+M[2]+718787259&4294967295,O=k+(I<<15&4294967295|I>>>17),I=C+(k^(O|~A))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.v=function(x,A){A===void 0&&(A=x.length);const C=A-this.blockSize,M=this.C;let O=this.h,k=0;for(;k<A;){if(O==0)for(;k<=C;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<A;)if(M[O++]=x.charCodeAt(k++),O==this.blockSize){o(this,M),O=0;break}}else for(;k<A;)if(M[O++]=x[k++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)x[A++]=this.g[C]>>>M&255;return x};function u(x,A){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=A(x)}function f(x,A){this.h=A;const C=[];let M=!0;for(let O=x.length-1;O>=0;O--){const k=x[O]|0;M&&k==A||(C[O]=k,M=!1)}this.g=C}var m={};function y(x){return-128<=x&&x<128?u(x,function(A){return new f([A|0],A<0?-1:0)}):new f([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return j(g(-x));const A=[];let C=1;for(let M=0;x>=C;M++)A[M]=x/C|0,C*=4294967296;return new f(A,0)}function E(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return j(E(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(A,8));let M=b;for(let k=0;k<x.length;k+=8){var O=Math.min(8,x.length-k);const I=parseInt(x.substring(k,k+O),A);O<8?(O=g(Math.pow(A,O)),M=M.j(O).add(g(I))):(M=M.j(C),M=M.add(g(I)))}return M}var b=y(0),R=y(1),L=y(16777216);r=f.prototype,r.m=function(){if($(this))return-j(this).m();let x=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);x+=(M>=0?M:4294967296+M)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Y(this))return"0";if($(this))return"-"+j(this).toString(x);const A=g(Math.pow(x,6));var C=this;let M="";for(;;){const O=oe(C,A).g;C=te(C,O.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=O,Y(C))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Y(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=te(this,x),$(x)?-1:Y(x)?0:1};function j(x){const A=x.g.length,C=[];for(let M=0;M<A;M++)C[M]=~x.g[M];return new f(C,~x.h).add(R)}r.abs=function(){return $(this)?j(this):this},r.add=function(x){const A=Math.max(this.g.length,x.g.length),C=[];let M=0;for(let O=0;O<=A;O++){let k=M+(this.i(O)&65535)+(x.i(O)&65535),I=(k>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);M=I>>>16,k&=65535,I&=65535,C[O]=I<<16|k}return new f(C,C[C.length-1]&-2147483648?-1:0)};function te(x,A){return x.add(j(A))}r.j=function(x){if(Y(this)||Y(x))return b;if($(this))return $(x)?j(this).j(j(x)):j(j(this).j(x));if($(x))return j(this.j(j(x)));if(this.l(L)<0&&x.l(L)<0)return g(this.m()*x.m());const A=this.g.length+x.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<x.g.length;O++){const k=this.i(M)>>>16,I=this.i(M)&65535,Me=x.i(O)>>>16,Be=x.i(O)&65535;C[2*M+2*O]+=I*Be,ee(C,2*M+2*O),C[2*M+2*O+1]+=k*Be,ee(C,2*M+2*O+1),C[2*M+2*O+1]+=I*Me,ee(C,2*M+2*O+1),C[2*M+2*O+2]+=k*Me,ee(C,2*M+2*O+2)}for(x=0;x<A;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=A;x<2*A;x++)C[x]=0;return new f(C,0)};function ee(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function re(x,A){this.g=x,this.h=A}function oe(x,A){if(Y(A))throw Error("division by zero");if(Y(x))return new re(b,b);if($(x))return A=oe(j(x),A),new re(j(A.g),j(A.h));if($(A))return A=oe(x,j(A)),new re(j(A.g),A.h);if(x.g.length>30){if($(x)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var C=R,M=A;M.l(x)<=0;)C=ue(C),M=ue(M);var O=he(C,1),k=he(M,1);for(M=he(M,2),C=he(C,2);!Y(M);){var I=k.add(M);I.l(x)<=0&&(O=O.add(C),k=I),M=he(M,1),C=he(C,1)}return A=te(x,O.j(A)),new re(O,A)}for(O=b;x.l(A)>=0;){for(C=Math.max(1,Math.floor(x.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(C),I=k.j(A);$(I)||I.l(x)>0;)C-=M,k=g(C),I=k.j(A);Y(k)&&(k=R),O=O.add(k),x=te(x,I)}return new re(O,x)}r.B=function(x){return oe(this,x).h},r.and=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&x.i(M);return new f(C,this.h&x.h)},r.or=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|x.i(M);return new f(C,this.h|x.h)},r.xor=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^x.i(M);return new f(C,this.h^x.h)};function ue(x){const A=x.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(C,x.h)}function he(x,A){const C=A>>5;A%=32;const M=x.g.length-C,O=[];for(let k=0;k<M;k++)O[k]=A>0?x.i(k+C)>>>A|x.i(k+C+1)<<32-A:x.i(k+C);return new f(O,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ub=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ss=f}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cb,Rl,hb,$c,bm,fb,db,mb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in _))break e;_=_[B]}c=c[c.length-1],S=_[c],p=p(S),p!=S&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var _=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&_.push([S,p[S]]);return _}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,_){return c.call.apply(c.bind,arguments)}function g(c,p,_){return g=y,g.apply(null,arguments)}function E(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,p){function _(){}_.prototype=p.prototype,c.Z=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(S,B,Q){for(var le=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)le[Ie-2]=arguments[Ie];return p.prototype[B].apply(S,le)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const p=c.length;if(p>0){const _=Array(p);for(let S=0;S<p;S++)_[S]=c[S];return _}return[]}function Y(c,p){for(let S=1;S<arguments.length;S++){const B=arguments[S];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=c.length||0;const Q=B.length||0;c.length=_+Q;for(let le=0;le<Q;le++)c[_+le]=B[le]}else c.push(B)}}class ${constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function j(c){f.setTimeout(()=>{throw c},0)}function te(){var c=x;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ee{constructor(){this.h=this.g=null}add(p,_){const S=re.get();S.set(p,_),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new $(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,he=!1,x=new ee,A=()=>{const c=Promise.resolve(void 0);ue=()=>{c.then(C)}};function C(){for(var c;c=te();){try{c.h.call(c.g)}catch(_){j(_)}var p=re;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}he=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,p),f.removeEventListener("test",_,p)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Me(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}b(Me,O),Me.prototype.init=function(c,p){const _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(_=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Me.Z.h.call(this)},Me.prototype.h=function(){Me.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),z=0;function se(c,p,_,S,B){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!S,this.ha=B,this.key=++z,this.da=this.fa=!1}function J(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,p,_){for(const S in c)p.call(_,c[S],S,c)}function _e(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function D(c){const p={};for(const _ in c)p[_]=c[_];return p}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,p){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)c[_]=S[_];for(let Q=0;Q<q.length;Q++)_=q[Q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,p,_,S,B){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const le=Te(c,p,S,B);return le>-1?(p=c[le],_||(p.fa=!1)):(p=new se(p,this.src,Q,!!S,B),p.fa=_,c.push(p)),p};function ge(c,p){const _=p.type;if(_ in c.g){var S=c.g[_],B=Array.prototype.indexOf.call(S,p,void 0),Q;(Q=B>=0)&&Array.prototype.splice.call(S,B,1),Q&&(J(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Te(c,p,_,S){for(let B=0;B<c.length;++B){const Q=c[B];if(!Q.da&&Q.listener==p&&Q.capture==!!_&&Q.ha==S)return B}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),ft={};function st(c,p,_,S,B){if(Array.isArray(p)){for(let Q=0;Q<p.length;Q++)st(c,p[Q],_,S,B);return null}return _=ds(_),c&&c[Be]?c.J(p,_,m(S)?!!S.capture:!1,B):ji(c,p,_,!1,S,B)}function ji(c,p,_,S,B,Q){if(!p)throw Error("Invalid event type");const le=m(B)?!!B.capture:!!B;let Ie=Gt(c);if(Ie||(c[Oe]=Ie=new ce(c)),_=Ie.add(p,_,S,le,Q),_.proxy)return _;if(S=Se(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)k||(B=le),B===void 0&&(B=!1),c.addEventListener(p.toString(),S,B);else if(c.attachEvent)c.attachEvent($e(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Se(){function c(_){return p.call(c.src,c.listener,_)}const p=Rt;return c}function Fe(c,p,_,S,B){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)Fe(c,p[Q],_,S,B);else S=m(S)?!!S.capture:!!S,_=ds(_),c&&c[Be]?(c=c.i,Q=String(p).toString(),Q in c.g&&(p=c.g[Q],_=Te(p,_,S,B),_>-1&&(J(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Gt(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Te(p,_,S,B)),(_=c>-1?p[c]:null)&&at(_))}function at(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Be])ge(p.i,c);else{var _=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(_,S,c.capture):p.detachEvent?p.detachEvent($e(_),S):p.addListener&&p.removeListener&&p.removeListener(S),(_=Gt(p))?(ge(_,c),_.h==0&&(_.src=null,p[Oe]=null)):J(c)}}}function $e(c){return c in ft?ft[c]:ft[c]="on"+c}function Rt(c,p){if(c.da)c=!0;else{p=new Me(p,this);const _=c.listener,S=c.ha||c.src;c.fa&&at(c),c=_.call(S,p)}return c}function Gt(c){return c=c[Oe],c instanceof ce?c:null}var Bi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ds(c){return typeof c=="function"?c:(c[Bi]||(c[Bi]=function(p){return c.handleEvent(p)}),c[Bi])}function gt(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}b(gt,M),gt.prototype[Be]=!0,gt.prototype.removeEventListener=function(c,p,_,S){Fe(this,c,p,_,S)};function Et(c,p){var _,S=c.G;if(S)for(_=[];S;S=S.G)_.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var B=p;p=new O(S,c),ie(p,B)}B=!0;let Q,le;if(_)for(le=_.length-1;le>=0;le--)Q=p.g=_[le],B=cn(Q,S,!0,p)&&B;if(Q=p.g=c,B=cn(Q,S,!0,p)&&B,B=cn(Q,S,!1,p)&&B,_)for(le=0;le<_.length;le++)Q=p.g=_[le],B=cn(Q,S,!1,p)&&B}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const _=c.g[p];for(let S=0;S<_.length;S++)J(_[S]);delete c.g[p],c.h--}}this.G=null},gt.prototype.J=function(c,p,_,S){return this.i.add(String(c),p,!1,_,S)},gt.prototype.K=function(c,p,_,S){return this.i.add(String(c),p,!0,_,S)};function cn(c,p,_,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let B=!0;for(let Q=0;Q<p.length;++Q){const le=p[Q];if(le&&!le.da&&le.capture==_){const Ie=le.listener,Tt=le.ha||le.src;le.fa&&ge(c.i,le),B=Ie.call(Tt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Bh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function ou(c){c.g=Bh(()=>{c.g=null,c.i&&(c.i=!1,ou(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class on extends M{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){M.call(this),this.h=c,this.g={}}b(ms,M);var Eo=[];function bo(c){fe(c.g,function(p,_){this.g.hasOwnProperty(_)&&at(p)},c),c.g={}}ms.prototype.N=function(){ms.Z.N.call(this),bo(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=f.JSON.stringify,qh=f.JSON.parse,lu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function uu(){}function cu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){O.call(this,"d")}b(Qt,O);function Cn(){O.call(this,"c")}b(Cn,O);var bt={},hu=null;function aa(){return hu=hu||new gt}bt.Ia="serverreachability";function fu(c){O.call(this,bt.Ia,c)}b(fu,O);function li(c){const p=aa();Et(p,new fu(p))}bt.STAT_EVENT="statevent";function ps(c,p){O.call(this,bt.STAT_EVENT,c),this.stat=p}b(ps,O);function xt(c){const p=aa();Et(p,new ps(p,c))}bt.Ja="timingevent";function ui(c,p){O.call(this,bt.Ja,c),this.size=p}b(ui,O);function ci(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Hh(c,p,_,S,B,Q){c.info(function(){if(c.g)if(Q){var le="",Ie=Q.split("&");for(let Ke=0;Ke<Ie.length;Ke++){var Tt=Ie[Ke].split("=");if(Tt.length>1){const ct=Tt[0];Tt=Tt[1];const On=ct.split("_");le=On.length>=2&&On[1]=="type"?le+(ct+"="+Tt+"&"):le+(ct+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+p+`
`+_+`
`+le})}function du(c,p,_,S,B,Q,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+p+`
`+_+`
`+Q+" "+le})}function hi(c,p,_,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Fh(c,_)+(S?" "+S:"")})}function gs(c,p){c.info(function(){return"TIMEOUT: "+p})}Gn.prototype.info=function(){};function Fh(c,p){if(!c.g)return p;if(!p)return null;try{const Q=JSON.parse(p);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var _=Q[c];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let le=1;le<S.length;le++)S[le]=""}}}}return vr(Q)}catch{return p}}var ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function vs(){}b(vs,uu),vs.prototype.g=function(){return new XMLHttpRequest},So=new vs;function qi(c){return encodeURIComponent(String(c))}function mu(c){var p=1;c=c.split(":");const _=[];for(;p>0&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function Qn(c,p,_,S){this.j=c,this.i=p,this.l=_,this.S=S||1,this.V=new ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Ct={},jt={};function fi(c,p,_){c.M=1,c.A=_s(Nt(p)),c.u=_,c.R=!0,oa(c,null)}function oa(c,p){c.F=Date.now(),di(c),c.B=Nt(c.A);var _=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ha(_.i,"t",S),c.C=0,_=c.j.L,c.h=new Kn,c.g=Iu(c.j,_?p:null,!c.u),c.P>0&&(c.O=new on(g(c.Y,c,c.g),c.P)),p=c.V,_=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Eo[0]=B.toString()),B=Eo);for(let Q=0;Q<B.length;Q++){const le=st(_,B[Q],S||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),li(),Hh(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Xn(c)==3?p.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=Xn(this.g),Tt=this.g.ya(),Ke=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ie!=4||Tt==7||(Tt==8||Ke<=0?li(3):li(2)),mi(this);var p=this.g.ca();this.X=p;var _=Gh(this);if(this.o=p==200,du(this.i,this.v,this.B,this.l,this.S,Ie,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var Q=S;break t}}Q=null}if(c=Q)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,xt(12),_n(this),In(this);break e}}if(this.R){c=!0;let ct;for(;!this.K&&this.C<_.length;)if(ct=gu(this,_),ct==jt){Ie==4&&(this.m=4,xt(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Ct){this.m=4,xt(15),hi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,ct,null),pi(this,ct);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||_.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,_,"[Invalid Chunked Response]"),_n(this),In(this);else if(_.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Uo(le),le.P=!0,xt(11))}}else hi(this.i,this.l,_,null),pi(this,_);Ie==4&&_n(this),this.o&&!this.K&&(Ie==4?Au(this.j,this):(this.o=!1,di(this)))}else Fi(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),_n(this),In(this)}}}catch{}};function Gh(c){if(!pu(c))return c.g.la();const p=Kt(c.g);if(p==="")return"";let _="";const S=p.length,B=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),In(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,_+=c.h.i.decode(p[Q],{stream:!(B&&Q==S-1)});return p.length=0,c.h.g+=_,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function gu(c,p){var _=c.C,S=p.indexOf(`
`,_);return S==-1?jt:(_=Number(p.substring(_,S)),isNaN(_)?Ct:(S+=1,S+_>p.length?jt:(p=p.slice(S,S+_),c.C=S+_,p)))}Qn.prototype.cancel=function(){this.K=!0,_n(this)};function di(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(g(c.aa,c),p)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gs(this.i,this.B),this.M!=2&&(li(),xt(17)),_n(this),this.m=2,In(this)):la(this,this.T-c)};function In(c){c.j.I==0||c.K||Au(c.j,c)}function _n(c){mi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,bo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function pi(c,p){try{var _=c.j;if(_.I!=0&&(_.g==c||yi(_.h,c))){if(!c.L&&yi(_.h,c)&&_.I==3){try{var S=_.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)ga(_),Rr(_);else break e;Rs(_),xt(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ci(g(_.Va,_),6e3));gi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Si(_,11)}else if((c.L||_.g==c)&&ga(_),!I(p))for(B=_.Ba.g.parse(p),p=0;p<B.length;p++){let Ke=B[p];const ct=Ke[0];if(!(ct<=_.K))if(_.K=ct,Ke=Ke[1],_.I==2)if(Ke[0]=="c"){_.M=Ke[1],_.ba=Ke[2];const On=Ke[3];On!=null&&(_.ka=On,_.j.info("VER="+_.ka));const wi=Ke[4];wi!=null&&(_.za=wi,_.j.info("SVER="+_.za));const Jn=Ke[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(S=1.5*Jn,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Zn=c.g;if(Zn){const xs=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var Q=S.h;Q.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ro(Q,Q.h),Q.h=null))}if(S.G){const ya=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(S.wa=ya,Je(S.J,S.G,ya))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var le=c;if(S.na=Cu(S,S.L?S.ba:null,S.W),le.L){xo(S.h,le);var Ie=le,Tt=S.O;Tt&&(Ie.H=Tt),Ie.D&&(mi(Ie),di(Ie)),S.g=le}else Su(S);_.i.length>0&&Ti(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Si(_,7);else _.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Si(_,7):Lo(_):Ke[0]!="noop"&&_.l&&_.l.qa(Ke),_.A=0)}}li(4)}catch{}}var It=class{constructor(c,p){this.g=c,this.map=p}};function wo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ro(c,p){c.g?c.g.add(p):c.h=p}function xo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}wo.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.G);return p}return L(c.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,p){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const S=c[_].indexOf("=");let B,Q=null;S>=0?(B=c[_].substring(0,S),Q=c[_].substring(S+1)):B=c[_],p(B,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof En?(this.l=c.l,Bt(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.u),this.h=c.h,Io(this,bu(c.i)),this.m=c.m):c&&(p=String(c).match(yu))?(this.l=!1,Bt(this,p[1]||"",!0),this.o=vi(p[2]||""),this.g=vi(p[3]||"",!0),_r(this,p[4]),this.h=vi(p[5]||"",!0),Io(this,p[6]||"",!0),this.m=vi(p[7]||"")):(this.l=!1,this.i=new br(null,this.l))}En.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Es(p,ca,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Es(p,ca,!0),"@"),c.push(qi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Es(_,_.charAt(0)=="/"?No:vu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Es(_,_u)),c.join("")},En.prototype.resolve=function(c){const p=Nt(this);let _=!!c.j;_?Bt(p,c.j):_=!!c.o,_?p.o=c.o:_=!!c.g,_?p.g=c.g:_=c.u!=null;var S=c.h;if(_)_r(p,c.u);else if(_=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=p.h.lastIndexOf("/");B!=-1&&(S=p.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const Q=[];for(let le=0;le<B.length;){const Ie=B[le++];Ie=="."?S&&le==B.length&&Q.push(""):Ie==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&le==B.length&&Q.push("")):(Q.push(Ie),S=!0)}S=Q.join("/")}else S=B}return _?p.h=S:_=c.i.toString()!=="",_?Io(p,bu(c.i)):_=!!c.m,_&&(p.m=c.m),p};function Nt(c){return new En(c)}function Bt(c,p,_){c.j=_?vi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Io(c,p,_){p instanceof br?(c.i=p,fa(c.i,c.l)):(_||(p=Es(p,Er)),c.i=new br(p,c.l))}function Je(c,p,_){c.i.set(p,_)}function _s(c){return Je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,hn),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,vu=/[#\?:]/g,No=/[#\?]/g,Er=/[#\?@]/g,_u=/#/g;function br(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=br.prototype,r.add=function(c,p){fn(this),this.i=null,c=Tr(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Eu(c,p){fn(c),p=Tr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Do(c,p){return fn(c),p=Tr(c,p),c.g.has(p)}r.forEach=function(c,p){fn(this),this.g.forEach(function(_,S){_.forEach(function(B){c.call(p,B,S,this)},this)},this)};function Oo(c,p){fn(c);let _=[];if(typeof p=="string")Do(c,p)&&(_=_.concat(c.g.get(Tr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)_=_.concat(c[p]);return _}r.set=function(c,p){return fn(this),this.i=null,c=Tr(this,c),Do(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Oo(this,c),c.length>0?String(c[0]):p):p};function ha(c,p,_){Eu(c,p),_.length>0&&(c.i=null,c.g.set(Tr(c,p),L(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var _=p[S];const B=qi(_);_=Oo(this,_);for(let Q=0;Q<_.length;Q++){let le=B;_[Q]!==""&&(le+="="+qi(_[Q])),c.push(le)}}return this.i=c.join("&")};function bu(c){const p=new br;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Tr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function fa(c,p){p&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(_,S){const B=S.toLowerCase();S!=B&&(Eu(this,S),ha(this,B,_))},c)),c.j=p}function Yn(c,p){const _=new Gn;if(f.Image){const S=new Image;S.onload=E(Nn,_,"TestLoadImage: loaded",!0,p,S),S.onerror=E(Nn,_,"TestLoadImage: error",!1,p,S),S.onabort=E(Nn,_,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(Nn,_,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Mo(c,p){const _=new Gn,S=new AbortController,B=setTimeout(()=>{S.abort(),Nn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(B),Q.ok?Nn(_,"TestPingServer: ok",!0,p):Nn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(B),Nn(_,"TestPingServer: error",!1,p)})}function Nn(c,p,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function Sr(){this.g=new lu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}b(_i,uu),_i.prototype.g=function(){return new bs(this.i,this.h)};function bs(c,p){gt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(bs,gt),r=bs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?wr(this):$n(this),this.readyState==3&&da(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let p="";return fe(c,function(_,S){p+=S,p+=":",p+=_,p+=`\r
`}),p}function Ts(c,p,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Dn(_),typeof c=="string"?_!=null&&qi(_):Je(c,p,_))}function et(c){gt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(et,gt);var Ei=/^https?$/i,ko=["POST","PUT"];r=et.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Q){Ss(this,Q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(ko,p,void 0)>=0)||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of _)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ss(this,Q)}};function Ss(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Vo(c),Hi(c)}function Vo(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Et(this,"complete"),Et(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Et(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var S;if(S=Q===0){let le=String(c.D).match(yu)[1]||null;!le&&f.self&&f.self.location&&(le=f.self.location.protocol.slice(0,-1)),S=!Ei.test(le?le.toLowerCase():"")}_=S}if(_)Et(c,"complete"),Et(c,"success");else{c.o=6;try{var B=Xn(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Vo(c)}}finally{Hi(c)}}}}function Hi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,p||Et(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),qh(p)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(c){const p={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var _=mu(c[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=p[B]||[];p[B]=Q,Q.push(_)}_e(p,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function Ar(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ar.prototype,r.ka=8,r.I=1,r.connect=function(c,p,_,S){xt(0),this.W=c,this.H=p||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=Cu(this,null,this.W),Ti(this)};function Lo(c){if(ma(c),c.I==3){var p=c.V++,_=Nt(c.J);if(Je(_,"SID",c.M),Je(_,"RID",p),Je(_,"TYPE","terminate"),As(c,_),p=new Qn(c,c.j,p),p.M=2,p.A=_s(Nt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=p.A,_=!0),_||(p.g=Iu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),di(p)}xu(c)}function Rr(c){c.g&&(Uo(c),c.g.cancel(),c.g=null)}function ma(c){Rr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ti(c){if(!Ao(c.h)&&!c.m){c.m=!0;var p=c.Ea;ue||A(),he||(ue(),he=!0),x.add(p,c),c.D=0}}function pa(c,p){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(g(c.Ea,c,p),Ru(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Qn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=D(Q),ie(Q,this.U)):Q=this.U),this.u!==null||this.R||(B.J=Q,Q=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Tu(this,B,p),_=Nt(this.J),Je(_,"RID",c),Je(_,"CVER",22),this.G&&Je(_,"X-HTTP-Session-Id",this.G),As(this,_),Q&&(this.R?p="headers="+qi(Dn(Q))+"&"+p:this.u&&Ts(_,this.u,Q)),Ro(this.h,B),this.Ra&&Je(_,"TYPE","init"),this.S?(Je(_,"$req",p),Je(_,"SID","null"),B.U=!0,fi(B,_,null)):fi(B,_,p),this.I=2}}else this.I==3&&(c?Po(this,c):this.i.length==0||Ao(this.h)||Po(this))};function Po(c,p){var _;p?_=p.l:_=c.V++;const S=Nt(c.J);Je(S,"SID",c.M),Je(S,"RID",_),Je(S,"AID",c.K),As(c,S),c.u&&c.o&&Ts(S,c.u,c.o),_=new Qn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Tu(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ro(c.h,_),fi(_,S,p)}function As(c,p){c.H&&fe(c.H,function(_,S){Je(p,S,_)}),c.l&&fe({},function(_,S){Je(p,S,_)})}function Tu(c,p,_){_=Math.min(c.i.length,_);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Ie=-1;for(;;){const Tt=["count="+_];Ie==-1?_>0?(Ie=B[0].g,Tt.push("ofs="+Ie)):Ie=0:Tt.push("ofs="+Ie);let Ke=!0;for(let ct=0;ct<_;ct++){var Q=B[ct].g;const On=B[ct].map;if(Q-=Ie,Q<0)Ie=Math.max(0,B[ct].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var le=On instanceof Map?On:Object.entries(On);for(const[wi,Jn]of le){let Zn=Jn;m(Jn)&&(Zn=vr(Jn)),Tt.push(Q+wi+"="+encodeURIComponent(Zn))}}catch(wi){throw Tt.push(Q+"type="+encodeURIComponent("_badmap")),wi}}catch{S&&S(On)}}if(Ke){le=Tt.join("&");break e}}le=void 0}return c=c.i.splice(0,_),p.G=c,le}function Su(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ue||A(),he||(ue(),he=!0),x.add(p,c),c.A=0}}function Rs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(g(c.Da,c),Ru(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Rr(this),wu(this))};function Uo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function wu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Nt(c.na);Je(p,"RID","rpc"),Je(p,"SID",c.M),Je(p,"AID",c.K),Je(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Je(p,"TO",c.ia),Je(p,"TYPE","xmlhttp"),As(c,p),c.u&&c.o&&Ts(p,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=_s(Nt(p)),_.u=null,_.R=!0,oa(_,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Rs(this),xt(19))};function ga(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Au(c,p){var _=null;if(c.g==p){ga(c),Uo(c),c.g=null;var S=2}else if(yi(c.h,p))_=p.G,xo(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var B=c.D;S=aa(),Et(S,new ui(S,_)),Ti(c)}else Su(c);else if(B=p.m,B==3||B==0&&p.X>0||!(S==1&&pa(c,p)||S==2&&Rs(c)))switch(_&&_.length>0&&(p=c.h,p.i=p.i.concat(_)),B){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Ru(c,p){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*p}function Si(c,p){if(c.j.info("Error code "+p),p==2){var _=g(c.bb,c),S=c.Ua;const B=!S;S=new En(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bt(S,"https"),_s(S),B?Yn(S.toString(),_):Mo(S.toString(),_)}else xt(2);c.I=0,c.l&&c.l.pa(p),xu(c),ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function xu(c){if(c.I=0,c.ja=[],c.l){const p=Co(c.h);(p.length!=0||c.i.length!=0)&&(Y(c.ja,p),Y(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Cu(c,p,_){var S=_ instanceof En?Nt(_):new En(_);if(S.g!="")p&&(S.g=p+"."+S.g),_r(S,S.u);else{var B=f.location;S=B.protocol,p=p?p+"."+B.hostname:B.hostname,B=+B.port;const Q=new En(null);S&&Bt(Q,S),p&&(Q.g=p),B&&_r(Q,B),_&&(Q.h=_),S=Q}return _=c.G,p=c.wa,_&&p&&Je(S,_,p),Je(S,"VER",c.ka),As(c,S),S}function Iu(c,p,_){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new et(new _i({ab:_})):new et(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}r=Nu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xr(){}xr.prototype.g=function(c,p){return new ln(c,p)};function ln(c,p){gt.call(this),this.g=new Ar(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!I(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Gi(this)}b(ln,gt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Lo(this.g)},ln.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=vr(c),c=_);p.i.push(new It(p.Ya++,c)),p.I==3&&Ti(p)},ln.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,ln.Z.N.call(this)};function Du(c){Qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}b(Du,Qt);function Ou(){Cn.call(this),this.status=1}b(Ou,Cn);function Gi(c){this.g=c}b(Gi,Nu),Gi.prototype.ra=function(){Et(this.g,"a")},Gi.prototype.qa=function(c){Et(this.g,new Du(c))},Gi.prototype.pa=function(c){Et(this.g,new Ou)},Gi.prototype.oa=function(){Et(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,mb=function(){return new xr},db=function(){return aa()},fb=bt,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,$c=ys,To.COMPLETE="complete",hb=To,cu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",gt.prototype.listen=gt.prototype.J,Rl=cu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,cb=et}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let go="12.9.0";function VC(r){go=r}const Zs=new Fm("@firebase/firestore");function Ka(){return Zs.logLevel}function de(r,...e){if(Zs.logLevel<=Ue.DEBUG){const n=e.map(ip);Zs.debug(`Firestore (${go}): ${r}`,...n)}}function mr(r,...e){if(Zs.logLevel<=Ue.ERROR){const n=e.map(ip);Zs.error(`Firestore (${go}): ${r}`,...n)}}function Ws(r,...e){if(Zs.logLevel<=Ue.WARN){const n=e.map(ip);Zs.warn(`Firestore (${go}): ${r}`,...n)}}function ip(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,pb(r,s,n)}function pb(r,e,n){let s=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mr(s),new Error(s)}function Xe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||pb(e,o,s)}function Ce(r,e){return r}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class gb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class PC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class UC{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new as;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new as,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new as)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new gb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class zC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new zC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Z_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=qC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function Tm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return rm(o)===rm(u)?ze(o,u):rm(o)?1:-1}return ze(r.length,e.length)}const HC=55296,FC=57343;function rm(r){const e=r.charCodeAt(0);return e>=HC&&e<=FC}function so(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const W_="__name__";class Ii{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const s=Ii.isNumericId(e),o=Ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):Tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class dt extends Ii{construct(e,n,s){return new dt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const GC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ii{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return GC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new Wt([W_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ye(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ye(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(dt.fromString(e))}static fromName(e){return new Ee(dt.fromString(e).popFirst(5))}static empty(){return new Ee(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new dt(e.slice()))}}function QC(r,e,n){if(!n)throw new ye(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function KC(r,e,n,s){if(e===!0&&s===!0)throw new ye(ae.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function e0(r){if(!Ee.isDocumentKey(r))throw new ye(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function sp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function jl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sp(r);throw new ye(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Lt(r,e){const n={typeString:r};return e&&(n.value=e),n}function nu(r,e){if(!yb(r))throw new ye(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ye(ae.INVALID_ARGUMENT,n);return!0}const t0=-62135596800,n0=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*n0);return new ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t0)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Lt("string",ut._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ut(0,0))}static max(){return new Re(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function YC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new os(o,Ee.empty(),e)}function $C(r){return new os(r.readTime,r.key,Bl)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(Re.min(),Ee.empty(),Bl)}static max(){return new os(Re.max(),Ee.empty(),Bl)}}function XC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(r.documentKey,e.documentKey),n!==0?n:ze(r.largestBatchId,e.largestBatchId))}const JC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yo(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==JC)throw r;de("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>s(y)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function WC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(r){return r.name==="IndexedDbTransactionError"}class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const ap=-1;function Nh(r){return r==null}function ch(r){return r===0&&1/r==-1/0}function eI(r){return typeof r=="number"&&Number.isInteger(r)&&!ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const vb="";function tI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=i0(e)),e=nI(r.get(n),e);return i0(e)}function nI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case vb:n+="";break;default:n+=u}}return n}function i0(r){return r+vb+""}function r0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function na(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function _b(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new ri([])}unionWith(e){let n=new zt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Eb("Invalid base64 string: "+u):u}})(e);return new en(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const iI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const n=iI.exec(r);if(Xe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(r.seconds),nanos:At(r.nanos)}}function At(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const bb="server_timestamp",Tb="__type__",Sb="__previous_value__",wb="__local_write_time__";function op(r){return(r?.mapValue?.fields||{})[Tb]?.stringValue===bb}function Dh(r){const e=r.mapValue.fields[Sb];return op(e)?Dh(e):e}function ql(r){const e=ls(r.mapValue.fields[wb].timestampValue);return new ut(e.seconds,e.nanos)}class rI{constructor(e,n,s,o,u,f,m,y,g,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=b}}const hh="(default)";class Hl{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}function sI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ye(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(r.options.projectId,e)}const Ab="__type__",aI="__max__",jc={mapValue:{}},Rb="__vector__",fh="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?op(r)?4:lI(r)?9007199254740991:oI(r)?10:11:we(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const n=cs(r);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ql(r).isEqual(ql(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return At(o.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return At(o.integerValue)===At(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=At(o.doubleValue),m=At(u.doubleValue);return f===m?ch(f)===ch(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return so(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(r0(f)!==r0(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Pi(f[y],m[y])))return!1;return!0})(r,e);default:return we(52216,{left:r})}}function Fl(r,e){return(r.values||[]).find((n=>Pi(n,e)))!==void 0}function ao(r,e){if(r===e)return 0;const n=cs(r),s=cs(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=At(u.integerValue||u.doubleValue),y=At(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,e);case 3:return a0(r.timestampValue,e.timestampValue);case 4:return a0(ql(r),ql(e));case 5:return Tm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=us(u),y=us(f);return m.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=ze(m[g],y[g]);if(E!==0)return E}return ze(m.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ze(At(u.latitude),At(f.latitude));return m!==0?m:ze(At(u.longitude),At(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return o0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},g=m[fh]?.arrayValue,E=y[fh]?.arrayValue,b=ze(g?.values?.length||0,E?.values?.length||0);return b!==0?b:o0(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===jc.mapValue&&f===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(f===jc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const R=Tm(y[b],E[b]);if(R!==0)return R;const L=ao(m[y[b]],g[E[b]]);if(L!==0)return L}return ze(y.length,E.length)})(r.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function a0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const n=ls(r),s=ls(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function o0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return ze(n.length,s.length)}function oo(r){return Sm(r)}function Sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ee.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Sm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Sm(n.fields[f])}`;return o+"}"})(r.mapValue):we(61005,{value:r})}function Xc(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(r);return e?16+Xc(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Xc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return na(s.fields,((u,f)=>{o+=u.length+Xc(f)})),o})(r.mapValue);default:throw we(13486,{value:r})}}function wm(r){return!!r&&"integerValue"in r}function lp(r){return!!r&&"arrayValue"in r}function l0(r){return!!r&&"nullValue"in r}function u0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function oI(r){return(r?.mapValue?.fields||{})[Ab]?.stringValue===Rb}function Ol(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return na(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ol(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(r.arrayValue.values[n]);return e}return{...r}}function lI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===aI}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ol(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){na(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Bn(Ol(this.value))}}function xb(r){const e=[];return na(r.fields,((n,s)=>{const o=new Wt([n]);if(Jc(s)){const u=xb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ri(e)}class sn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Re.min(),Re.min(),Re.min(),Bn.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Re.min(),Re.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Re.min(),Re.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(e,n){this.position=e,this.inclusive=n}}function c0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function h0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pi(r.position[n],e.position[n]))return!1;return!0}class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function uI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Cb{}class Ut extends Cb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new hI(e,n,s):n==="array-contains"?new mI(e,s):n==="in"?new pI(e,s):n==="not-in"?new gI(e,s):n==="array-contains-any"?new yI(e,s):new Ut(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new fI(e,s):new dI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends Cb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return Ib(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ib(r){return r.op==="and"}function Nb(r){return cI(r)&&Ib(r)}function cI(r){for(const e of r.filters)if(e instanceof Ui)return!1;return!0}function Am(r){if(r instanceof Ut)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(Nb(r))return r.filters.map((e=>Am(e))).join(",");{const e=r.filters.map((n=>Am(n))).join(",");return`${r.op}(${e})`}}function Db(r,e){return r instanceof Ut?(function(s,o){return o instanceof Ut&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(r,e):r instanceof Ui?(function(s,o){return o instanceof Ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Db(f,o.filters[m])),!0):!1})(r,e):void we(19439)}function Ob(r){return r instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`})(r):r instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ob).join(" ,")+"}"})(r):"Filter"}class hI extends Ut{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class fI extends Ut{constructor(e,n){super(e,"in",n),this.keys=Mb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class dI extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=Mb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Mb(r,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class mI extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lp(n)&&Fl(n.arrayValue,this.value)}}class pI extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class gI extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class yI extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Fl(this.value.arrayValue,s)))}}class vI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function f0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new vI(r,e,n,s,o,u,f)}function up(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Am(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>oo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>oo(s))).join(",")),e.Te=n}return e.Te}function cp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!uI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Db(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!h0(r.startAt,e.startAt)&&h0(r.endAt,e.endAt)}function Rm(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Oh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _I(r,e,n,s,o,u,f,m){return new Oh(r,e,n,s,o,u,f,m)}function hp(r){return new Oh(r)}function d0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function EI(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function bI(r){return r.collectionGroup!==null}function Ml(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new zt(Wt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new mh(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new mh(Wt.keyField(),s))}return e.Ie}function Oi(r){const e=Ce(r);return e.Ee||(e.Ee=TI(e,Ml(r))),e.Ee}function TI(r,e){if(r.limitType==="F")return f0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new mh(o.field,u)}));const n=r.endAt?new dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dh(r.startAt.position,r.startAt.inclusive):null;return f0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function xm(r,e,n){return new Oh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Mh(r,e){return cp(Oi(r),Oi(e))&&r.limitType===e.limitType}function kb(r){return`${up(Oi(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Ob(o))).join(", ")}]`),Nh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>oo(o))).join(",")),`Target(${s})`})(Oi(r))}; limitType=${r.limitType})`}function kh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Ml(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,y){const g=c0(f,m,y);return f.inclusive?g<=0:g<0})(s.startAt,Ml(s),o)||s.endAt&&!(function(f,m,y){const g=c0(f,m,y);return f.inclusive?g>=0:g>0})(s.endAt,Ml(s),o))})(r,e)}function SI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Vb(r){return(e,n)=>{let s=!1;for(const o of Ml(r)){const u=wI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function wI(r,e,n){const s=r.field.isKeyField()?Ee.comparator(e.key,n.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?ao(y,g):we(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return _b(this.inner)}size(){return this.innerSize}}const AI=new pt(Ee.comparator);function pr(){return AI}const Lb=new pt(Ee.comparator);function xl(...r){let e=Lb;for(const n of r)e=e.insert(n.key,n);return e}function Pb(r){let e=Lb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Qs(){return kl()}function Ub(){return kl()}function kl(){return new ia((r=>r.toString()),((r,e)=>r.isEqual(e)))}const RI=new pt(Ee.comparator),xI=new zt(Ee.comparator);function je(...r){let e=xI;for(const n of r)e=e.add(n);return e}const CI=new zt(ze);function II(){return CI}function fp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function zb(r){return{integerValue:""+r}}function NI(r,e){return eI(e)?zb(e):fp(r,e)}class Vh{constructor(){this._=void 0}}function DI(r,e,n){return r instanceof ph?(function(o,u){const f={fields:{[Tb]:{stringValue:bb},[wb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&op(u)&&(u=Dh(u)),u&&(f.fields[Sb]=u),{mapValue:f}})(n,e):r instanceof Gl?Bb(r,e):r instanceof Ql?qb(r,e):(function(o,u){const f=jb(o,u),m=m0(f)+m0(o.Ae);return wm(f)&&wm(o.Ae)?zb(m):fp(o.serializer,m)})(r,e)}function OI(r,e,n){return r instanceof Gl?Bb(r,e):r instanceof Ql?qb(r,e):n}function jb(r,e){return r instanceof gh?(function(s){return wm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ph extends Vh{}class Gl extends Vh{constructor(e){super(),this.elements=e}}function Bb(r,e){const n=Hb(e);for(const s of r.elements)n.some((o=>Pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Ql extends Vh{constructor(e){super(),this.elements=e}}function qb(r,e){let n=Hb(e);for(const s of r.elements)n=n.filter((o=>!Pi(o,s)));return{arrayValue:{values:n}}}class gh extends Vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function m0(r){return At(r.integerValue||r.doubleValue)}function Hb(r){return lp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function MI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Gl&&o instanceof Gl||s instanceof Ql&&o instanceof Ql?so(s.elements,o.elements,Pi):s instanceof gh&&o instanceof gh?Pi(s.Ae,o.Ae):s instanceof ph&&o instanceof ph})(r.transform,e.transform)}class kI{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Lh{}function Fb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qb(r.key,cr.none()):new iu(r.key,r.data,cr.none());{const n=r.data,s=Bn.empty();let o=new zt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ra(r.key,s,new ri(o.toArray()),cr.none())}}function VI(r,e,n){r instanceof iu?(function(o,u,f){const m=o.value.clone(),y=g0(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ra?(function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=g0(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(Gb(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Vl(r,e,n,s){return r instanceof iu?(function(u,f,m,y){if(!Zc(u.precondition,f))return m;const g=u.value.clone(),E=y0(u.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ra?(function(u,f,m,y){if(!Zc(u.precondition,f))return m;const g=y0(u.fieldTransforms,y,f),E=f.data;return E.setAll(Gb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function LI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=jb(s.transform,o||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(s.field,u))}return n||null}function p0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,((u,f)=>MI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class iu extends Lh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends Lh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Gb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function g0(r,e,n){const s=new Map;Xe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,OI(f,m,n[o]))}return s}function y0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,DI(u,f,e))}return s}class Qb extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PI extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&VI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Ub();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=Fb(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,((n,s)=>p0(n,s)))&&so(this.baseMutations,e.baseMutations,((n,s)=>p0(n,s)))}}class dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return RI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new dp(e,n,s,o)}}class zI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,He;function BI(r){switch(r){case ae.OK:return we(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function Kb(r){if(r===void 0)return mr("GRPC error has no .code"),ae.UNKNOWN;switch(r){case Vt.OK:return ae.OK;case Vt.CANCELLED:return ae.CANCELLED;case Vt.UNKNOWN:return ae.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ae.INTERNAL;case Vt.UNAVAILABLE:return ae.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ae.NOT_FOUND;case Vt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Vt.ABORTED:return ae.ABORTED;case Vt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Vt.DATA_LOSS:return ae.DATA_LOSS;default:return we(39323,{code:r})}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function qI(){return new TextEncoder}const HI=new ss([4294967295,4294967295],0);function v0(r){const e=qI().encode(r),n=new ub;return n.update(e),new Uint8Array(n.digest())}function _0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class mp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(s<0)throw new Cl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(HI)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=v0(e),[s,o]=_0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new mp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=v0(e),[s,o]=_0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ph(Re.min(),o,new pt(ze),pr(),je())}}class ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ru(s,n,je(),je(),je())}}class Wc{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Yb{constructor(e,n){this.targetId=e,this.Ce=n}}class $b{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class E0{constructor(){this.ve=0,this.Fe=b0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}})),new ru(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=b0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class FI{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.He=Bc(),this.Je=Bc(),this.Ze=new pt(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Rm(u))if(s===0){const f=new Ee(u.path);this.et(n,f,sn.newNoDocument(f,Re.min()))}else Xe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=us(s).toUint8Array()}catch(y){if(y instanceof Eb)return Ws("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new mp(f,o,u)}catch(y){return Ws(y instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Rm(m.target)){const y=new Ee(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,sn.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=je();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Ph(e,n,this.Ze,this.je,s);return this.je=pr(),this.He=Bc(),this.Je=Bc(),this.Ze=new pt(ze),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new E0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new zt(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new zt(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new E0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new pt(Ee.comparator)}function b0(){return new pt(Ee.comparator)}const GI={asc:"ASCENDING",desc:"DESCENDING"},QI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KI={and:"AND",or:"OR"};class YI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cm(r,e){return r.useProto3Json||Nh(e)?e:{value:e}}function yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $I(r,e){return yh(r,e.toTimestamp())}function Mi(r){return Xe(!!r,49232),Re.fromTimestamp((function(n){const s=ls(n);return new ut(s.seconds,s.nanos)})(r))}function pp(r,e){return Im(r,e).canonicalString()}function Im(r,e){const n=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Jb(r){const e=dt.fromString(r);return Xe(n1(e),10190,{key:e.toString()}),e}function Nm(r,e){return pp(r.databaseId,e.path)}function sm(r,e){const n=Jb(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ee(Wb(n))}function Zb(r,e){return pp(r.databaseId,e)}function XI(r){const e=Jb(r);return e.length===4?dt.emptyPath():Wb(e)}function Dm(r){return new dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Wb(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function T0(r,e,n){return{name:Nm(r,e),fields:n.value.mapValue.fields}}function JI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ae.UNKNOWN:Kb(g.code);return new ye(E,g.message||"")})(f);n=new $b(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=sm(r,s.document.name),u=Mi(s.document.updateTime),f=s.document.createTime?Mi(s.document.createTime):Re.min(),m=new Bn({mapValue:{fields:s.document.fields}}),y=sn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Wc(g,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=sm(r,s.document),u=s.readTime?Mi(s.readTime):Re.min(),f=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Wc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=sm(r,s.document),u=s.removedTargetIds||[];n=new Wc([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new jI(o,u),m=s.targetId;n=new Yb(m,f)}}return n}function ZI(r,e){let n;if(e instanceof iu)n={update:T0(r,e.key,e.value)};else if(e instanceof Qb)n={delete:Nm(r,e.key)};else if(e instanceof ra)n={update:T0(r,e.key,e.data),updateMask:oN(e.fieldMask)};else{if(!(e instanceof PI))return we(16599,{dt:e.type});n={verify:Nm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof ph)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Gl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:$I(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(r,e.precondition)),n}function WI(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(Re.min())&&(f=Mi(u)),new kI(f,o.transformResults||[])})(n,e)))):[]}function eN(r,e){return{documents:[Zb(r,e.path)]}}function tN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Zb(r,o);const u=(function(g){if(g.length!==0)return t1(Ui.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:$a(R.field),direction:rN(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Cm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function nN(r){let e=XI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const R=e1(b);return R instanceof Ui&&Nb(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((R=>(function(Y){return new mh(Xa(Y.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let R;return R=typeof b=="object"?b.value:b,Nh(R)?null:R})(n.limit));let y=null;n.startAt&&(y=(function(b){const R=!!b.before,L=b.values||[];return new dh(L,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const R=!b.before,L=b.values||[];return new dh(L,R)})(n.endAt)),_I(e,o,f,u,m,"F",y,g)}function iN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xa(n.unaryFilter.field);return Ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(n.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(n.unaryFilter.field);return Ut.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xa(n.unaryFilter.field);return Ut.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ut.create(Xa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((s=>e1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(r):we(30097,{filter:r})}function rN(r){return GI[r]}function sN(r){return QI[r]}function aN(r){return KI[r]}function $a(r){return{fieldPath:r.canonicalString()}}function Xa(r){return Wt.fromServerFormat(r.fieldPath)}function t1(r){return r instanceof Ut?(function(n){if(n.op==="=="){if(u0(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NAN"}};if(l0(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u0(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NAN"}};if(l0(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(n.field),op:sN(n.op),value:n.value}}})(r):r instanceof Ui?(function(n){const s=n.getFilters().map((o=>t1(o)));return s.length===1?s[0]:{compositeFilter:{op:aN(n.op),filters:s}}})(r):we(54877,{filter:r})}function oN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function n1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function i1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class es{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=en.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lN{constructor(e){this.yt=e}}function uN(r){const e=nN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xm(e,e.limit,"L"):e}class cN{constructor(){this.Sn=new hN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(os.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class hN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new zt(dt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new zt(dt.comparator)).toArray()}}const S0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r1=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(r1,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class lo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const w0="LruGarbageCollector",fN=1048576;function A0([r,e],[n,s]){const o=ze(r,n);return o===0?ze(e,s):o}class dN{constructor(e){this.Pr=e,this.buffer=new zt(A0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();A0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(w0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?de(w0,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Ar(3e5)}))}}class pN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Ih.ce);const s=new dN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(S0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),Ka()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${b} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function gN(r,e){return new pN(r,e)}class yN{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _N{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Vl(s.mutation,o,ri.empty(),ut.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=Qs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=xl();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=pr();const f=kl(),m=(function(){return kl()})();return n.forEach(((y,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ra)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Vl(E.mutation,g,E.mutation.getFieldMask(),ut.now())):f.set(g.key,ri.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new vN(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=kl();let o=new pt(((f,m)=>f-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let E=s.get(y)||ri.empty();E=m.applyToLocalView(g,E),s.set(y,E);const b=(o.get(m.batchId)||je()).add(y);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,b=Ub();E.forEach((R=>{if(!u.has(R)){const L=Fb(n.get(R),s.get(R));L!==null&&b.set(R,L),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return EI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Qs());let m=Bl,y=u;return f.next((g=>ne.forEach(g,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{y=y.insert(E,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,y,g,je()))).next((E=>({batchId:m,changes:Pb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let o=xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=xl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(y=>{const g=(function(b,R){return new Oh(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((b,R)=>{f=f.insert(b,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))}));let m=xl();return f.forEach(((y,g)=>{const E=u.get(y);E!==void 0&&Vl(E.mutation,g,ri.empty(),ut.now()),kh(n,g)&&(m=m.insert(y,g))})),m}))}}class EN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:uN(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),ne.resolve()}}class bN{constructor(){this.overlays=new pt(Ee.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new pt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Qs(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new zI(n,s));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class TN{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class gp{constructor(){this.kr=new zt(Ht.Kr),this.qr=new zt(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ht(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ee(new dt([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ee(new dt([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=je();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ht(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ee.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||Ee.comparator(e.key,n.key)}}class SN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new zt(Ht.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new UI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?ap:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(ze);return n.forEach((o=>{const u=new Ht(o,0),f=new Ht(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Ht(new Ee(u),0);let m=new zt(ze);return this.Jr.forEachWhile((y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Hr)),!0)}),f),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wN{constructor(e){this.ti=e,this.docs=(function(){return new pt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=pr();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||XC($C(E),s)<=0||(o.has(E.key)||kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new AN(this)}getSize(e){return ne.resolve(this.size)}}class AN extends yN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class RN{constructor(e){this.persistence=e,this.ri=new ia((n=>up(n)),cp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new gp,this.targetCount=0,this.oi=lo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class s1{constructor(e,n){this._i={},this.overlays={},this.ai=new Ih(0),this.ui=!1,this.ui=!0,this.ci=new TN,this.referenceDelegate=e(this),this.li=new RN(this),this.indexManager=new cN,this.remoteDocumentCache=(function(o){return new wN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new lN(n),this.Pi=new EN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new SN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new xN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class xN extends ZC{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.Ri=new gp,this.Ai=null}static Vi(e){return new yp(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=Ee.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.fi=new ia((s=>tI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=gN(this,n)}static Vi(e,n){return new vh(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Re.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class vp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vp(e,n.fromCache,s,o)}}class CN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class IN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return p2()?8:WC(an())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new CN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Ka()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(Ka()<=Ue.DEBUG&&de("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ka()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):ne.resolve())}gs(e,n){if(d0(n))return ne.resolve(null);let s=Oi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=xm(n,null,"F"),s=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=je(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const g=this.bs(n,m);return this.Ss(n,g,f,y.readTime)?this.gs(e,xm(n,null,"F")):this.Ds(e,g,n,y)}))))})))))}ps(e,n,s,o){return d0(n)||o.isEqual(Re.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ne.resolve(null):(Ka()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.Ds(e,f,n,YC(o,Bl)).next((m=>m)))}))}bs(e,n){let s=new zt(Vb(e));return n.forEach(((o,u)=>{kh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Ka()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.fs.getDocumentsMatchingQuery(e,n,os.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const _p="LocalStore",NN=3e8;class DN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new pt(ze),this.Fs=new ia((u=>up(u)),cp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _N(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function ON(r,e,n,s){return new DN(r,e,n,s)}async function a1(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let y=je();for(const g of o){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function MN(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,E){const b=g.batch,R=b.keys();let L=ne.resolve();return R.forEach((Y=>{L=L.next((()=>E.getEntry(y,Y))).next(($=>{const j=g.docVersions.get(Y);Xe(j!==null,48541),$.version.compareTo(j)<0&&(b.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(y,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function o1(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function kN(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const R=o.get(b);if(!R)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let L=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?L=L.withResumeToken(en.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(b,L),(function($,j,te){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=NN?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(R,L,E)&&m.push(n.li.updateTargetData(u,L))}));let y=pr(),g=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(VN(u,f,e.documentUpdates).next((E=>{y=E.Bs,g=E.Ls}))),!s.isEqual(Re.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.vs=o,u)))}function VN(r,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=pr();return n.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Re.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):de(_p,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{Bs:f,Ls:o}}))}function LN(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function PN(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new es(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Om(r,e,n){const s=Ce(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!vo(f))throw f;de(_p,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function R0(r,e,n){const s=Ce(r);let o=Re.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,E){const b=Ce(y),R=b.Fs.get(E);return R!==void 0?ne.resolve(b.vs.get(R)):b.li.getTargetData(g,E)})(s,f,Oi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:je()))).next((m=>(UN(s,SI(e),m),{documents:m,ks:u})))))}function UN(r,e,n){let s=r.Ms.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class x0{constructor(){this.activeTargetIds=II()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zN{constructor(){this.vo=new x0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new x0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jN{Mo(e){}shutdown(){}}const C0="ConnectivityMonitor";class I0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(C0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(C0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function Mm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const am="RestConnection",BN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class qN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===hh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Mm(),m=this.Qo(e,n.toUriEncodedString());de(am,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:g}=new URL(m),E=fo(g);return this.zo(e,m,y,s,E).then((b=>(de(am,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw Ws(am,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=BN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class HN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const nn="WebChannelConnection",wl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class to extends qN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!to.c_){const e=db();wl(e,fb.STAT_EVENT,(n=>{n.stat===bm.PROXY?de(nn,"STAT_EVENT: detected buffering proxy"):n.stat===bm.NOPROXY&&de(nn,"STAT_EVENT: detected no buffering proxy")})),to.c_=!0}}zo(e,n,s,o,u){const f=Mm();return new Promise(((m,y)=>{const g=new cb;g.setWithCredentials(!0),g.listenOnce(hb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case $c.NO_ERROR:const b=g.getResponseJson();de(nn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case $c.TIMEOUT:de(nn,`RPC '${e}' ${f} timed out`),y(new ye(ae.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const R=g.getStatus();if(de(nn,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const Y=L?.error;if(Y&&Y.status&&Y.message){const $=(function(te){const ee=te.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(ee)>=0?ee:ae.UNKNOWN})(Y.status);y(new ye($,Y.message))}else y(new ye(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ye(ae.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(nn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);de(nn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Mm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");de(nn,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=f.createWebChannel(g,m);this.I_(E);let b=!1,R=!1;const L=new HN({Ho:Y=>{R?de(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(b||(de(nn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),de(nn,`RPC '${e}' stream ${o} sending:`,Y),E.send(Y))},Jo:()=>E.close()});return wl(E,Rl.EventType.OPEN,(()=>{R||(de(nn,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),wl(E,Rl.EventType.CLOSE,(()=>{R||(R=!0,de(nn,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),wl(E,Rl.EventType.ERROR,(Y=>{R||(R=!0,Ws(nn,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),L.o_(new ye(ae.UNAVAILABLE,"The operation could not be completed")))})),wl(E,Rl.EventType.MESSAGE,(Y=>{if(!R){const $=Y.data[0];Xe(!!$,16349);const j=$,te=j?.error||j[0]?.error;if(te){de(nn,`RPC '${e}' stream ${o} received error:`,te);const ee=te.status;let re=(function(he){const x=Vt[he];if(x!==void 0)return Kb(x)})(ee),oe=te.message;ee==="NOT_FOUND"&&oe.includes("database")&&oe.includes("does not exist")&&oe.includes(this.databaseId.database)&&Ws(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),re===void 0&&(re=ae.INTERNAL,oe="Unknown error status: "+ee+" with message "+te.message),R=!0,L.o_(new ye(re,oe)),E.close()}else de(nn,`RPC '${e}' stream ${o} received:`,$),L.__($)}})),to.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return mb()}}function FN(r){return new to(r)}function om(){return typeof document<"u"?document:null}function Uh(r){return new YI(r,!0)}to.c_=!1;class l1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const N0="PersistentStream";class u1{constructor(e,n,s,o,u,f,m,y){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new l1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ye(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(N0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(N0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GN extends u1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Mi(f.readTime):Re.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Dm(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=Rm(y)?{documents:eN(u,y)}:{query:tN(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Xb(u,f.resumeToken);const g=Cm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const g=Cm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=iN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Dm(this.serializer),n.removeTarget=e,this.K_(n)}}class QN extends u1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WI(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Dm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ZI(this.serializer,s)))};this.K_(n)}}class KN{}class YN extends KN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Im(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ae.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Im(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(ae.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $N(r,e,n,s){return new YN(r,e,n,s)}class XN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class JN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{sa(this)&&(de(ea,"Restarting streams for network reachability change."),await(async function(y){const g=Ce(y);g.Ea.add(4),await su(g),g.Va.set("Unknown"),g.Ea.delete(4),await zh(g)})(this))}))})),this.Va=new XN(s,o)}}async function zh(r){if(sa(r))for(const e of r.Ra)await e(!0)}async function su(r){for(const e of r.Ra)await e(!1)}function c1(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sp(n)?Tp(n):_o(n).O_()&&bp(n,e))}function Ep(r,e){const n=Ce(r),s=_o(n);n.Ia.delete(e),s.O_()&&h1(n,e),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Va.set("Unknown"))}function bp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(r).Z_(e)}function h1(r,e){r.da.$e(e),_o(r).X_(e)}function Tp(r){r.da=new FI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Va.ua()}function Sp(r){return sa(r)&&!_o(r).x_()&&r.Ia.size>0}function sa(r){return Ce(r).Ea.size===0}function f1(r){r.da=void 0}async function ZN(r){r.Va.set("Online")}async function WN(r){r.Ia.forEach(((e,n)=>{bp(r,e)}))}async function eD(r,e){f1(r),Sp(r)?(r.Va.ha(e),Tp(r)):r.Va.set("Unknown")}async function tD(r,e,n){if(r.Va.set("Online"),e instanceof $b&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){de(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _h(r,s)}else if(e instanceof Wc?r.da.Xe(e):e instanceof Yb?r.da.st(e):r.da.tt(e),!n.isEqual(Re.min()))try{const s=await o1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,g)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),h1(u,y);const b=new es(E.target,y,g,E.sequenceNumber);bp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){de(ea,"Failed to raise snapshot:",s),await _h(r,s)}}async function _h(r,e,n){if(!vo(e))throw e;r.Ea.add(1),await su(r),r.Va.set("Offline"),n||(n=()=>o1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await zh(r)}))}function d1(r,e){return e().catch((n=>_h(r,n,e)))}async function jh(r){const e=Ce(r),n=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ap;for(;nD(e);)try{const o=await LN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,iD(e,o)}catch(o){await _h(e,o)}m1(e)&&p1(e)}function nD(r){return sa(r)&&r.Ta.length<10}function iD(r,e){r.Ta.push(e);const n=hs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function m1(r){return sa(r)&&!hs(r).x_()&&r.Ta.length>0}function p1(r){hs(r).start()}async function rD(r){hs(r).ra()}async function sD(r){const e=hs(r);for(const n of r.Ta)e.ea(n.mutations)}async function aD(r,e,n){const s=r.Ta.shift(),o=dp.from(s,e,n);await d1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jh(r)}async function oD(r,e){e&&hs(r).Y_&&await(async function(s,o){if((function(f){return BI(f)&&f!==ae.ABORTED})(o.code)){const u=s.Ta.shift();hs(s).B_(),await d1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jh(s)}})(r,e),m1(r)&&p1(r)}async function D0(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),de(ea,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await su(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zh(n)}async function lD(r,e){const n=Ce(r);e?(n.Ea.delete(2),await zh(n)):e||(n.Ea.add(2),await su(n),n.Va.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new GN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:ZN.bind(null,r),Yo:WN.bind(null,r),t_:eD.bind(null,r),J_:tD.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Sp(r)?Tp(r):r.Va.set("Unknown")):(await r.ma.stop(),f1(r))}))),r.ma}function hs(r){return r.fa||(r.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new QN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:rD.bind(null,r),t_:oD.bind(null,r),ta:sD.bind(null,r),na:aD.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await jh(r)):(await r.fa.stop(),r.Ta.length>0&&(de(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class wp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new wp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(r,e){if(mr("AsyncQueue",`${e}: ${r}`),vo(r))return new ye(ae.UNAVAILABLE,`${e}: ${r}`);throw r}class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=xl(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class O0{constructor(){this.ga=new pt(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class uo{constructor(e,n,s,o,u,f,m,y,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new uo(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class uD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class cD{constructor(){this.queries=M0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=M0(),u.forEach(((f,m)=>{for(const y of m.ba)y.onError(s)}))})(this,new ye(ae.ABORTED,"Firestore shutting down"))}}function M0(){return new ia((r=>kb(r)),Mh)}async function hD(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new uD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ap(f,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Rp(n)}async function fD(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dD(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Rp(n)}function mD(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Rp(r){r.Ca.forEach((e=>{e.next()}))}var km,k0;(k0=km||(km={})).Ma="default",k0.Cache="cache";class pD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==km.Cache}}class g1{constructor(e){this.key=e}}class y1{constructor(e){this.key=e}}class gD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=Vb(e),this.tu=new no(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new O0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const R=o.get(E),L=kh(this.query,b)?b:null,Y=!!R&&this.mutatedKeys.has(R.key),$=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let j=!1;R&&L?R.data.isEqual(L.data)?Y!==$&&(s.track({type:3,doc:L}),j=!0):this.su(R,L)||(s.track({type:2,doc:L}),j=!0,(y&&this.eu(L,y)>0||g&&this.eu(L,g)<0)&&(m=!0)):!R&&L?(s.track({type:0,doc:L}),j=!0):R&&!L&&(s.track({type:1,doc:R}),j=!0,(y||g)&&(m=!0)),j&&(L?(f=f.add(L),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(L,Y){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:j})}};return $(L)-$(Y)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,g=y!==this.Xa;return this.Xa=y,f.length!==0||g?{snapshot:new uo(this.query,e.tu,u,f,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new O0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new y1(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new g1(s))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xp="SyncEngine";class yD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class vD{constructor(e){this.key=e,this.hu=!1}}class _D{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((m=>kb(m)),Mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(Ee.comparator),this.Au=new Map,this.Vu=new gp,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ED(r,e,n=!0){const s=S1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await v1(s,e,n,!0),o}async function bD(r,e){const n=S1(r);await v1(n,e,!0,!1)}async function v1(r,e,n,s){const o=await PN(r.localStore,Oi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await TD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&c1(r.remoteStore,o),m}async function TD(r,e,n,s,o){r.pu=(b,R,L)=>(async function($,j,te,ee){let re=j.view.ru(te);re.Ss&&(re=await R0($.localStore,j.query,!1).then((({documents:x})=>j.view.ru(x,re))));const oe=ee&&ee.targetChanges.get(j.targetId),ue=ee&&ee.targetMismatches.get(j.targetId)!=null,he=j.view.applyChanges(re,$.isPrimaryClient,oe,ue);return L0($,j.targetId,he.au),he.snapshot})(r,b,R,L);const u=await R0(r.localStore,e,!0),f=new gD(e,u.ks),m=f.ru(u.documents),y=ru.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,y);L0(r,n,g.au);const E=new yD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function SD(r,e,n){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Mh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Om(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ep(s.remoteStore,o.targetId),Vm(s,o.targetId)})).catch(yo)):(Vm(s,o.targetId),await Om(s.localStore,o.targetId,!0))}async function wD(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ep(n.remoteStore,s.targetId))}async function AD(r,e,n){const s=OD(r);try{const o=await(function(f,m){const y=Ce(f),g=ut.now(),E=m.reduce(((L,Y)=>L.add(Y.key)),je());let b,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Y=pr(),$=je();return y.xs.getEntries(L,E).next((j=>{Y=j,Y.forEach(((te,ee)=>{ee.isValidDocument()||($=$.add(te))}))})).next((()=>y.localDocuments.getOverlayedDocuments(L,Y))).next((j=>{b=j;const te=[];for(const ee of m){const re=LI(ee,b.get(ee.key).overlayedDocument);re!=null&&te.push(new ra(ee.key,re,xb(re.value.mapValue),cr.exists(!0)))}return y.mutationQueue.addMutationBatch(L,g,te,m)})).next((j=>{R=j;const te=j.applyToLocalDocumentSet(b,$);return y.documentOverlayCache.saveOverlays(L,j.batchId,te)}))})).then((()=>({batchId:R.batchId,changes:Pb(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let g=f.du[f.currentUser.toKey()];g||(g=new pt(ze)),g=g.insert(m,y),f.du[f.currentUser.toKey()]=g})(s,o.batchId,n),await au(s,o.changes),await jh(s.remoteStore)}catch(o){const u=Ap(o,"Failed to persist write");n.reject(u)}}async function _1(r,e){const n=Ce(r);try{const s=await kN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Xe(f.hu,14607):o.removedDocuments.size>0&&(Xe(f.hu,42227),f.hu=!1))})),await au(n,s,e)}catch(s){await yo(s)}}function V0(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=Ce(f);y.onlineState=m;let g=!1;y.queries.forEach(((E,b)=>{for(const R of b.ba)R.va(m)&&(g=!0)})),g&&Rp(y)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function RD(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new pt(Ee.comparator);f=f.insert(u,sn.newNoDocument(u,Re.min()));const m=je().add(u),y=new Ph(Re.min(),new Map,new pt(ze),f,m);await _1(s,y),s.Ru=s.Ru.remove(u),s.Au.delete(e),Cp(s)}else await Om(s.localStore,e,!1).then((()=>Vm(s,e,n))).catch(yo)}async function xD(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await MN(n.localStore,e);b1(n,s,null),E1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await au(n,o)}catch(o){await yo(o)}}async function CD(r,e,n){const s=Ce(r);try{const o=await(function(f,m){const y=Ce(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next((b=>(Xe(b!==null,37113),E=b.keys(),y.mutationQueue.removeMutationBatch(g,b)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);b1(s,e,n),E1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await au(s,o)}catch(o){await yo(o)}}function E1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function b1(r,e,n){const s=Ce(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Vm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||T1(r,s)}))}function T1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Ep(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Cp(r))}function L0(r,e,n){for(const s of n)s instanceof g1?(r.Vu.addReference(s.key,e),ID(r,s)):s instanceof y1?(de(xp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||T1(r,s.key)):we(19791,{wu:s})}function ID(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(de(xp,"New document in limbo: "+n),r.Eu.add(s),Cp(r))}function Cp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ee(dt.fromString(e)),s=r.fu.next();r.Au.set(s,new vD(n)),r.Ru=r.Ru.insert(n,s),c1(r.remoteStore,new es(Oi(hp(n.path)),s,"TargetPurposeLimboResolution",Ih.ce))}}async function au(r,e,n){const s=Ce(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{f.push(s.pu(y,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=vp.Es(y.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(y,g){const E=Ce(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(g,(R=>ne.forEach(R.Ts,(L=>E.persistence.referenceDelegate.addReference(b,R.targetId,L))).next((()=>ne.forEach(R.Is,(L=>E.persistence.referenceDelegate.removeReference(b,R.targetId,L)))))))))}catch(b){if(!vo(b))throw b;de(_p,"Failed to update sequence numbers: "+b)}for(const b of g){const R=b.targetId;if(!b.fromCache){const L=E.vs.get(R),Y=L.snapshotVersion,$=L.withLastLimboFreeSnapshotVersion(Y);E.vs=E.vs.insert(R,$)}}})(s.localStore,u))}async function ND(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){de(xp,"User change. New user:",e.toKey());const s=await a1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new ye(ae.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await au(n,s.Ns)}}function DD(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function S1(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RD.bind(null,e),e.Pu.J_=dD.bind(null,e.eventManager),e.Pu.yu=mD.bind(null,e.eventManager),e}function OD(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CD.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ON(this.persistence,new IN,e.initialUser,this.serializer)}Cu(e){return new s1(yp.Vi,this.serializer)}Du(e){return new zN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class MD extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new s1((s=>vh.Vi(s,n)),this.serializer)}}class Lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>V0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ND.bind(null,this.syncEngine),await lD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cD})()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),s=FN(e.databaseInfo);return $N(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new JN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>V0(this.syncEngine,n,0)),(function(){return I0.v()?new I0:new jN})())}createSyncEngine(e,n){return(function(o,u,f,m,y,g,E){const b=new _D(o,u,f,m,y,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);de(ea,"RemoteStore shutting down."),s.Ea.add(5),await su(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};class kD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fs="FirestoreClient";class VD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{de(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(de(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ap(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function lm(r,e){r.asyncQueue.verifyOperationInProgress(),de(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await a1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function P0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await LD(r);de(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>D0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>D0(e.remoteStore,o))),r._onlineComponents=e}async function LD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(fs,"Using user provided OfflineComponentProvider");try{await lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await lm(r,new Eh)}}else de(fs,"Using default OfflineComponentProvider"),await lm(r,new MD(void 0));return r._offlineComponents}async function w1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(fs,"Using user provided OnlineComponentProvider"),await P0(r,r._uninitializedComponentsProvider._online)):(de(fs,"Using default OnlineComponentProvider"),await P0(r,new Lm))),r._onlineComponents}function PD(r){return w1(r).then((e=>e.syncEngine))}async function UD(r){const e=await w1(r),n=e.eventManager;return n.onListen=ED.bind(null,e.syncEngine),n.onUnlisten=SD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wD.bind(null,e.syncEngine),n}function zD(r,e,n={}){const s=new as;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const E=new kD({next:R=>{E.Nu(),f.enqueueAndForget((()=>fD(u,b)));const L=R.docs.has(m);!L&&R.fromCache?g.reject(new ye(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&R.fromCache&&y&&y.source==="server"?g.reject(new ye(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new pD(hp(m.path),E,{includeMetadataChanges:!0,Ka:!0});return hD(u,b)})(await UD(r),r.asyncQueue,e,n,s))),s.promise}function jD(r,e){const n=new as;return r.asyncQueue.enqueueAndForget((async()=>AD(await PD(r),e,n))),n.promise}function A1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const BD="ComponentProvider",U0=new Map;function qD(r,e,n,s,o){return new rI(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,A1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const R1="firestore.googleapis.com",z0=!0;class j0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R1,this.ssl=z0}else this.host=e.host,this.ssl=e.ssl??z0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fN)throw new ye(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ip{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new LC;switch(s.type){case"firstParty":return new jC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=U0.get(n);s&&(de(BD,"Removing Datastore"),U0.delete(n),s.terminate())})(this),Promise.resolve()}}function HD(r,e,n,s={}){r=jl(r,Ip);const o=fo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(AE(`https://${m}`),RE("Firestore",!0)),u.host!==R1&&u.host!==m&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!$s(y,f)&&(r._setSettings(y),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=rn.MOCK_USER;else{g=a2(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ye(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(b)}r._authCredentials=new PC(new gb(g,E))}}class Np{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Np(this.firestore,e,this._query)}}class Ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(nu(n,Ft._jsonSchema))return new Ft(e,s||null,new Ee(dt.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Lt("string",Ft._jsonSchemaVersion),referencePath:Lt("string")};class Kl extends Np{constructor(e,n,s){super(e,n,hp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Ee(e))}withConverter(e){return new Kl(this.firestore,e,this._path)}}function B0(r,e,...n){if(r=oi(r),arguments.length===1&&(e=rp.newId()),QC("doc","path",e),r instanceof Ip){const s=dt.fromString(e,...n);return e0(s),new Ft(r,null,new Ee(s))}{if(!(r instanceof Ft||r instanceof Kl))throw new ye(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...n));return e0(s),new Ft(r.firestore,r instanceof Kl?r.converter:null,new Ee(s))}}const q0="AsyncQueue";class H0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new l1(this,"async_queue_retry"),this._c=()=>{const s=om();s&&de(q0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;de(q0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",F0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=wp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:F0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function F0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Dp extends Ip{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new H0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H0(e),this._firestoreClient=void 0,await e}}}function FD(r,e){const n=typeof r=="object"?r:NE(),s=typeof r=="string"?r:hh,o=Qm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=r2("firestore");u&&HD(o,...u)}return o}function x1(r){if(r._terminated)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GD(r),r._firestoreClient}function GD(r){const e=r._freezeSettings(),n=qD(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new VD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(en.fromBase64String(e))}catch(n){throw new ye(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Lt("string",qn._jsonSchemaVersion),bytes:Lt("string")};class C1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class I1{constructor(e){this._methodName=e}}class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(nu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Lt("string",ki._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ai(e.vectorValues);throw new ye(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Lt("string",ai._jsonSchemaVersion),vectorValues:Lt("object")};const QD=/^__.*__$/;class KD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}function N1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:r})}}class Op{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Op({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(N1(this.dataSource)&&QD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class YD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Uh(e)}createContext(e,n,s,o=!1){return new Op({dataSource:e,methodName:n,targetDoc:s,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $D(r){const e=r._freezeSettings(),n=Uh(r._databaseId);return new YD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function XD(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);k1("Data must be an object, but it was:",f,s);const m=O1(s,f);let y,g;if(u.merge)y=new ri(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const R=Mp(e,b,n);if(!f.contains(R))throw new ye(ae.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);WD(E,R)||E.push(R)}y=new ri(E),g=f.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,g=f.fieldTransforms;return new KD(new Bn(m),y,g)}function D1(r,e){if(M1(r=oi(r)))return k1("Unsupported field value:",e,r),O1(r,e);if(r instanceof I1)return(function(s,o){if(!N1(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let y=D1(m,o.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=oi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ut.fromDate(s);return{timestampValue:yh(o.serializer,u)}}if(s instanceof ut){const u=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:Xb(o.serializer,s._byteString)};if(s instanceof Ft){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return(function(f,m){const y=f instanceof ai?f.toArray():f;return{mapValue:{fields:{[Ab]:{stringValue:Rb},[fh]:{arrayValue:{values:y.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return fp(m.serializer,E)}))}}}}}})(s,o);if(i1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${sp(s)}`)})(r,e)}function O1(r,e){const n={};return _b(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(r,((s,o)=>{const u=D1(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function M1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ut||r instanceof ki||r instanceof qn||r instanceof Ft||r instanceof I1||r instanceof ai||i1(r))}function k1(r,e,n){if(!M1(n)||!yb(n)){const s=sp(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Mp(r,e,n){if((e=oi(e))instanceof C1)return e._internalPath;if(typeof e=="string")return ZD(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const JD=new RegExp("[~\\*/\\[\\]]");function ZD(r,e,n){if(e.search(JD)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new C1(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new ye(ae.INVALID_ARGUMENT,m+r+y)}function WD(r,e){return r.some((n=>n.isEqual(e)))}class e4{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return na(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[fh].arrayValue?.values?.map((s=>At(s.doubleValue)));return new ai(n)}convertGeoPoint(e){return new ki(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Dh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const n=ls(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=dt.fromString(e);Xe(n1(s),9688,{name:e});const o=new Hl(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class t4 extends e4{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}const G0="@firebase/firestore",Q0="4.11.0";class V1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Mp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n4 extends V1{data(){return super.data()}}function i4(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ys extends V1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Mp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:Lt("string",Ys._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class eh extends Ys{data(e={}){return super.data(e)}}class Ll{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new eh(this._firestore,this._userDataWriter,s.key,s,new Il(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:r4(m.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}Ll._jsonSchemaVersion="firestore/querySnapshot/1.0",Ll._jsonSchema={type:Lt("string",Ll._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function s4(r){r=jl(r,Ft);const e=jl(r.firestore,Dp),n=x1(e);return zD(n,r._key).then((s=>l4(e,r,s)))}function a4(r,e,n){r=jl(r,Ft);const s=jl(r.firestore,Dp),o=i4(r.converter,e),u=$D(s);return o4(s,[XD(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,cr.none())])}function o4(r,e){const n=x1(r);return jD(n,e)}function l4(r,e,n){const s=n.docs.get(e._key),o=new t4(r);return new Ys(r,o,e._key,s,new Il(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){VC(mo),io(new Xs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Dp(new UC(s.getProvider("auth-internal")),new BC(f,s.getProvider("app-check-internal")),sI(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),rs(G0,Q0,e),rs(G0,Q0,"esm2020")})();const u4={apiKey:"AIzaSyCAGA-3ns3qFV47KXsFfd97kac_9LhPyhY",authDomain:"permis-online-sync.firebaseapp.com",projectId:"permis-online-sync",storageBucket:"permis-online-sync.firebasestorage.app",messagingSenderId:"653028638132",appId:"1:653028638132:web:028b727230365733a846e1"},L1=IE(u4),ts=MC(L1),K0=FD(L1),P1=new Ni;P1.addScope("repo");const c4=()=>qx(ts,P1),h4=()=>Tx(ts),f4=({progress:r,themesData:e,onBack:n,onReset:s,instantFeedback:o,onToggleInstantFeedback:u,autoPlayAudio:f,onToggleAutoPlayAudio:m})=>{const y=ta(),[g,E]=U.useState(!1),[b,R]=U.useState(!1),L=J=>{const fe=J.bestScore!==void 0?J.bestScore:J.score||0,_e=J.totalQuestions!==void 0?J.totalQuestions:J.total||0;return{score:fe,total:_e}},Y=Object.entries(r).filter(([J])=>J!=="metadata").map(([,J])=>J),$=Y.length,j=Y.reduce((J,fe)=>{const{score:_e,total:D}=L(fe);return{bestScore:J.bestScore+_e,totalQuestions:J.totalQuestions+D}},{bestScore:0,totalQuestions:0}),te=j.bestScore,ee=j.totalQuestions,re=ee>0?Math.round(te/ee*100):0,oe=ee-te,ue=(e.sections||[]).flatMap(J=>J.items||J.themes||[]).filter(J=>J&&J.id&&J.id!=="metadata"&&r[J.id]),he=g?ue.filter(J=>{const{score:fe,total:_e}=L(r[J.id]);return fe<_e}):ue,[x,A]=U.useState(()=>localStorage.getItem("groq_api_key")||""),[C,M]=U.useState(ts.currentUser),[O,k]=U.useState(!1);U.useEffect(()=>{const J=ts.onAuthStateChanged(fe=>{M(fe)});return()=>J()},[]);const I=async()=>{try{R(!0);const J=await c4(),_e=Ni.credentialFromResult(J).accessToken;_e&&localStorage.setItem("github_token",_e)}catch(J){console.error("Login failed:",J),alert("Erreur de connexion : "+J.message)}finally{R(!1)}},Me=async()=>{try{await h4(),localStorage.removeItem("github_token")}catch(J){console.error("Logout failed:",J)}},Be=()=>{x?localStorage.setItem("groq_api_key",x):localStorage.removeItem("groq_api_key"),alert("Cl IA sauvegarde !")},z=async J=>{R(!0);try{let fe=[];try{fe=(await fm(J.file)).questions||[]}catch{fe=(await(await fetch(`data/${J.file}`)).json()).questions||[]}if(fe.length===0){alert("Impossible de charger les questions pour la rvision.");return}const D=r[J.id].answers||[],q=[];if(D.length>0&&D.forEach(ie=>{if(ie&&ie.isCorrect===!1){const ce=fe.find(ge=>ge.id==ie.questionId);ce&&q.push({...ce,originalThemeId:J.id,sourceFile:J.file})}}),q.length===0){alert("Erreur: Impossible de retrouver les questions.");return}y("/quiz/review",{state:{questions:q,title:`Rvision: ${J.name}`,isReview:!0}})}catch(fe){console.error("Erreur rvision:",fe),alert("Erreur lors du chargement de la rvision.")}finally{R(!1)}},se=async()=>{R(!0);try{const J=[],fe=ue.filter(D=>{const{score:q,total:ie}=L(r[D.id]);return q<ie});if(fe.length===0){alert("Aucune faute  rviser !"),R(!1);return}for(const D of fe){let q=[];try{q=(await fm(D.file)).questions||[]}catch{q=(await(await fetch(`data/${D.file}`)).json()).questions||[]}const ce=r[D.id].answers||[];ce.length>0&&ce.forEach(ge=>{if(ge&&ge.isCorrect===!1){const Te=q.find(Oe=>Oe.id==ge.questionId);Te&&J.push({q:Te,a:ge,idx:J.length,themeId:D.id,sourceFile:D.file})}})}if(J.length===0){alert("Aucune erreur trouve dans les sauvegardes.");return}const _e=J.map(D=>({...D.q,originalThemeId:D.themeId,sourceFile:D.sourceFile}));y("/quiz/review",{state:{questions:_e,title:"Rvision des fautes (Global)",isReview:!0}})}catch(J){console.error(J),alert("Erreur lors de la prparation de la rvision globale.")}finally{R(!1)}};return b?w.jsx("div",{className:"page container flex items-center justify-center h-screen",children:"Chargement de la rvision..."}):w.jsxs("div",{className:"page container animate-fade-in",style:{maxWidth:"1200px"},children:[w.jsx("div",{className:"mb-6",children:w.jsxs("button",{onClick:n,className:"btn-ghost flex items-center gap-2",children:[w.jsx(wh,{size:20})," Retour"]})}),w.jsxs("div",{className:"profile-stats-grid",children:[w.jsxs("div",{className:"stat-card",children:[w.jsx("div",{className:"stat-icon primary",children:w.jsx(hm,{size:24})}),w.jsxs("div",{className:"stat-content",children:[w.jsx("div",{className:"stat-label",children:"Moyenne Globale"}),w.jsxs("div",{className:"stat-value",children:[re,"%"]})]})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("div",{className:"stat-icon info",children:w.jsx(Al,{size:24})}),w.jsxs("div",{className:"stat-content",children:[w.jsx("div",{className:"stat-label",children:"Quiz Termins"}),w.jsx("div",{className:"stat-value",children:$})]})]}),w.jsxs("div",{className:"stat-card relative overflow-hidden",children:[w.jsx("div",{className:"stat-icon danger",children:w.jsx(VA,{size:24})}),w.jsxs("div",{className:"stat-content z-10 relative w-full",children:[w.jsx("div",{className:"stat-label",children:"Fautes  revoir"}),w.jsx("div",{className:"stat-value",children:oe}),w.jsxs("div",{className:"flex flex-row items-center justify-between w-full mt-1",children:[w.jsxs("div",{className:"stat-sub",children:[oe," erreurs au total"]}),oe>0&&w.jsxs("button",{onClick:se,className:"btn-primary btn-sm flex items-center gap-1 px-3 py-2",children:[w.jsx(E_,{size:16})," Rviser"]})]})]})]})]}),w.jsxs("div",{className:"profile-content-grid",children:[w.jsxs("div",{className:"card p-6 bg-surface-1 border border-border",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[w.jsx(hA,{size:20})," Historique"]}),w.jsxs("button",{onClick:()=>E(!g),className:`btn-sm flex items-center gap-2 ${g?"btn-danger":"btn-ghost"}`,children:[w.jsx(dA,{size:16})," ",g?"Tout voir":"Voir les fautes"]})]}),w.jsx("div",{className:"theme-history-list",children:he.length===0?w.jsx("div",{className:"text-center text-muted py-8",children:g?"Aucune faute trouve ! Bravo ! ":"Aucun historique disponible. Commencez un quiz !"}):he.map(J=>{const fe=r[J.id],{score:_e,total:D}=L(fe),q=D>0?Math.round(_e/D*100):0;let ie;return q===100?ie="text-success":q>=50?ie="text-warning":ie="text-danger",w.jsxs("div",{className:"theme-history-item flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-medium",children:J.name}),w.jsxs("div",{className:`font-mono font-bold ${ie}`,children:[_e," / ",D," (",q,"%)"]})]}),_e<D&&w.jsxs("button",{onClick:()=>z(J),className:"btn-ghost text-primary btn-sm flex items-center gap-1 hover:bg-primary/10",children:[w.jsx(E_,{size:14})," Rviser"]})]},J.id)})}),Object.keys(r).length>0&&w.jsx("div",{className:"mt-8 pt-6 border-t border-border",children:O?w.jsxs("div",{className:"p-4 border border-danger rounded bg-danger/10 animate-fade-in",children:[w.jsx("p",{className:"text-center mb-3 text-danger font-medium",children:"tes-vous sr ?"}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>k(!1),className:"btn-ghost flex-1 text-sm",children:"Annuler"}),w.jsx("button",{onClick:()=>{s(),k(!1)},className:"btn-primary bg-danger border-danger hover:bg-danger/90 flex-1 text-white text-sm",children:"Confirmer"})]})]}):w.jsxs("button",{onClick:()=>k(!0),className:"btn-ghost text-danger w-full flex items-center justify-center gap-2",children:[w.jsx(__,{size:16})," Rinitialiser la progression"]})})]}),w.jsxs("div",{className:"settings-list",children:[w.jsxs("div",{className:"card p-6 bg-surface-1 border border-border",children:[w.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[w.jsx(CA,{size:20})," Prfrences"]}),w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-semibold",children:"Correction Instantane"}),w.jsx("div",{className:"text-sm text-muted",children:"Voir la rponse juste aprs le clic."})]}),w.jsxs("label",{className:"switch",children:[w.jsx("input",{type:"checkbox",checked:o,onChange:u}),w.jsx("span",{className:"slider round"})]})]}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-semibold",children:"Lecture Audio Auto"}),w.jsx("div",{className:"text-sm text-muted",children:"Lire la question automatiquement."})]}),w.jsxs("label",{className:"switch",children:[w.jsx("input",{type:"checkbox",checked:f,onChange:m}),w.jsx("span",{className:"slider round"})]})]})]}),w.jsxs("div",{className:"card p-6 border-2 border-primary/20 bg-surface-1",children:[w.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-primary",children:[w.jsx(gA,{size:20})," Mode Contributeur"]}),w.jsxs("div",{className:"mb-5",children:[w.jsx("label",{className:"block mb-1.5 font-semibold text-sm",children:"Groq API Key"}),w.jsxs("p",{className:"text-xs text-muted mb-2",children:["Requise pour corrections IA (Llama 3). ",w.jsx("a",{href:"https://console.groq.com/keys",target:"_blank",rel:"noreferrer",className:"text-primary underline",children:"Obtenir une cl"})]}),w.jsx("input",{type:"password",className:"input w-full",value:x,onChange:J=>A(J.target.value),placeholder:"gsk_..."})]}),w.jsxs("div",{className:"mb-6",children:[w.jsxs("label",{className:"block mb-1.5 font-semibold text-sm flex items-center gap-2",children:[w.jsx(v_,{size:16})," Synchronisation GitHub"]}),w.jsx("p",{className:"text-xs text-muted mb-4",children:"Connectez-vous  GitHub pour sauvegarder votre progression automatiquement."}),C?w.jsx("div",{className:"space-y-3",children:w.jsxs("div",{className:"flex items-center justify-between p-3 bg-success/10 rounded-lg text-success text-sm border border-success/20",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[C.photoURL?w.jsx("img",{src:C.photoURL,alt:"",style:{width:"32px",height:"32px",borderRadius:"50%"}}):w.jsx(yE,{size:24}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"font-bold",children:C.displayName||C.email}),w.jsx("span",{className:"text-[10px] opacity-70",children:"Connect via Firebase"})]})]}),w.jsx("button",{onClick:Me,className:"p-1 hover:bg-danger/20 rounded-full text-danger transition-colors",title:"Se dconnecter",children:w.jsx(__,{size:18})})]})}):w.jsxs("button",{onClick:I,className:"btn-secondary w-full flex items-center justify-center gap-2 py-3 border-2 border-primary/20 hover:border-primary/50 transition-all",children:[w.jsx(v_,{size:20})," Se connecter avec GitHub"]})]}),w.jsxs("button",{onClick:Be,className:"btn-primary w-full flex items-center justify-center gap-2",children:[w.jsx(wA,{size:18})," Enregistrer les cls"]})]})]})]}),w.jsx("div",{className:"h-10"})]})},d4=({progress:r,themesData:e,onReset:n,instantFeedback:s,onToggleInstantFeedback:o,autoPlayAudio:u,onToggleAutoPlayAudio:f,toggleTheme:m,isDarkMode:y})=>{const g=ta();return w.jsxs(w.Fragment,{children:[w.jsx(Hm,{showProfileButton:!1,toggleTheme:m,isDarkMode:y}),w.jsx(f4,{progress:r,themesData:e,onBack:()=>g("/"),onReset:n,instantFeedback:s,onToggleInstantFeedback:o,autoPlayAudio:u,onToggleAutoPlayAudio:f})]})},m4='.quiz-next-row{display:grid;grid-template-columns:1fr 1.2fr;gap:18px;margin-top:18px}@media(max-width:880px){.quiz-next-row{grid-template-columns:1fr}}*,*:before,*:after{box-sizing:border-box}html:focus-within{scroll-behavior:smooth}html,body,#root{height:100%}body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Arial,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,sans-serif;line-height:1.5;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}:root{--bg: #0b1020;--bg-elev: #121832;--surface: #151b3a;--surface-2: #1a2248;--text: #e6e9f5;--muted: #aab0c0;--primary: #0ea5e9;--primary-700: #0284c7;--success: #22c55e;--warning: #f59e0b;--danger: #ef4444;--border: #273056;--radius: 12px;--space-1: 6px;--space-2: 10px;--space-3: 14px;--space-4: 18px;--space-5: 24px;--space-6: 32px}[data-theme=light]{--bg: #f7f8fb;--bg-elev: #ffffff;--surface: #ffffff;--surface-2: #f2f4f8;--text: #0f172a;--muted: #475569;--border: #e2e8f0}@media(prefers-color-scheme:light){:root:not([data-theme]){color-scheme:light}}@media(prefers-color-scheme:dark){:root:not([data-theme]){color-scheme:dark}}body{color:var(--text);background:var(--bg);background-attachment:fixed;transition:background-color .3s ease,color .3s ease}#root{display:grid;grid-template-rows:auto 1fr}.container{width:min(1250px,calc(100% - 32px));margin-inline:auto;padding:var(--space-5) 0 var(--space-6)}h1,h2,h3{margin:0 0 var(--space-3);letter-spacing:-.01em}h1{font-size:clamp(26px,2.4vw,36px);font-weight:700}h2{font-size:clamp(20px,2vw,28px);font-weight:600}p{margin:0 0 var(--space-3);color:var(--muted)}.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)}button{--bpad-x: 14px;--bpad-y: 10px;appearance:none;border:1px solid var(--border);background:var(--surface);color:var(--text);padding:var(--bpad-y) var(--bpad-x);border-radius:8px;cursor:pointer;transition:background .15s ease,border-color .15s ease}button:hover{background:var(--bg-elev);border-color:var(--muted)}button:active{background:var(--surface-2)}.btn-primary{background:var(--primary);border-color:var(--primary);color:#fff}.btn-primary:hover{background:var(--primary-700);border-color:var(--primary-700)}.btn-ghost{background:transparent;border-color:transparent;color:var(--muted)}.btn-ghost:hover{color:var(--text);background:var(--surface-2)}.btn-danger{border-color:var(--danger);color:#fff;background:var(--danger)}.btn-danger:hover{background:color-mix(in oklab,var(--danger) 80%,black)}.input,input[type=text],input[type=search]{width:100%;padding:12px 14px;border-radius:8px;border:1px solid var(--border);background:var(--bg-elev);color:var(--text);outline:none}.input::placeholder,input::placeholder{color:var(--muted)}input:focus{border-color:var(--primary)}input[type=checkbox]{accent-color:var(--primary)}.page{padding-top:var(--space-6)}.page .page-title{margin-bottom:var(--space-2)}.search{margin:var(--space-3) 0 var(--space-4)}.search .input{max-width:520px}.actions{display:flex;gap:10px;align-items:center;margin-bottom:var(--space-3)}.theme-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}.theme-btn{width:100%;display:flex;flex-direction:column;align-items:flex-start;padding:14px 16px;text-align:left;gap:4px}.theme-btn .theme-name{font-weight:600}.theme-btn .theme-meta{color:var(--muted);font-size:13px}.quiz{width:min(1250px,calc(100% - 32px));margin:24px auto}.quiz-topbar{display:flex;align-items:center;gap:12px;margin-bottom:var(--space-3)}.quiz-topbar .exit-btn{padding-left:10px;padding-right:10px}.toggle{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:8px;color:var(--muted);border:1px solid transparent}.toggle:hover{border-color:var(--border);background:var(--surface);color:var(--text)}.toggle span{font-size:14px}.question-card{padding:var(--space-5)}.question-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-3)}.question-title{font-weight:700;color:var(--text)}.question-progress{color:var(--muted);font-weight:600}.question-main{display:grid;grid-template-columns:1fr 1.5fr;gap:18px}@media(max-width:880px){.question-main{grid-template-columns:1fr}}.question-image{border-radius:var(--radius);overflow:hidden;border:1px solid var(--border);background:var(--surface);min-height:180px;display:grid;place-items:center}.question-image img{width:100%;height:100%;object-fit:cover;transform:scale(1.08)}.question-image.placeholder{background:var(--surface-2)}.question-text{margin-bottom:var(--space-3);padding:0}.question-text-inner{font-size:1.35rem;font-weight:700;line-height:1.4}.answers{display:grid;gap:10px}.answer-btn{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:16px;text-align:left;padding:12px 16px;border-radius:12px;background:var(--surface);border:2px solid var(--border);color:var(--text);transition:all .2s ease}.answer-btn:hover{background:var(--bg-elev);border-color:var(--muted)}.answer-key{display:grid;place-items:center;width:32px;height:32px;border-radius:8px;background:var(--surface-2);color:var(--muted);font-weight:700;font-size:16px;transition:all .2s ease}.answer-text{font-size:1.05rem;font-weight:500}.answer-check{color:var(--success)}@keyframes pop{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.answer-btn:active{transform:scale(.97)}.answer-btn.correct,.answer-btn.correct.selected{border-color:var(--success);background:#22c55e26;animation:pop .2s cubic-bezier(.175,.885,.32,1.275)}.answer-btn.correct .answer-key,.answer-btn.correct.selected .answer-key{background:var(--success);color:#fff}.answer-btn.correct .answer-text{color:var(--success);font-weight:600}.answer-btn.incorrect{border-color:var(--danger);background:#ef444426;animation:pop .2s cubic-bezier(.175,.885,.32,1.275)}.answer-btn.incorrect .answer-key{background:var(--danger);color:#fff}.answer-btn.selected{border-color:var(--primary);background:#0ea5e926;animation:pop .2s cubic-bezier(.175,.885,.32,1.275)}.answer-btn.selected .answer-key{background:var(--primary);color:#fff}.answer-btn.selected{border-color:var(--primary);background:color-mix(in oklab,var(--primary) 10%,var(--surface))}.answer-btn.dimmed{opacity:.5}.number-wrap{display:grid;gap:8px}.number-field{display:flex;gap:8px;align-items:center}.number-input{flex:1}.number-submit{min-width:64px}.number-field.selected .number-input{border-color:var(--primary)}.number-field.correct .number-input{border-color:var(--success);background:color-mix(in oklab,var(--success) 10%,var(--bg-elev))}.number-field.incorrect .number-input{border-color:var(--danger);background:color-mix(in oklab,var(--danger) 10%,var(--bg-elev))}.number-feedback{color:var(--muted);font-size:14px}.dots-bar{display:grid;place-items:center;margin-top:var(--space-3);color:var(--muted)}.dots{letter-spacing:6px}.explanation{margin-top:var(--space-4);background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:var(--space-4)}.explanation-title{font-weight:600;margin-bottom:6px}.explanation-text{color:var(--muted)}.results{width:min(900px,calc(100% - 32px));margin:24px auto}.results .results-actions{display:flex;gap:10px;margin:12px 0 var(--space-3)}.review .review-item{padding:12px 0}.review hr{border:none;height:1px;background:var(--border);margin:12px 0}.mt-1{margin-top:var(--space-1)}.mt-2{margin-top:var(--space-2)}.mt-3{margin-top:var(--space-3)}.mt-4{margin-top:var(--space-4)}.mt-5{margin-top:var(--space-5)}.muted{color:var(--muted)}.countdown{margin-top:var(--space-3)}.countdown-track{position:relative;height:6px;border-radius:999px;background:var(--surface-2);overflow:hidden}.countdown-fill{position:absolute;inset:0 auto 0 0;width:100%;background:var(--primary);transition:width .1s linear}.question-card.timed-out .answers .answer-btn{opacity:.5;filter:grayscale(1)}.question-card.timed-out .answers .answer-btn:hover{background:var(--surface);border-color:var(--border)}.question-card.timed-out .number-field{opacity:.6}::-webkit-scrollbar{width:10px;height:10px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border);border-radius:5px;border:2px solid var(--bg)}::-webkit-scrollbar-thumb:hover{background:var(--muted)}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in{animation:fadeIn .3s ease-out forwards}.quiz-nav-buttons{display:flex;justify-content:flex-end;gap:16px;align-items:center;margin-top:20px;grid-column:2}@media(max-width:880px){.quiz-nav-buttons{grid-column:1;justify-content:space-between}}.btn-explanation{display:flex;align-items:center;gap:8px;padding:10px 20px;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;background:var(--surface-2);color:var(--primary);border:1px solid var(--border)}.btn-explanation:hover{background:var(--bg-elev);border-color:var(--primary)}.btn-next{padding:10px 24px;font-size:1rem;font-weight:600;background:var(--surface);color:var(--text);border:1px solid var(--border)}.btn-next:hover{background:var(--bg-elev);border-color:var(--muted)}.profile-stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;grid-auto-flow:dense;margin-bottom:40px}@media(max-width:768px){.profile-stats-grid{grid-template-columns:1fr}}.stat-card{background:var(--surface-2);border-radius:var(--radius);padding:24px;display:flex;align-items:center;gap:20px}.stat-icon{width:56px;height:56px;border-radius:16px;display:grid;place-items:center;flex-shrink:0}.stat-icon.primary{background:#0ea5e926;color:var(--primary)}.stat-icon.info{background:#3b82f626;color:#60a5fa}.stat-icon.danger{background:#ef444426;color:var(--danger)}.stat-content{flex:1}.stat-label{font-size:.9rem;color:var(--muted);margin-bottom:4px;font-weight:500}.stat-value{font-size:2.2rem;font-weight:700;line-height:1;color:var(--text)}.stat-sub{font-size:.85rem;color:var(--muted);margin-top:4px}.profile-content-grid{display:grid;grid-template-columns:1fr 380px;gap:40px;align-items:start}@media(max-width:1024px){.profile-content-grid{grid-template-columns:1fr}}.theme-history-list{display:flex;flex-direction:column;gap:12px}.theme-history-item{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:var(--surface-2);border-radius:var(--radius);transition:transform .2s ease}.theme-history-item:hover{transform:translate(4px);background:var(--bg-elev)}.settings-list{display:flex;flex-direction:column;gap:24px}.switch{position:relative;display:inline-block;width:44px;height:24px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;inset:0;background-color:var(--surface-2);border:1px solid var(--border);transition:.4s;border-radius:34px}.slider:before{position:absolute;content:"";height:18px;width:18px;left:2px;bottom:2px;background-color:var(--muted);transition:.4s;border-radius:50%}input:checked+.slider{background-color:var(--primary);border-color:var(--primary)}input:checked+.slider:before{transform:translate(20px);background-color:#fff}.flex{display:flex}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-2{gap:8px}.gap-3{gap:12px}.gap-4{gap:16px}.gap-6{gap:24px}.gap-8{gap:32px}.p-4{padding:16px}.p-5{padding:20px}.p-6{padding:24px}.p-8{padding:32px}.pt-6{padding-top:24px}.m-0{margin:0}.mb-1{margin-bottom:4px}.mb-2{margin-bottom:8px}.mb-3{margin-bottom:12px}.mb-4{margin-bottom:16px}.mb-5{margin-bottom:20px}.mb-6{margin-bottom:24px}.mt-8{margin-top:32px}.ml-2{margin-left:8px}.w-full{width:100%}.h-10{height:40px}.text-center{text-align:center}.text-sm{font-size:.875rem}.text-xs{font-size:.75rem}.text-xl{font-size:1.25rem}.text-2xl{font-size:1.5rem}.text-3xl{font-size:1.875rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.font-medium{font-weight:500}.border-none{border:none}.border-t{border-top:1px solid var(--border)}.text-primary{color:var(--primary)}.text-danger{color:var(--danger)}.text-success{color:var(--success)}.text-warning{color:var(--warning)}.text-muted{color:var(--muted)}.text-white{color:#fff}.underline{text-decoration:underline}.block{display:block}.toast-notification{position:fixed;top:24px;left:50%;transform:translate(-50%);background:var(--surface-1);border:1px solid var(--border);border-left:4px solid var(--success);padding:16px 20px;border-radius:8px;box-shadow:0 4px 12px #00000026;display:flex;align-items:center;gap:12px;z-index:9999;animation:slideDown .3s ease-out forwards;max-width:90%;width:max-content}.toast-notification a{color:var(--primary);text-decoration:underline;font-weight:500}@keyframes slideDown{0%{transform:translate(-50%,-100%);opacity:0}to{transform:translate(-50%);opacity:1}}',p4=({lessonFile:r,onBack:e,theme:n})=>{const[s,o]=qd.useState(""),[u,f]=qd.useState(!0);return qd.useEffect(()=>((async()=>{f(!0);try{const E=await(await fetch(`/permis-online-free/lecon/${r}`)).text(),R=new DOMParser().parseFromString(E,"text/html");R.documentElement.setAttribute("data-theme",n);const L=R.createElement("style");L.textContent=m4+`
                    /* Ensure text color is inherited everywhere */
                    body, p, h1, h2, h3, h4, h5, h6, li, td, span, div {
                        color: inherit;
                    }
                    /* Custom classes from lessons */
                    .box-yellow {
                        background-color: color-mix(in oklab, var(--warning) 10%, transparent);
                        border: 1px solid var(--warning);
                        padding: 15px;
                        border-radius: 8px;
                        margin: 15px 0;
                    }
                    .red, .text-red {
                        color: var(--danger) !important;
                    }
                    .subtitle {
                        color: var(--primary);
                        font-weight: 600;
                        margin-bottom: 5px;
                    }

                    .lesson-video {
                        width: 100%;
                        aspect-ratio: 16 / 9;
                        height: auto;
                        border-radius: 8px;
                        display: block;
                        margin: 20px 0;
                        border: none;
                    }

                    /* Scrollbar styling */
                    ::-webkit-scrollbar {
                        width: 10px;
                        height: 10px;
                    }
                    ::-webkit-scrollbar-track {
                        background: transparent;
                    }
                    ::-webkit-scrollbar-thumb {
                        background: var(--border);
                        border-radius: 5px;
                        border: 2px solid var(--bg);
                    }
                    ::-webkit-scrollbar-thumb:hover {
                        background: var(--muted);
                    }

                    img {
                        max-width: 100%;
                        height: auto;
                        display: inline-block;
                        border-radius: 8px;
                        margin-right: 4px;
                        vertical-align: middle;
                    }
                    /* Use specific styling for the layout tables */
                    .lesson-detail-table {
                        width: 100%;
                        border-collapse: separate;
                        border-spacing: 0 10px;
                    }
                    .lesson-detail-table td {
                        vertical-align: top;
                        padding: 10px;
                        background: color-mix(in oklab, var(--surface) 50%, transparent);
                        border-radius: 8px;
                    }
                    /* Force the image column (first column) to a fixed width container */
                    .lesson-detail-table td:first-child {
                        width: 280px;
                        min-width: 280px;
                        vertical-align: top;
                    }
                    /* Use flexbox on P tags to handle multiple images side-by-side in the first column */
                    .lesson-detail-table td:first-child p {
                        display: flex;
                        flex-wrap: wrap;
                        justify-content: center;
                        gap: 8px;
                        margin: 0 0 8px 0;
                    }
                    /* Images are flex items in first col, but inline-block elsewhere */
                    .lesson-detail-table img {
                        flex: 1 1 120px; 
                        max-width: 100%;
                        width: auto;
                        height: auto;
                        max-height: 180px; 
                        object-fit: contain;
                        background-color: transparent;
                        display: inline-block;
                        margin-right: 4px;
                    }
                    /* Clean up paragraphs with no images if needed, or links */
                    .lesson-detail-table td:first-child a {
                        display: contents; 
                    }
                    /* Sign tables (usually 3 columns) should not be forced */
                    .lesson-signs-3-columns td {
                        text-align: center;
                        padding: 10px;
                    }
                    .lesson-signs-3-columns img {
                        max-height: 150px;
                        width: auto;
                        margin: 0 auto;
                    }
                    
                    /* Body styling */
                    body {
                        max-width: 1100px;
                        margin: 0 auto;
                        padding: 20px;
                        background-color: var(--bg);
                        color: var(--text);
                        overflow-y: auto; /* Allow scrolling inside iframe body */
                    }

                    /* Mobile Responsive for Lesson Content */
                    @media (max-width: 600px) {
                        body {
                            padding: 12px;
                        }
                        .lesson-detail-table, .lesson-detail-table tbody, .lesson-detail-table tr, .lesson-detail-table td {
                            display: block;
                            width: 100% !important;
                            min-width: 0 !important;
                            box-sizing: border-box;
                        }
                        .lesson-detail-table td:first-child {
                            width: 100%;
                            min-width: 0;
                            margin-bottom: 15px;
                            border-bottom: 1px solid var(--border);
                            padding-bottom: 15px;
                        }
                        .lesson-detail-table img {
                            max-height: 200px;
                            width: auto;
                            margin: 0 auto;
                            display: block;
                        }
                        .lesson-detail-table td:first-child p {
                            justify-content: center;
                        }
                    }
                `,R.head.appendChild(L);const Y=R.body.getElementsByTagName("img");for(let oe of Y){const ue=oe.getAttribute("src");ue&&ue.startsWith("uploads/")&&(oe.src=`https://www.permisdeconduire-online.be/${ue}`)}const $=R.body.getElementsByTagName("iframe");for(let oe of $)oe.setAttribute("allowfullscreen","true"),oe.setAttribute("mozallowfullscreen","true"),oe.setAttribute("webkitallowfullscreen","true"),oe.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),oe.classList.contains("lesson-video")||oe.classList.add("lesson-video");const te=Array.from(R.body.getElementsByTagName("h2")).find(oe=>oe.textContent.trim()==="Exercices"||oe.textContent.trim()==="Les examens");if(te){const oe=te.previousElementSibling;oe&&oe.tagName==="HR"&&oe.remove();let ue=te;for(;ue;){const he=ue.nextElementSibling;ue.remove(),ue=he}}const re=Array.from(R.body.getElementsByTagName("a")).find(oe=>oe.textContent.includes("Retour  la page prcdente"));re&&(re.closest("div.align-center")||re).remove(),o(R.documentElement.outerHTML),f(!1)}catch(y){console.error("Failed to load lesson:",y),o("<p>Erreur lors du chargement de la leon.</p>"),f(!1)}})(),document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[r,n]),w.jsxs("div",{className:"lesson-viewer",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:100,backgroundColor:"var(--bg)",display:"flex",flexDirection:"column"},children:[w.jsxs("div",{className:"actions",style:{padding:"12px 20px",borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",backgroundColor:"var(--surface)",gap:"16px"},children:[w.jsxs("button",{className:"btn-ghost",onClick:e,style:{border:"1px solid var(--border)",display:"flex",alignItems:"center",gap:"6px"},children:[w.jsx(wh,{size:16})," Retour"]}),w.jsx("span",{style:{fontWeight:600,fontSize:"1.1rem"},children:"Leon"})]}),w.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden",position:"relative"},children:[w.jsx("div",{style:{opacity:u?1:0,position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",transition:"opacity 0.2s"},children:"Chargement..."}),w.jsx("iframe",{srcDoc:s,title:"Leon",style:{width:"100%",height:"100%",border:"none",opacity:u?0:1,transition:"opacity 0.3s ease-in-out"}})]})]})},g4=({themeMode:r})=>{const{lessonId:e}=aE(),n=ta(),s=decodeURIComponent(e);return w.jsx(p4,{lessonFile:s,onBack:()=>n("/"),theme:r})};function y4(){U.useEffect(()=>{console.log(" Permis Online Free - Version 1.5 (Score Fix + Interaction Lock)")},[]);const[r,e]=U.useState([]),[n,s]=U.useState({}),[o,u]=U.useState("light"),[f,m]=U.useState(!1),[y,g]=U.useState(!1),[E,b]=U.useState(null),R=U.useRef(!1),L=U.useRef(null);U.useEffect(()=>{const x=localStorage.getItem("theme");if(x){u(x),document.documentElement.setAttribute("data-theme",x);return}const A=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u(A),document.documentElement.setAttribute("data-theme",A)},[]),U.useEffect(()=>{const x=window.location.hash.replace("#","")||"/";let A="Permis Online Free";x.startsWith("/quiz")?A="Quiz - Permis Online Free":x.startsWith("/resultats")?A="Rsultats - Permis Online Free":x==="/profil"?A="Mon Profil - Permis Online Free":x.startsWith("/lecon")&&(A="Leon - Permis Online Free"),document.title=A},[]);const Y=()=>{const x=o==="light"?"dark":"light";u(x),document.documentElement.setAttribute("data-theme",x),localStorage.setItem("theme",x)},$=()=>{const x=!f;m(x),localStorage.setItem("instantFeedback",JSON.stringify(x))},j=()=>{const x=!y;g(x),localStorage.setItem("autoPlayAudio",JSON.stringify(x))};U.useEffect(()=>{(async()=>{try{const k=await KA();k&&k.sections&&e(k.sections)}catch(k){console.error("Failed to load themes index",k)}})();const A=localStorage.getItem("quizProgress");A&&s(JSON.parse(A));const C=localStorage.getItem("instantFeedback");C&&m(JSON.parse(C));const M=localStorage.getItem("autoPlayAudio");M&&g(JSON.parse(M));const O=ts.onAuthStateChanged(async k=>{k&&(console.log(" User logged in:",k.displayName||k.email),oe())});return()=>O()},[]),U.useEffect(()=>{localStorage.setItem("quizProgress",JSON.stringify(n)),R.current&&(R.current=!1,ts.currentUser&&(L.current&&clearTimeout(L.current),b("pending"),L.current=setTimeout(()=>{re(n)},2500)))},[n]);const te=(x,A,C,M)=>{R.current=!0,s(O=>{const{metadata:k,...I}=O;return{...I,metadata:k||{},[x]:{score:A,total:C,date:new Date().toISOString(),answers:M}}})},ee=(x,A)=>{R.current=!0,s(C=>{if(!C[x])return C;const M=C[x],k=(M.answers||[]).map(z=>{const se=A.find(J=>J.questionId==z.questionId);return se||z});A.forEach(z=>{k.find(se=>se.questionId==z.questionId)||k.push(z)});const I=k.filter(z=>z.isCorrect).length,{metadata:Me,...Be}=C;return{...Be,metadata:Me||{},[x]:{...M,answers:k,score:I,date:new Date().toISOString()}}})},re=async x=>{try{const A=ts.currentUser;if(!A)return;b("syncing"),console.log(` Auto-syncing to Firestore (${A.uid})...`),await a4(B0(K0,"users",A.uid),x),console.log(" Auto-sync complete!"),b("success"),setTimeout(()=>b(null),3e3)}catch(A){console.error(" Auto-sync failed:",A),b("error"),setTimeout(()=>b(null),5e3)}},oe=async()=>{try{const x=ts.currentUser;if(!x)return;b("syncing"),console.log(` Auto-pulling from Firestore (${x.uid})...`);const A=await s4(B0(K0,"users",x.uid));if(!A.exists()){console.log(" No remote data found."),b(null);return}const C=A.data(),M=JSON.parse(localStorage.getItem("quizProgress")||"{}"),O=C.metadata?.lastResetAll,k=M.metadata?.lastResetAll;if(O){const z=new Date(O).getTime(),se=k?new Date(k).getTime():0,J=Object.entries(M).reduce((fe,[_e,D])=>{if(_e==="metadata"||!D||!D.date)return fe;const q=new Date(D.date).getTime();return Math.max(fe,q)},0);if(z>se&&z>J){console.log(" Remote Reset detected. Clearing local progress."),s(C),localStorage.setItem("quizProgress",JSON.stringify(C)),b("success"),setTimeout(()=>b(null),3e3);return}}const{metadata:I,...Me}=C,Be={...M};if(O){const z=new Date(O).getTime(),se=k?new Date(k).getTime():0;z>se&&(Be.metadata={...Be.metadata,lastResetAll:O})}Object.keys(Me).forEach(z=>{const se=Me[z],J=Be[z];if(!se)return;const fe=se.date?new Date(se.date).getTime():0,_e=J&&J.date?new Date(J.date).getTime():0;(!J||fe>_e||fe===_e&&se.score>(J.score||0))&&(Be[z]=se)}),s(Be),localStorage.setItem("quizProgress",JSON.stringify(Be)),b("success"),console.log(" Auto-pull complete!"),setTimeout(()=>b(null),3e3)}catch(x){console.error(" Auto-pull failed:",x),b("error"),setTimeout(()=>b(null),5e3)}},ue=()=>{if(window.confirm("tes-vous sr de vouloir rinitialiser toute votre progression sur TOUS vos appareils ?")){const x={metadata:{lastResetAll:new Date().toISOString()}};R.current=!0,s(x),localStorage.setItem("quizProgress",JSON.stringify(x))}};window.debugApp={sections:r,progress:n,resetProgress:()=>{s({}),localStorage.removeItem("quizProgress"),console.log("Progress reset")}};const he=o==="dark";return w.jsxs(Gw,{basename:"/permis-online-free/",children:[E&&w.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",background:E==="error"?"var(--danger)":"var(--surface-1)",color:E==="error"?"white":"var(--foreground)",padding:"12px 20px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:1e4,display:"flex",alignItems:"center",gap:"10px",border:"1px solid var(--border)",fontWeight:"500",animation:"slideUp 0.3s ease-out"},children:[E==="syncing"&&w.jsx("span",{children:" Synchronisation..."}),E==="pending"&&w.jsx("span",{style:{opacity:.7},children:" En attente..."}),E==="success"&&w.jsx("span",{style:{color:"var(--success)"},children:" Synchronis !"}),E==="error"&&w.jsx("span",{children:" Erreur de synchronisation"})]}),w.jsxs(bw,{children:[w.jsx(Hs,{path:"/",element:w.jsx(BA,{sections:r,progress:n,toggleTheme:Y,isDarkMode:he})}),w.jsx(Hs,{path:"/profil",element:w.jsx(d4,{progress:n,themesData:{sections:r},onReset:ue,instantFeedback:f,onToggleInstantFeedback:$,autoPlayAudio:y,onToggleAutoPlayAudio:j,toggleTheme:Y,isDarkMode:he})}),w.jsx(Hs,{path:"/lecon/:lessonId",element:w.jsx(g4,{themeMode:o})}),w.jsx(Hs,{path:"/quiz/:themeId",element:w.jsx(YA,{sections:r,onFinishQuiz:te,onPatchProgress:ee,instantFeedback:f,autoPlayAudio:y,toggleTheme:Y,isDarkMode:he})}),w.jsx(Hs,{path:"/revision",element:w.jsx(T_,{toggleTheme:Y,isDarkMode:he})}),w.jsx(Hs,{path:"/resultats",element:w.jsx(T_,{toggleTheme:Y,isDarkMode:he})})]})]})}console.log("APP VERSION: 2026-02-10 14:30 - Fixed single_choice & Logic");wS.createRoot(document.getElementById("root")).render(w.jsx(U.StrictMode,{children:w.jsx(y4,{})}));export{v4 as c,mS as g};
